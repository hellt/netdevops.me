<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Applying DevOps to networks."><meta name=author content="Roman Dodin"><link href=https://netdevops.me/2015/nokia-alcatel-lucent-sros-ospf-configuration-tutorial/ rel=canonical><link rel=alternate type=application/rss+xml title="RSS feed" href=../../feed_rss_created.xml><link rel=alternate type=application/rss+xml title="RSS feed of updated content" href=../../feed_rss_updated.xml><link rel=icon href=../../assets/images/code.svg><meta name=generator content="mkdocs-1.4.2, mkdocs-material-8.5.10+insiders-4.26.2"><title>Nokia (Alcatel-Lucent) SROS OSPF configuration tutorial - Applying DevOps to networks</title><link rel=stylesheet href=../../assets/stylesheets/main.7b4d9e6f.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.08040f6c.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CFira+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Google Sans";--md-code-font:"Fira Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-Y7R34KCT4N"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-Y7R34KCT4N",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-Y7R34KCT4N",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#nokia-alcatel-lucent-sros-ospf-configuration-tutorial class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <a href=https://twitter.com/ntdvps> For updates follow <strong>@ntdvps</strong> on <span class="twemoji twitter"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </span> <strong>Twitter</strong> </a> </div> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Applying DevOps to networks" class="md-header__button md-logo" aria-label="Applying DevOps to networks" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Applying DevOps to networks </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Nokia (Alcatel-Lucent) SROS OSPF configuration tutorial </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=cyan aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hellt/netdevops.me title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hellt/netdevops.me </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class="md-tabs__link md-tabs__link--active"> Blog </a> </li> <li class=md-tabs__item> <a href=../../tags/ class=md-tabs__link> Tags </a> </li> <li class=md-tabs__item> <a href=../../subscribe/ class=md-tabs__link> Subscribe </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Applying DevOps to networks" class="md-nav__button md-logo" aria-label="Applying DevOps to networks" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg> </a> Applying DevOps to networks </label> <div class=md-nav__source> <a href=https://github.com/hellt/netdevops.me title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hellt/netdevops.me </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=../.. class="md-nav__link "> <span class=md-ellipsis> Blog </span> </a> </div> <nav class=md-nav aria-label=Blog data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../../tags/ class=md-nav__link> <span class=md-ellipsis> Tags </span> </a> </li> <li class=md-nav__item> <a href=../../subscribe/ class=md-nav__link> <span class=md-ellipsis> Subscribe </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#single-area-ospf class=md-nav__link> <span class=md-ellipsis> Single-area OSPF </span> </a> <nav class=md-nav aria-label="Single-area OSPF"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#enabling-ospf class=md-nav__link> <span class=md-ellipsis> Enabling OSPF </span> </a> </li> <li class=md-nav__item> <a href=#router-id class=md-nav__link> <span class=md-ellipsis> Router ID </span> </a> </li> <li class=md-nav__item> <a href=#configuring-backbone-area class=md-nav__link> <span class=md-ellipsis> Configuring Backbone Area </span> </a> </li> <li class=md-nav__item> <a href=#configuring-ospf-interfaces class=md-nav__link> <span class=md-ellipsis> Configuring OSPF interfaces </span> </a> </li> <li class=md-nav__item> <a href=#verification class=md-nav__link> <span class=md-ellipsis> Verification </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#multi-area-ospf class=md-nav__link> <span class=md-ellipsis> Multi-area OSPF </span> </a> <nav class=md-nav aria-label="Multi-area OSPF"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#examining-multi-area-lsdb class=md-nav__link> <span class=md-ellipsis> Examining Multi-area LSDB </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ospf-routes-propagation class=md-nav__link> <span class=md-ellipsis> OSPF routes propagation </span> </a> </li> <li class=md-nav__item> <a href=#ospf-route-summarization class=md-nav__link> <span class=md-ellipsis> OSPF Route Summarization </span> </a> </li> <li class=md-nav__item> <a href=#ospf-route-filtering-on-abr class=md-nav__link> <span class=md-ellipsis> OSPF Route filtering on ABR </span> </a> </li> <li class=md-nav__item> <a href=#asbr-and-ospf-route-redistribution class=md-nav__link> <span class=md-ellipsis> ASBR and OSPF Route Redistribution </span> </a> <nav class=md-nav aria-label="ASBR and OSPF Route Redistribution"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#verifying-redistributed-routes-propagation class=md-nav__link> <span class=md-ellipsis> Verifying redistributed routes propagation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ospf-stub-area class=md-nav__link> <span class=md-ellipsis> OSPF Stub Area </span> </a> </li> <li class=md-nav__item> <a href=#ospf-totally-stub-area class=md-nav__link> <span class=md-ellipsis> OSPF Totally Stub Area </span> </a> </li> <li class=md-nav__item> <a href=#not-so-stubby-area-nssa class=md-nav__link> <span class=md-ellipsis> Not So Stubby Area (NSSA) </span> </a> </li> <li class=md-nav__item> <a href=#totally-nssa class=md-nav__link> <span class=md-ellipsis> Totally NSSA </span> </a> </li> <li class=md-nav__item> <a href=#debugging-ospf-adjacency-issues class=md-nav__link> <span class=md-ellipsis> Debugging OSPF adjacency issues </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class=md-nav> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../.. class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <div class="md-post__authors md-typeset"> <div class="md-profile md-post__profile"> <span class="md-author md-author--long"> <img src=https://avatars.githubusercontent.com/u/5679861 alt="Roman Dodin"> </span> <span class=md-profile__description> <strong>Roman Dodin</strong><br> Network Automater </span> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__title"> <div class=md-nav__link> <span class=md-ellipsis> Metadata </span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg> <time datetime="2015-06-22 00:00:00" class=md-ellipsis>June 22, 2015</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7h1.5Z"/></svg> <span class=md-ellipsis> 37 min read </span> </div> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <nav class=md-tags> <a href=../../tags/#sr-os class=md-tag>sr os</a> <a href=../../tags/#nokia class=md-tag>nokia</a> <a href=../../tags/#ospf class=md-tag>ospf</a> </nav> <a href=https://github.com/hellt/netdevops.me/edit/master/blog/posts/noshut/2015-06-22-alcatel-lucent-ospf-configuration-tutorial.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <h1 id=nokia-alcatel-lucent-sros-ospf-configuration-tutorial>Nokia (Alcatel-Lucent) SROS OSPF configuration tutorial<a class=headerlink href=#nokia-alcatel-lucent-sros-ospf-configuration-tutorial title="Permanent link">#</a></h1> <p>The purpose of this post is to cover basic <a href=https://datatracker.ietf.org/doc/html/rfc2328>OSPFv2</a> configuration steps and commands for Nokia SROS routers. Intended readers are engineers with basic OSPF knowledge who want to know how to configure OSPF on Alcatel-Lucent Service Routers (7750-SR, 7705-SR, 7210-SR).</p> <p>All examples are valid for <code>TiMOS-B-12.0.R8</code> software.</p> <!-- more --> <h2 id=single-area-ospf>Single-area OSPF<a class=headerlink href=#single-area-ospf title="Permanent link">#</a></h2> <p>Basic OSPF protocol configuration in a single area consists of the following steps:</p> <ol> <li>Enable OSPF globally</li> <li>Configure router with OSPF <em>Router ID</em></li> <li>Configure backbone OSPF <em>Area 0</em></li> <li>Include interfaces in <em>Area 0</em></li> </ol> <p>The following network topology will be used throughout this tutorial:</p> <p><img class=aligncenter src=http://img-fotki.yandex.ru/get/9739/21639405.11b/0_83cb2_d11bc8dc_XL.png alt width=530 height=705></p> <h3 id=enabling-ospf>Enabling OSPF<a class=headerlink href=#enabling-ospf title="Permanent link">#</a></h3> <p>To enable OSPF on a router simply issue <code>configure router ospf</code> command. This will start OSPF process #0 on a router. If you would like to run another separate OSPF process on the same router, use <code>configure router ospf &lt;N&gt;</code>, where <em>N</em> is a decimal number of the desired OSPF process.</p> <h3 id=router-id>Router ID<a class=headerlink href=#router-id title="Permanent link">#</a></h3> <p>Each router running OSPF should have an unique 32-bit identifier, namely <strong>Router ID</strong>. This identifier will be equal to the first configured value in the following prioritized:</p> <ol> <li><code>router-id</code> value configured globally for a router</li> <li><code>system</code> interface IPv4 address value</li> <li>the last 32 bits of the chassis MAC address</li> </ol> <p>Configuring router-id explicitly:</p> <div class=highlight><pre><span></span><code>*A:R1# configure router router-id
  - no router-id
  - router-id  &lt;ip-address&gt;

  &lt;ip-address&gt;         : a.b.c.d

*A:R1# configure router router-id 2.2.2.2
</code></pre></div> <p>Use <code>show router ospf status</code> command to check Router ID current value and OSPF status:</p> <div class=highlight><pre><span></span><code>*A:R1# show router ospf status

===============================================================================
OSPFv2 (0) Status
===============================================================================
OSPF Cfg Router Id           : 0.0.0.0
OSPF Oper Router Id          : 1.1.1.1    # Router ID inherited from System IPv4 address
OSPF Version                 : 2
OSPF Admin Status            : Enabled    # OSPF administratively enabled
OSPF Oper Status             : Enabled    # OSPF is operating

&lt;output omitted&gt;
</code></pre></div> <h3 id=configuring-backbone-area>Configuring Backbone Area<a class=headerlink href=#configuring-backbone-area title="Permanent link">#</a></h3> <p>Are configuration is done in the OSPF configuration context with <code>area</code> command:</p> <div class=highlight><pre><span></span><code>A:R1&gt;config&gt;router&gt;ospf# area
  - area  &lt;area-id&gt;
  - no area  &lt;area-id&gt;

  &lt;area-id&gt;            :  &lt;ip-address&gt; |  [0..4294967295]
</code></pre></div> <p>Area ID can be set either as decimal (<code>area 0</code>) or in dotted-decimal format (<code>area 0.0.0.0</code>).</p> <p>It is easier to enable OSPF and set the Area ID in a single sweep:</p> <div class=highlight><pre><span></span><code># This command will enable OSPF process (it is disabled by default) and configure Area 0 on this router.

A:R1# configure router ospf area 0
</code></pre></div> <p>To check all the configured areas on a router use <code>show router ospf area</code> command:</p> <div class=highlight><pre><span></span><code>A:R1# show router ospf area

==================================================================
OSPFv2 (0) all areas
==================================================================
Area Id         Type        SPF Runs    LSA Count   LSA Cksum Sum
------------------------------------------------------------------
0.0.0.0         Standard    2           1           0xcaf7
------------------------------------------------------------------
No. of OSPF Areas: 1
==================================================================
</code></pre></div> <h3 id=configuring-ospf-interfaces>Configuring OSPF interfaces<a class=headerlink href=#configuring-ospf-interfaces title="Permanent link">#</a></h3> <p>Once the <em>backbone area</em> is configured its time to add some interfaces to it with <code>interface &lt;interface_name&gt;</code> command.</p> <div class=highlight><pre><span></span><code><span class=c># Entering to OSPF Area 0 configuration context</span>
*A:R1# configure router ospf area <span class=m>0</span>

<span class=c># Adding system interface to OSPF process</span>
*A:R1&gt;config&gt;router&gt;ospf&gt;area# interface <span class=s2>&quot;system&quot;</span>
*A:R1&gt;config&gt;router&gt;ospf&gt;area&gt;if$ back

<span class=c># Adding interface toR2 and configuring it with point-to-point type</span>
<span class=c># By default, ethernet interfaces use Broadcast interface type </span>
*A:R1&gt;config&gt;router&gt;ospf&gt;area# interface <span class=s2>&quot;toR2&quot;</span>
*A:R1&gt;config&gt;router&gt;ospf&gt;area&gt;if$ interface-type point-to-point
*A:R1&gt;config&gt;router&gt;ospf&gt;area&gt;if$ back
*A:R1&gt;config&gt;router&gt;ospf&gt;area# back

<span class=c># This configuration steps effectively lead us to this OSPF configuration for router R1</span>
*A:R1&gt;config&gt;router&gt;ospf# info
----------------------------------------------
            area <span class=m>0</span>.0.0.0
                interface <span class=s2>&quot;system&quot;</span>
                    no shutdown
                exit
                interface <span class=s2>&quot;toR2&quot;</span>
                    interface-type point-to-point
                    no shutdown
                exit
            exit
            no shutdown
----------------------------------------------
</code></pre></div> <p>To check that OSPF interfaces were configured properly by evaluating their status use:</p> <div class=highlight><pre><span></span><code>*A:R1# show router ospf interface

===============================================================================
OSPFv2 (0) all interfaces
===============================================================================
If Name               Area Id         Designated Rtr  Bkup Desig Rtr  Adm  Oper
-------------------------------------------------------------------------------
system                0.0.0.0         1.1.1.1         0.0.0.0         Up   DR
toR2                  0.0.0.0         0.0.0.0         0.0.0.0         Up   PToP
-------------------------------------------------------------------------------
No. of OSPF Interfaces: 2
===============================================================================
</code></pre></div> <p>Repeat the same configuration steps to include all interfaces to <em>OSPF Area 0</em> for the other backbone routers R2, R3, R4 and you will end up with a fully configured <em>OSPF Backbone Area</em>.</p> <h3 id=verification>Verification<a class=headerlink href=#verification title="Permanent link">#</a></h3> <p>Finally its time to check that our routers have established the neighboring relationships:</p> <div class=highlight><pre><span></span><code>A:R1# show router ospf neighbor

===============================================================================
OSPFv2 (0) all neighbors
===============================================================================
Interface-Name                   Rtr Id          State      Pri  RetxQ   TTL
   Area-Id
-------------------------------------------------------------------------------
toR2                             2.2.2.2         Full       1    0       33
   0.0.0.0
toR3                             3.3.3.3         Full       1    0       39
   0.0.0.0
-------------------------------------------------------------------------------
No. of Neighbors: 2
===============================================================================
</code></pre></div> <p>One of the most useful OSPF verification commands is <code>show router ospf database</code>. This command shows all the <em>Links State Advertisements</em> (LSA) and helps the engineer to troubleshoot OSPF-related issues.</p> <div class=highlight><pre><span></span><code>A:R1# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.0         1.1.1.1         1.1.1.1         873  0x8000000b 0x4dd5
Router  0.0.0.0         2.2.2.2         2.2.2.2         561  0x80000006 0x1c2b
Router  0.0.0.0         3.3.3.3         3.3.3.3         879  0x80000008 0x6d94
Router  0.0.0.0         4.4.4.4         4.4.4.4         1588 0x80000005 0x94ec
-------------------------------------------------------------------------------
No. of LSAs: 4
===============================================================================
</code></pre></div> <p>You can query OSPF database for a specific LSAs by augmenting the above mentioned command:</p> <div class=highlight><pre><span></span><code>A:R1# show router ospf database
  - database [type {router|network|summary|asbr-summary|external|nssa|all}]
    [area  &lt;area-id&gt;] [adv-router  &lt;router-id&gt;] [ &lt;link-state-id&gt;] [detail]

  &lt;router|network|su*&gt; : keywords - specify database type
  &lt;area-id&gt;            : ip-address - a.b.c.d
                        area - [0..4294967295]
  &lt;router-id&gt;          : a.b.c.d
  &lt;link-state-id&gt;      : a.b.c.d
  &lt;detail&gt;             : keyword - displays detailed information
</code></pre></div> <h2 id=multi-area-ospf>Multi-area OSPF<a class=headerlink href=#multi-area-ospf title="Permanent link">#</a></h2> <p>Basic Multi-area OSPF configuration is straightforward as well. I added two more routers to the topology and introduced two areas: Area 1 and Area 2.</p> <p><img alt=pic src=http://img-fotki.yandex.ru/get/6828/21639405.11b/0_83cb9_73aa3ab3_orig.png></p> <p><small>I mistyped the port numbers for R5-R1 and R6-R2 pairs, it should be 1/1/4. Though this wont affect the course of this tutorial in anyway.</small></p> <p>We will start by configuring <code>Area 1</code> on routers R5 and R1 using the same commands we used for single-area OSPF configuration.</p> <p>R5 configuration:</p> <div class=highlight><pre><span></span><code><span class=c># Creating Area 1 on R5 and adding &quot;system&quot; and &quot;toR1&quot; interfaces</span>
A:R5# configure router ospf area <span class=m>1</span>
*A:R5&gt;config&gt;router&gt;ospf&gt;area$ interface <span class=s2>&quot;toR1&quot;</span> interface-type point-to-point
*A:R5&gt;config&gt;router&gt;ospf&gt;area$ interface <span class=s2>&quot;system&quot;</span>


<span class=c># Verifying created Area 1 and its interfaces</span>
*A:R5# show router ospf interface

<span class=o>===============================================================================</span>
OSPFv2 <span class=o>(</span><span class=m>0</span><span class=o>)</span> all interfaces
<span class=o>===============================================================================</span>
If Name               Area Id         Designated Rtr  Bkup Desig Rtr  Adm  Oper
-------------------------------------------------------------------------------
system                <span class=m>0</span>.0.0.1         <span class=m>5</span>.5.5.5         <span class=m>0</span>.0.0.0         Up   DR
toR1                  <span class=m>0</span>.0.0.1         <span class=m>0</span>.0.0.0         <span class=m>0</span>.0.0.0         Up   PToP
-------------------------------------------------------------------------------
No. of OSPF Interfaces: <span class=m>2</span>
<span class=o>===============================================================================</span>
</code></pre></div> <p>R1 configuration</p> <div class=highlight><pre><span></span><code><span class=c># Creating Area 1 on R1 (ABR) and adding &quot;toR5&quot; interface to it.</span>

*A:R1# configure router ospf area <span class=m>1</span>
*A:R1&gt;config&gt;router&gt;ospf&gt;area$ interface <span class=s2>&quot;toR5&quot;</span> interface-type point-to-point


<span class=c># Verifying created Area 1 and its interfaces</span>
*A:R1# show router ospf interface

<span class=o>===============================================================================</span>
OSPFv2 <span class=o>(</span><span class=m>0</span><span class=o>)</span> all interfaces
<span class=o>===============================================================================</span>
If Name               Area Id         Designated Rtr  Bkup Desig Rtr  Adm  Oper
-------------------------------------------------------------------------------
system                <span class=m>0</span>.0.0.0         <span class=m>1</span>.1.1.1         <span class=m>0</span>.0.0.0         Up   DR
toR2                  <span class=m>0</span>.0.0.0         <span class=m>0</span>.0.0.0         <span class=m>0</span>.0.0.0         Up   PToP
toR3                  <span class=m>0</span>.0.0.0         <span class=m>0</span>.0.0.0         <span class=m>0</span>.0.0.0         Up   PToP
toR5                  <span class=m>0</span>.0.0.1         <span class=m>0</span>.0.0.0         <span class=m>0</span>.0.0.0         Up   PToP
-------------------------------------------------------------------------------
No. of OSPF Interfaces: <span class=m>4</span>
<span class=o>===============================================================================</span>
</code></pre></div> <p>Adding one more <em>Area</em> (besides backbone Area 0) on R1 makes it <em>Area Border Router.</em> So R1 will form and maintain another neighbor relationships with R5 in Area 1. We will check if its true:</p> <p>R5 verification:</p> <div class=highlight><pre><span></span><code>*A:R5# show router ospf neighbor

===============================================================================
OSPFv2 (0) all neighbors
===============================================================================
Interface-Name                   Rtr Id          State      Pri  RetxQ   TTL
   Area-Id
-------------------------------------------------------------------------------
toR1                             1.1.1.1         Full       1    0       33
   0.0.0.1
-------------------------------------------------------------------------------
No. of Neighbors: 1
===============================================================================
</code></pre></div> <p>R1 verification:</p> <div class=highlight><pre><span></span><code>*A:R1# show router ospf neighbor

===============================================================================
OSPFv2 (0) all neighbors
===============================================================================
Interface-Name                   Rtr Id          State      Pri  RetxQ   TTL
   Area-Id
-------------------------------------------------------------------------------
toR2                             2.2.2.2         Full       1    0       32
   0.0.0.0
toR3                             3.3.3.3         Full       1    0       36
   0.0.0.0
toR5                             5.5.5.5         Full       1    0       31
   0.0.0.1
-------------------------------------------------------------------------------
No. of Neighbors: 3
===============================================================================
</code></pre></div> <p>I repeated same configuration steps on R6: added it to Area 2 and neighbored with R2.</p> <h3 id=examining-multi-area-lsdb>Examining Multi-area LSDB<a class=headerlink href=#examining-multi-area-lsdb title="Permanent link">#</a></h3> <p>Since we configured multi-area OSPF we should expect to see some new LSA in our Link State Database:</p> <p>On R1:</p> <div class=highlight><pre><span></span><code>A:R1# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.0         1.1.1.1         1.1.1.1         550  0x80000007 0x58cd
Router  0.0.0.0         2.2.2.2         2.2.2.2         668  0x80000006 0xaf65
Router  0.0.0.0         3.3.3.3         3.3.3.3         193  0x80000006 0x7192
Router  0.0.0.0         4.4.4.4         4.4.4.4         732  0x80000007 0xa34d
Summary 0.0.0.0         5.5.5.5         1.1.1.1         773  0x80000002 0x508f
Summary 0.0.0.0         10.1.5.0        1.1.1.1         1091 0x80000002 0x7172
Summary 0.0.0.0         6.6.6.6         2.2.2.2         519  0x80000002 0x4d3
Summary 0.0.0.0         10.2.6.0        2.2.2.2         724  0x80000002 0x3ca1
Router  0.0.0.1         1.1.1.1         1.1.1.1         830  0x80000004 0x50ea
Router  0.0.0.1         5.5.5.5         5.5.5.5         171  0x80000005 0x47bb
Summary 0.0.0.1         1.1.1.1         1.1.1.1         660  0x80000002 0x1d37
Summary 0.0.0.1         2.2.2.2         1.1.1.1         183  0x80000002 0xda11
Summary 0.0.0.1         3.3.3.3         1.1.1.1         122  0x80000002 0xac3b
Summary 0.0.0.1         4.4.4.4         1.1.1.1         318  0x80000002 0x6a15
Summary 0.0.0.1         6.6.6.6         1.1.1.1         207  0x80000002 0xe69
Summary 0.0.0.1         10.1.2.0        1.1.1.1         377  0x80000003 0x9055
Summary 0.0.0.1         10.1.3.0        1.1.1.1         262  0x80000003 0x855f
Summary 0.0.0.1         10.2.4.0        1.1.1.1         1039 0x80000003 0x5a24
Summary 0.0.0.1         10.2.6.0        1.1.1.1         864  0x80000002 0x4637
Summary 0.0.0.1         10.3.4.0        1.1.1.1         1056 0x80000003 0x4e2f
-------------------------------------------------------------------------------
No. of LSAs: 20
===============================================================================
</code></pre></div> <p>On R5:</p> <div class=highlight><pre><span></span><code>A:R5# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.1         1.1.1.1         1.1.1.1         900  0x80000004 0x50ea
Router  0.0.0.1         5.5.5.5         5.5.5.5         238  0x80000005 0x47bb
Summary 0.0.0.1         1.1.1.1         1.1.1.1         728  0x80000002 0x1d37
Summary 0.0.0.1         2.2.2.2         1.1.1.1         252  0x80000002 0xda11
Summary 0.0.0.1         3.3.3.3         1.1.1.1         190  0x80000002 0xac3b
Summary 0.0.0.1         4.4.4.4         1.1.1.1         387  0x80000002 0x6a15
Summary 0.0.0.1         6.6.6.6         1.1.1.1         276  0x80000002 0xe69
Summary 0.0.0.1         10.1.2.0        1.1.1.1         446  0x80000003 0x9055
Summary 0.0.0.1         10.1.3.0        1.1.1.1         329  0x80000003 0x855f
Summary 0.0.0.1         10.2.4.0        1.1.1.1         1106 0x80000003 0x5a24
Summary 0.0.0.1         10.2.6.0        1.1.1.1         932  0x80000002 0x4637
Summary 0.0.0.1         10.3.4.0        1.1.1.1         1124 0x80000003 0x4e2f
-------------------------------------------------------------------------------
No. of LSAs: 12
===============================================================================
</code></pre></div> <p>Aha, R1 being an ABR lists all LSA's for both Area 0 and Area 1. Moreover, R1 lists <em>Type 3 Summary LSA from Area 0 to Area 1</em> and vice versa, <em>from Area 1 to Area 0</em>.</p> <p>R5 has only Area 1 LSAs, since R5 "lives" exactly in a single area - Area 1.</p> <h2 id=ospf-routes-propagation>OSPF routes propagation<a class=headerlink href=#ospf-routes-propagation title="Permanent link">#</a></h2> <p>To ensure that OSPF routers exchanged OSPF routes lets check R5 and R1 routing tables:</p> <p>On R1 (ABR):</p> <div class=highlight><pre><span></span><code><span class=c># Checking routes that have been received via OSPF</span>

*A:R1# show router route-table protocol ospf

<span class=o>===============================================================================</span>
Route Table <span class=o>(</span>Router: Base<span class=o>)</span>
<span class=o>===============================================================================</span>
Dest Prefix<span class=o>[</span>Flags<span class=o>]</span>                            Type    Proto     Age        Pref
      Next Hop<span class=o>[</span>Interface Name<span class=o>]</span>                                    Metric
-------------------------------------------------------------------------------
<span class=m>2</span>.2.2.2/32                                    Remote  OSPF      03h01m17s  <span class=m>10</span>
       <span class=m>10</span>.1.2.2                                                     <span class=m>100</span>
<span class=m>3</span>.3.3.3/32                                    Remote  OSPF      03h01m13s  <span class=m>10</span>
       <span class=m>10</span>.1.3.3                                                     <span class=m>100</span>
<span class=m>4</span>.4.4.4/32                                    Remote  OSPF      03h01m10s  <span class=m>10</span>
       <span class=m>10</span>.1.2.2                                                     <span class=m>200</span>
<span class=m>5</span>.5.5.5/32                                    Remote  OSPF      00h39m07s  <span class=m>10</span>
       <span class=m>10</span>.1.5.5                                                     <span class=m>100</span>
<span class=m>6</span>.6.6.6/32                                    Remote  OSPF      00h19m38s  <span class=m>10</span>
       <span class=m>10</span>.1.2.2                                                     <span class=m>200</span>
<span class=m>10</span>.2.4.0/24                                   Remote  OSPF      04h15m26s  <span class=m>10</span>
       <span class=m>10</span>.1.2.2                                                     <span class=m>200</span>
<span class=m>10</span>.2.6.0/24                                   Remote  OSPF      00h19m48s  <span class=m>10</span>
       <span class=m>10</span>.1.2.2                                                     <span class=m>200</span>
<span class=m>10</span>.3.4.0/24                                   Remote  OSPF      04h15m26s  <span class=m>10</span>
       <span class=m>10</span>.1.3.3                                                     <span class=m>200</span>
-------------------------------------------------------------------------------
No. of Routes: <span class=m>8</span>
Flags: <span class=nv>n</span> <span class=o>=</span> Number of <span class=nb>times</span> nexthop is repeated
       <span class=nv>B</span> <span class=o>=</span> BGP backup route available
       <span class=nv>L</span> <span class=o>=</span> LFA nexthop available
       <span class=nv>S</span> <span class=o>=</span> Sticky ECMP requested
<span class=o>===============================================================================</span>


<span class=c># Checking R1&#39;s route table</span>

A:R1# show router route-table

<span class=o>===============================================================================</span>
Route Table <span class=o>(</span>Router: Base<span class=o>)</span>
<span class=o>===============================================================================</span>
Dest Prefix<span class=o>[</span>Flags<span class=o>]</span>                            Type    Proto     Age        Pref
      Next Hop<span class=o>[</span>Interface Name<span class=o>]</span>                                    Metric
-------------------------------------------------------------------------------
<span class=m>1</span>.1.1.1/32                                    Local   Local     00h20m56s  <span class=m>0</span>
       system                                                       <span class=m>0</span>
<span class=m>2</span>.2.2.2/32                                    Remote  OSPF      00h15m29s  <span class=m>10</span>
       <span class=m>10</span>.1.2.2                                                     <span class=m>100</span>
<span class=m>3</span>.3.3.3/32                                    Remote  OSPF      00h15m11s  <span class=m>10</span>
       <span class=m>10</span>.1.3.3                                                     <span class=m>100</span>
<span class=m>4</span>.4.4.4/32                                    Remote  OSPF      00h14m40s  <span class=m>10</span>
       <span class=m>10</span>.1.2.2                                                     <span class=m>200</span>
<span class=m>5</span>.5.5.5/32                                    Remote  OSPF      00h18m59s  <span class=m>10</span>
       <span class=m>10</span>.1.5.5                                                     <span class=m>100</span>
<span class=m>6</span>.6.6.6/32                                    Remote  OSPF      00h16m28s  <span class=m>10</span>
       <span class=m>10</span>.1.2.2                                                     <span class=m>200</span>
<span class=m>10</span>.1.2.0/24                                   Local   Local     00h20m36s  <span class=m>0</span>
       toR2                                                         <span class=m>0</span>
<span class=m>10</span>.1.3.0/24                                   Local   Local     00h20m36s  <span class=m>0</span>
       toR3                                                         <span class=m>0</span>
<span class=m>10</span>.1.5.0/24                                   Local   Local     00h20m36s  <span class=m>0</span>
       toR5                                                         <span class=m>0</span>
<span class=m>10</span>.2.4.0/24                                   Remote  OSPF      00h20m31s  <span class=m>10</span>
       <span class=m>10</span>.1.2.2                                                     <span class=m>200</span>
<span class=m>10</span>.2.6.0/24                                   Remote  OSPF      00h16m38s  <span class=m>10</span>
       <span class=m>10</span>.1.2.2                                                     <span class=m>200</span>
<span class=m>10</span>.3.4.0/24                                   Remote  OSPF      00h20m30s  <span class=m>10</span>
       <span class=m>10</span>.1.3.3                                                     <span class=m>200</span>
-------------------------------------------------------------------------------
No. of Routes: <span class=m>12</span>
Flags: <span class=nv>n</span> <span class=o>=</span> Number of <span class=nb>times</span> nexthop is repeated
       <span class=nv>B</span> <span class=o>=</span> BGP backup route available
       <span class=nv>L</span> <span class=o>=</span> LFA nexthop available
       <span class=nv>S</span> <span class=o>=</span> Sticky ECMP requested
<span class=o>===============================================================================</span>
</code></pre></div> <p>On R5:</p> <div class=highlight><pre><span></span><code>*A:R5# show router route-table protocol ospf

<span class=o>===============================================================================</span>
Route Table <span class=o>(</span>Router: Base<span class=o>)</span>
<span class=o>===============================================================================</span>
Dest Prefix<span class=o>[</span>Flags<span class=o>]</span>                            Type    Proto     Age        Pref
      Next Hop<span class=o>[</span>Interface Name<span class=o>]</span>                                    Metric
-------------------------------------------------------------------------------
<span class=m>1</span>.1.1.1/32                                    Remote  OSPF      02h57m09s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>100</span>
<span class=m>2</span>.2.2.2/32                                    Remote  OSPF      02h57m09s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>200</span>
<span class=m>3</span>.3.3.3/32                                    Remote  OSPF      02h57m09s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>200</span>
<span class=m>4</span>.4.4.4/32                                    Remote  OSPF      02h57m09s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>300</span>
<span class=m>6</span>.6.6.6/32                                    Remote  OSPF      00h20m14s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>300</span>
<span class=m>10</span>.1.2.0/24                                   Remote  OSPF      02h57m09s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>200</span>
<span class=m>10</span>.1.3.0/24                                   Remote  OSPF      02h57m09s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>200</span>
<span class=m>10</span>.2.4.0/24                                   Remote  OSPF      02h57m09s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>300</span>
<span class=m>10</span>.2.6.0/24                                   Remote  OSPF      00h20m25s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>300</span>
<span class=m>10</span>.3.4.0/24                                   Remote  OSPF      02h57m09s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>300</span>
-------------------------------------------------------------------------------
No. of Routes: <span class=m>10</span>
Flags: <span class=nv>n</span> <span class=o>=</span> Number of <span class=nb>times</span> nexthop is repeated
       <span class=nv>B</span> <span class=o>=</span> BGP backup route available
       <span class=nv>L</span> <span class=o>=</span> LFA nexthop available
       <span class=nv>S</span> <span class=o>=</span> Sticky ECMP requested
<span class=o>===============================================================================</span>


<span class=c># Checking R5&#39;s route table</span>

A:R5# show router route-table

<span class=o>===============================================================================</span>
Route Table <span class=o>(</span>Router: Base<span class=o>)</span>
<span class=o>===============================================================================</span>
Dest Prefix<span class=o>[</span>Flags<span class=o>]</span>                            Type    Proto     Age        Pref
      Next Hop<span class=o>[</span>Interface Name<span class=o>]</span>                                    Metric
-------------------------------------------------------------------------------
<span class=m>1</span>.1.1.1/32                                    Remote  OSPF      00h20m13s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>100</span>
<span class=m>2</span>.2.2.2/32                                    Remote  OSPF      00h19m27s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>200</span>
<span class=m>3</span>.3.3.3/32                                    Remote  OSPF      00h19m09s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>200</span>
<span class=m>4</span>.4.4.4/32                                    Remote  OSPF      00h18m37s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>300</span>
<span class=m>5</span>.5.5.5/32                                    Local   Local     00h24m57s  <span class=m>0</span>
       system                                                       <span class=m>0</span>
<span class=m>6</span>.6.6.6/32                                    Remote  OSPF      00h20m25s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>300</span>
<span class=m>10</span>.1.2.0/24                                   Remote  OSPF      00h23m46s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>200</span>
<span class=m>10</span>.1.3.0/24                                   Remote  OSPF      00h23m46s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>200</span>
<span class=m>10</span>.1.5.0/24                                   Local   Local     00h24m37s  <span class=m>0</span>
       toR1                                                         <span class=m>0</span>
<span class=m>10</span>.2.4.0/24                                   Remote  OSPF      00h23m47s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>300</span>
<span class=m>10</span>.2.6.0/24                                   Remote  OSPF      00h20m36s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>300</span>
<span class=m>10</span>.3.4.0/24                                   Remote  OSPF      00h23m47s  <span class=m>10</span>
       <span class=m>10</span>.1.5.1                                                     <span class=m>300</span>
-------------------------------------------------------------------------------
No. of Routes: <span class=m>12</span>
Flags: <span class=nv>n</span> <span class=o>=</span> Number of <span class=nb>times</span> nexthop is repeated
       <span class=nv>B</span> <span class=o>=</span> BGP backup route available
       <span class=nv>L</span> <span class=o>=</span> LFA nexthop available
       <span class=nv>S</span> <span class=o>=</span> Sticky ECMP requested
<span class=o>===============================================================================</span>
</code></pre></div> <p>Since we configured all the routers in our topology and verified that the routes have been propagated properly we can try to run <code>ping</code> between R6 and R5 system interfaces:</p> <div class=highlight><pre><span></span><code>A:R6# ping 5.5.5.5
PING 5.5.5.5 56 data bytes
64 bytes from 5.5.5.5: icmp_seq=1 ttl=62 time=11.7ms.
</code></pre></div> <h2 id=ospf-route-summarization>OSPF Route Summarization<a class=headerlink href=#ospf-route-summarization title="Permanent link">#</a></h2> <p>So far we have configured multi-area OSPF topology with three Areas. One of the multi-area OSPF benefits is to perform <em>manual route summarization</em>. In this section we will configure OSPF route summarization between Area 0 and Area 1.</p> <p>The idea is depicted below where we will have a single Summary LSA (Type 3) in the Area 1 instead of three different LSAs.</p> <p><img alt=pic src=http://img-fotki.yandex.ru/get/16191/21639405.11b/0_83cbc_fd84eebd_orig.png></p> <p>To get a range of IP addresses which we will summarize later we will add 3 loopback interfaces to R3 router and include them in OSPF Area 0:</p> <div class=highlight><pre><span></span><code>A:R3# show router interface

===============================================================================
Interface Table (Router: Base)
===============================================================================
Interface-Name                   Adm         Opr(v4/v6)  Mode    Port/SapId
   IP-Address                                                    PfxState
-------------------------------------------------------------------------------
lo1                              Up          Up/--       Network loopback
   192.168.3.1/32                                                n/a
lo2                              Up          Up/--       Network loopback
   192.168.3.2/32                                                n/a
lo3                              Up          Up/--       Network loopback
   192.168.3.3/32                                                n/a
 &lt;output omitted&gt;


*A:R3# show router ospf interface

===============================================================================
OSPFv2 (0) all interfaces
===============================================================================
If Name               Area Id         Designated Rtr  Bkup Desig Rtr  Adm  Oper
-------------------------------------------------------------------------------
system                0.0.0.0         3.3.3.3         0.0.0.0         Up   DR
toR1                  0.0.0.0         0.0.0.0         0.0.0.0         Up   PToP
toR4                  0.0.0.0         0.0.0.0         0.0.0.0         Up   PToP
lo1                   0.0.0.0         3.3.3.3         0.0.0.0         Up   DR
lo2                   0.0.0.0         3.3.3.3         0.0.0.0         Up   DR
lo3                   0.0.0.0         3.3.3.3         0.0.0.0         Up   DR
-------------------------------------------------------------------------------
No. of OSPF Interfaces: 6
===============================================================================
</code></pre></div> <p>Since we added these interfaces to OSPF Area 0 we see them coming to R5 router as <em>Type 3 Network Summary LSA</em>. And these routes make their way to the routing table of R5.</p> <div class=highlight><pre><span></span><code>A:R5# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.1         1.1.1.1         1.1.1.1         531  0x80000005 0x4eeb
Router  0.0.0.1         5.5.5.5         5.5.5.5         43   0x80000006 0x45bc
Summary 0.0.0.1         1.1.1.1         1.1.1.1         496  0x80000003 0x1b38
Summary 0.0.0.1         2.2.2.2         1.1.1.1         1898 0x80000002 0xda11
Summary 0.0.0.1         3.3.3.3         1.1.1.1         225  0x80000003 0xaa3c
Summary 0.0.0.1         4.4.4.4         1.1.1.1         463  0x80000003 0x6816
Summary 0.0.0.1         6.6.6.6         1.1.1.1         373  0x80000003 0xc6a
Summary 0.0.0.1         10.1.2.0        1.1.1.1         323  0x80000004 0x8e56
Summary 0.0.0.1         10.1.3.0        1.1.1.1         32   0x80000004 0x8360
Summary 0.0.0.1         10.2.4.0        1.1.1.1         513  0x80000004 0x5825
Summary 0.0.0.1         10.2.6.0        1.1.1.1         1089 0x80000003 0x4438
Summary 0.0.0.1         10.3.4.0        1.1.1.1         1188 0x80000004 0x4c30
Summary 0.0.0.1         192.168.3.1     1.1.1.1         566  0x80000001 0x5c2b
Summary 0.0.0.1         192.168.3.2     1.1.1.1         560  0x80000001 0x5234
Summary 0.0.0.1         192.168.3.3     1.1.1.1         554  0x80000001 0x483d
-------------------------------------------------------------------------------
No. of LSAs: 15
===============================================================================


A:R5# show router route-table

===============================================================================
Route Table (Router: Base)
===============================================================================
Dest Prefix[Flags]                            Type    Proto     Age        Pref
      Next Hop[Interface Name]                                    Metric
-------------------------------------------------------------------------------
 &lt; &lt;ouput omitted&gt;&gt;

192.168.3.1/32                                Remote  OSPF      00h10m07s  10
       10.1.5.1                                                     200
192.168.3.2/32                                Remote  OSPF      00h10m02s  10
       10.1.5.1                                                     200
192.168.3.3/32                                Remote  OSPF      00h09m56s  10
       10.1.5.1                                                     200
-------------------------------------------------------------------------------
No. of Routes: 15
Flags: n = Number of times nexthop is repeated
       B = BGP backup route available
       L = LFA nexthop available
       S = Sticky ECMP requested
===============================================================================
</code></pre></div> <p>We will configure route summarization on Area Border Router (R1), so it will advertise <strong>only one</strong> summary route <code>192.168.3.0/30</code> instead of three specific routes.</p> <p>Configuration steps:</p> <div class=highlight><pre><span></span><code>A:R1# configure router ospf area 0
A:R1&gt;config&gt;router&gt;ospf&gt;area# area-range 192.168.3.0/30
</code></pre></div> <p>Pay attention, that summarization command <code>area-range</code> must be applied in the context of the area being summarized. Since we are summarizing routes <strong>from Area 0</strong> to Area 1 we use this command in the <strong>Area 0</strong> configuration context.</p> <p>By default, the command <code>area-range &lt;prefix&gt;/&lt;length&gt;</code> will actually be expanded to <code>area-range &lt;prefix&gt;/&lt;length&gt; advertise</code>, meaning that ABR will advertise this prefix. Counterpart statement <code>not-advertise</code> can be supplied to enable route suppression and will be discussed in a detail in next section.</p> <p><strong>Pay attention:</strong> route summarization procedure automatically adds a <em>black-hole</em> route in R1's route table:</p> <div class=highlight><pre><span></span><code>*A:R1# show router route-table 192.168.3.0/24 longer

===============================================================================
Route Table (Router: Base)
===============================================================================
Dest Prefix[Flags]                            Type    Proto     Age        Pref
      Next Hop[Interface Name]                                    Metric
-------------------------------------------------------------------------------
192.168.3.0/30                                Blackh* OSPF      00h32m52s  255
       Black Hole                                                   100
192.168.3.1/32                                Remote  OSPF      00h53m58s  10
       10.1.3.3                                                     100
192.168.3.2/32                                Remote  OSPF      00h53m52s  10
       10.1.3.3                                                     100
192.168.3.3/32                                Remote  OSPF      00h53m47s  10
       10.1.3.3                                                     100
-------------------------------------------------------------------------------
No. of Routes: 4
</code></pre></div> <p>Lets see what has changed at R5. R5's LSDB now has just <strong>one</strong> <em>Type 3 Summary LSA</em> for the aggregated <code>192.168.3.0/30</code> network and has no LSA's for the specific prefixes:</p> <div class=highlight><pre><span></span><code>A:R5# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.1         1.1.1.1         1.1.1.1         1234 0x80000005 0x4eeb
Router  0.0.0.1         5.5.5.5         5.5.5.5         746  0x80000006 0x45bc
Summary 0.0.0.1         1.1.1.1         1.1.1.1         1199 0x80000003 0x1b38
Summary 0.0.0.1         2.2.2.2         1.1.1.1         658  0x80000003 0xd812
Summary 0.0.0.1         3.3.3.3         1.1.1.1         928  0x80000003 0xaa3c
Summary 0.0.0.1         4.4.4.4         1.1.1.1         1166 0x80000003 0x6816
Summary 0.0.0.1         6.6.6.6         1.1.1.1         1076 0x80000003 0xc6a
Summary 0.0.0.1         10.1.2.0        1.1.1.1         1026 0x80000004 0x8e56
Summary 0.0.0.1         10.1.3.0        1.1.1.1         735  0x80000004 0x8360
Summary 0.0.0.1         10.2.4.0        1.1.1.1         1216 0x80000004 0x5825
Summary 0.0.0.1         10.2.6.0        1.1.1.1         420  0x80000004 0x4239
Summary 0.0.0.1         10.3.4.0        1.1.1.1         340  0x80000005 0x4a31
Summary 0.0.0.1         192.168.3.0     1.1.1.1         4    0x80000001 0x5437
-------------------------------------------------------------------------------
No. of LSAs: 13
===============================================================================



A:R5# show router route-table

===============================================================================
Route Table (Router: Base)
===============================================================================
Dest Prefix[Flags]                            Type    Proto     Age        Pref
      Next Hop[Interface Name]                                    Metric
-------------------------------------------------------------------------------
 &lt;ouptut omitted&gt;    

192.168.3.0/30                                Remote  OSPF      00h30m58s  10
       10.1.5.1                                                     200
-------------------------------------------------------------------------------
No. of Routes: 13
===============================================================================
</code></pre></div> <p>Verifying that IP connectivity works for summarized route:</p> <div class=highlight><pre><span></span><code>A:R5# ping 192.168.3.3
PING 192.168.3.3 56 data bytes
64 bytes from 192.168.3.3: icmp_seq=1 ttl=63 time=10.2ms.
</code></pre></div> <h2 id=ospf-route-filtering-on-abr>OSPF Route filtering on ABR<a class=headerlink href=#ospf-route-filtering-on-abr title="Permanent link">#</a></h2> <p>You can filter unwanted routes on the ABR with the <code>area-range</code> command adding the key <code>not-advertise</code>.</p> <p><img alt=pic src=http://img-fotki.yandex.ru/get/6422/21639405.11b/0_83cba_d148eb08_orig.png></p> <p>For example lets take a look at R6's route table which contains specific routes to R3's loopback addresses. These addresses is advertising by R2 since it is acting as ABR and advertises all the routes it has in its routing table.</p> <div class=highlight><pre><span></span><code>A:R6# show router route-table 192.168.3.0/24 longer

===============================================================================
Route Table (Router: Base)
===============================================================================
Dest Prefix[Flags]                            Type    Proto     Age        Pref
      Next Hop[Interface Name]                                    Metric
-------------------------------------------------------------------------------
192.168.3.1/32                                Remote  OSPF      01h21m48s  10
       10.2.6.2                                                     300
192.168.3.2/32                                Remote  OSPF      01h21m43s  10
       10.2.6.2                                                     300
192.168.3.3/32                                Remote  OSPF      01h21m37s  10
       10.2.6.2                                                     300
-------------------------------------------------------------------------------
No. of Routes: 3
</code></pre></div> <p>If we want to prevent R2 from advertising some routes to its neighbor in <em>Area 1</em> then we have to add configuration commands in Area 0's context of R2:</p> <div class=highlight><pre><span></span><code>A:R2# configure router ospf area 0
A:R2&gt;config&gt;router&gt;ospf&gt;area# area-range 192.168.3.1/32 not-advertise
</code></pre></div> <p>By doing this, we tell R2 to stop advertising <em>Type 3 Summary LSA</em> for prefix 192.168.3.1/32. And R6's route table immediately reflects this change by not having this specific route in its route table:</p> <div class=highlight><pre><span></span><code>A:R6# show router route-table 192.168.3.0/24 longer

===============================================================================
Route Table (Router: Base)
===============================================================================
Dest Prefix[Flags]                            Type    Proto     Age        Pref
      Next Hop[Interface Name]                                    Metric
-------------------------------------------------------------------------------
192.168.3.2/32                                Remote  OSPF      01h28m38s  10
       10.2.6.2                                                     300
192.168.3.3/32                                Remote  OSPF      01h28m32s  10
       10.2.6.2                                                     300
-------------------------------------------------------------------------------
No. of Routes: 2
</code></pre></div> <p>You can also use "summary" prefix to filter a range of routes:</p> <div class=highlight><pre><span></span><code><span class=c># filter all prefixes that falls under 192.168.3.0/30 aggregate</span>
A:R2&gt;config&gt;router&gt;ospf&gt;area# area-range <span class=m>192</span>.168.3.0/30 not-advertise

<span class=c># All loopback routes are filtered by R2</span>
A:R6# show router route-table <span class=m>192</span>.168.3.0/24 longer

<span class=o>===============================================================================</span>
Route Table <span class=o>(</span>Router: Base<span class=o>)</span>
<span class=o>===============================================================================</span>
Dest Prefix<span class=o>[</span>Flags<span class=o>]</span>                            Type    Proto     Age        Pref
      Next Hop<span class=o>[</span>Interface Name<span class=o>]</span>                                    Metric
-------------------------------------------------------------------------------
No. of Routes: <span class=m>0</span>
</code></pre></div> <p><strong>Note:</strong> Route filtering does not install any <em>black-hole</em> routes.</p> <h2 id=asbr-and-ospf-route-redistribution>ASBR and OSPF Route Redistribution<a class=headerlink href=#asbr-and-ospf-route-redistribution title="Permanent link">#</a></h2> <p>Routes between different routing domains can me mutually exchanged. External routers can be exported into OSPF and vice versa. The process of routes exchange is often called <strong>route redistribution</strong>.</p> <p><img alt=pic src=http://img-fotki.yandex.ru/get/6833/21639405.11b/0_83cbe_34bbedc2_orig.png></p> <p>In this section we will redistribute the routes that are in R5's route table but are not advertised yet into OSPF process. These routes are created by means of additional loopback interfaces that are not included into OSPF process.</p> <div class=highlight><pre><span></span><code>*A:R5# show router route-table <span class=m>192</span>.168.5.0/24 longer

<span class=o>===============================================================================</span>
Route Table <span class=o>(</span>Router: Base<span class=o>)</span>
<span class=o>===============================================================================</span>
Dest Prefix<span class=o>[</span>Flags<span class=o>]</span>                            Type    Proto     Age        Pref
      Next Hop<span class=o>[</span>Interface Name<span class=o>]</span>                                    Metric
-------------------------------------------------------------------------------
<span class=m>192</span>.168.5.1/32                                Local   Local     00h00m14s  <span class=m>0</span>
       lo1                                                          <span class=m>0</span>
<span class=m>192</span>.168.5.2/32                                Local   Local     00h00m09s  <span class=m>0</span>
       lo2                                                          <span class=m>0</span>
<span class=m>192</span>.168.5.3/32                                Local   Local     00h00m05s  <span class=m>0</span>
       lo3                                                          <span class=m>0</span>
-------------------------------------------------------------------------------
No. of Routes: <span class=m>3</span>


<span class=c># ensure that loopbacks are not OSPF-enabled interfaces</span>
*A:R5# show router ospf interface

<span class=o>===============================================================================</span>
OSPFv2 <span class=o>(</span><span class=m>0</span><span class=o>)</span> all interfaces
<span class=o>===============================================================================</span>
If Name               Area Id         Designated Rtr  Bkup Desig Rtr  Adm  Oper
-------------------------------------------------------------------------------
system                <span class=m>0</span>.0.0.1         <span class=m>5</span>.5.5.5         <span class=m>0</span>.0.0.0         Up   DR
toR1                  <span class=m>0</span>.0.0.1         <span class=m>0</span>.0.0.0         <span class=m>0</span>.0.0.0         Up   PToP
-------------------------------------------------------------------------------
No. of OSPF Interfaces: <span class=m>2</span>
<span class=o>===============================================================================</span>


<span class=c># and R1 has no routes towards these prefixes, since they are only local to R5</span>
A:R1# show router route-table <span class=m>192</span>.168.5.0/24 longer

<span class=o>===============================================================================</span>
Route Table <span class=o>(</span>Router: Base<span class=o>)</span>
<span class=o>===============================================================================</span>
Dest Prefix<span class=o>[</span>Flags<span class=o>]</span>                            Type    Proto     Age        Pref
      Next Hop<span class=o>[</span>Interface Name<span class=o>]</span>                                    Metric
-------------------------------------------------------------------------------
-------------------------------------------------------------------------------
No. of Routes: <span class=m>0</span>
</code></pre></div> <p>To redistribute these local routes into OSPF process a <strong>policy</strong> should be configured. Lets give our policy a <code>EXPORT Local Loopbacks</code> name:</p> <div class=highlight><pre><span></span><code>*A:R5# configure router policy-options


*A:R5&gt;config&gt;router&gt;policy-options# begin

<span class=c># create prefix list to match desired routes</span>
*A:R5&gt;config&gt;router&gt;policy-options# prefix-list <span class=s2>&quot;Loopbacks_to_export&quot;</span>
*A:R5&gt;config&gt;router&gt;policy-options&gt;prefix-list$ prefix <span class=m>192</span>.168.5.0/24 longer
*A:R5&gt;config&gt;router&gt;policy-options&gt;prefix-list$ back

<span class=c># create policy statement to export routes</span>
*A:R5&gt;config&gt;router&gt;policy-options# policy-statement <span class=s2>&quot;EXPORT Local Loopbacks&quot;</span>
*A:R5&gt;config&gt;router&gt;policy-options&gt;policy-statement$ entry <span class=m>10</span>
<span class=c># refer to the prefix list created earlier</span>
*A:R5&gt;config&gt;router&gt;policy-options&gt;policy-statement&gt;entry$ from prefix-list <span class=s2>&quot;Loopbacks_to_export&quot;</span>
<span class=c># narrow the scope of this policy &quot;to protocol ospf&quot; only</span>
*A:R5&gt;config&gt;router&gt;policy-options&gt;policy-statement&gt;entry$ to protocol ospf

<span class=c># set accept action (default action is deny all)</span>
*A:R5&gt;config&gt;router&gt;policy-options&gt;policy-statement&gt;entry# action accept
*A:R5&gt;config&gt;router&gt;policy-options&gt;policy-statement&gt;entry&gt;action# back
*A:R5&gt;config&gt;router&gt;policy-options&gt;policy-statement&gt;entry$ back
*A:R5&gt;config&gt;router&gt;policy-options&gt;policy-statement$ back

<span class=c># commit changes</span>
*A:R5&gt;config&gt;router&gt;policy-options# commit


<span class=c># verify the created policy</span>
*A:R5&gt;config&gt;router&gt;policy-options# info
----------------------------------------------
            prefix-list <span class=s2>&quot;Loopbacks_to_export&quot;</span>
                prefix <span class=m>192</span>.168.5.0/24 longer
            exit
            policy-statement <span class=s2>&quot;EXPORT Local Loopbacks&quot;</span>
                entry <span class=m>10</span>
                    from
                        prefix-list <span class=s2>&quot;Loopbacks_to_export&quot;</span>
                    exit
                    to
                        protocol ospf
                    exit
                    action accept
                    exit
                exit
            exit
----------------------------------------------
</code></pre></div> <p>The next step is to configure R5 router as an <strong>ASBR</strong> and to apply the created policy to OSPF process:</p> <div class=highlight><pre><span></span><code><span class=c># &quot;asbr&quot; keyword makes a router an ASBR</span>
*A:R5# configure router ospf
*A:R5&gt;config&gt;router&gt;ospf# asbr
<span class=c># apply the export policy</span>
*A:R5&gt;config&gt;router&gt;ospf# <span class=nb>export</span> <span class=s2>&quot;EXPORT Local Loopbacks&quot;</span>
</code></pre></div> <h3 id=verifying-redistributed-routes-propagation>Verifying redistributed routes propagation<a class=headerlink href=#verifying-redistributed-routes-propagation title="Permanent link">#</a></h3> <p>Now, our R5 router is now configured as an ASBR and the local routes should get exported into OSPF process. These changes allow other routers in OSPF domain to receive these routes by means of <em>Type 4 ASBR Summary LSA</em> and <em>Type 5 AS External LSA</em>:</p> <p>R5:</p> <div class=highlight><pre><span></span><code>*A:R5# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.1         1.1.1.1         1.1.1.1         1033 0x80000004 0x50ea
Router  0.0.0.1         5.5.5.5         5.5.5.5         1072 0x80000006 0x4bb4
Summary 0.0.0.1         1.1.1.1         1.1.1.1         706  0x80000004 0x1939
Summary 0.0.0.1         2.2.2.2         1.1.1.1         2226 0x80000002 0xda11
Summary 0.0.0.1         3.3.3.3         1.1.1.1         107  0x80000003 0xaa3c
Summary 0.0.0.1         4.4.4.4         1.1.1.1         929  0x80000003 0x6816
Summary 0.0.0.1         6.6.6.6         1.1.1.1         1879 0x80000002 0xe69
Summary 0.0.0.1         10.1.2.0        1.1.1.1         366  0x80000003 0x9055
Summary 0.0.0.1         10.1.3.0        1.1.1.1         472  0x80000003 0x855f
Summary 0.0.0.1         10.2.4.0        1.1.1.1         737  0x80000003 0x5a24
Summary 0.0.0.1         10.2.6.0        1.1.1.1         939  0x80000003 0x4438
Summary 0.0.0.1         10.3.4.0        1.1.1.1         442  0x80000003 0x4e2f
Summary 0.0.0.1         192.168.3.0     1.1.1.1         355  0x80000003 0x5039
AS Ext  n/a             192.168.5.1     5.5.5.5         506  0x80000001 0x63ea
AS Ext  n/a             192.168.5.2     5.5.5.5         506  0x80000001 0x59f3
AS Ext  n/a             192.168.5.3     5.5.5.5         506  0x80000001 0x4ffc
-------------------------------------------------------------------------------
No. of LSAs: 16
===============================================================================
</code></pre></div> <p>R1:</p> <div class=highlight><pre><span></span><code>A:R1# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.0         1.1.1.1         1.1.1.1         655  0x80000006 0x5acc
Router  0.0.0.0         2.2.2.2         2.2.2.2         988  0x80000006 0xaf65
Router  0.0.0.0         3.3.3.3         3.3.3.3         1122 0x80000009 0x1a6b
Router  0.0.0.0         4.4.4.4         4.4.4.4         1133 0x80000006 0xa54c
Summary 0.0.0.0         5.5.5.5         1.1.1.1         562  0x80000003 0x4e90
Summary 0.0.0.0         10.1.5.0        1.1.1.1         472  0x80000003 0x6f73
Summary 0.0.0.0         6.6.6.6         2.2.2.2         189  0x80000003 0x2d4
Summary 0.0.0.0         10.2.6.0        2.2.2.2         166  0x80000003 0x3aa2
AS Summ 0.0.0.0         5.5.5.5         1.1.1.1         1407 0x80000001 0x449b
Router  0.0.0.1         1.1.1.1         1.1.1.1         1368 0x80000004 0x50ea
Router  0.0.0.1         5.5.5.5         5.5.5.5         1409 0x80000006 0x4bb4
Summary 0.0.0.1         1.1.1.1         1.1.1.1         1042 0x80000004 0x1939
Summary 0.0.0.1         2.2.2.2         1.1.1.1         321  0x80000003 0xd812
Summary 0.0.0.1         3.3.3.3         1.1.1.1         443  0x80000003 0xaa3c
Summary 0.0.0.1         4.4.4.4         1.1.1.1         1265 0x80000003 0x6816
Summary 0.0.0.1         6.6.6.6         1.1.1.1         266  0x80000003 0xc6a
Summary 0.0.0.1         10.1.2.0        1.1.1.1         703  0x80000003 0x9055
Summary 0.0.0.1         10.1.3.0        1.1.1.1         809  0x80000003 0x855f
Summary 0.0.0.1         10.2.4.0        1.1.1.1         1074 0x80000003 0x5a24
Summary 0.0.0.1         10.2.6.0        1.1.1.1         1275 0x80000003 0x4438
Summary 0.0.0.1         10.3.4.0        1.1.1.1         779  0x80000003 0x4e2f
Summary 0.0.0.1         192.168.3.0     1.1.1.1         691  0x80000003 0x5039
AS Ext  n/a             192.168.5.1     5.5.5.5         843  0x80000001 0x63ea
AS Ext  n/a             192.168.5.2     5.5.5.5         843  0x80000001 0x59f3
AS Ext  n/a             192.168.5.3     5.5.5.5         843  0x80000001 0x4ffc
-------------------------------------------------------------------------------
No. of LSAs: 25
===============================================================================
</code></pre></div> <p>R3:</p> <div class=highlight><pre><span></span><code>A:R3# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.0         1.1.1.1         1.1.1.1         683  0x80000006 0x5acc
Router  0.0.0.0         2.2.2.2         2.2.2.2         1016 0x80000006 0xaf65
Router  0.0.0.0         3.3.3.3         3.3.3.3         1148 0x80000009 0x1a6b
Router  0.0.0.0         4.4.4.4         4.4.4.4         1159 0x80000006 0xa54c
Summary 0.0.0.0         5.5.5.5         1.1.1.1         591  0x80000003 0x4e90
Summary 0.0.0.0         10.1.5.0        1.1.1.1         499  0x80000003 0x6f73
Summary 0.0.0.0         6.6.6.6         2.2.2.2         217  0x80000003 0x2d4
Summary 0.0.0.0         10.2.6.0        2.2.2.2         193  0x80000003 0x3aa2
AS Summ 0.0.0.0         5.5.5.5         1.1.1.1         1434 0x80000001 0x449b
AS Ext  n/a             192.168.5.1     5.5.5.5         870  0x80000001 0x63ea
AS Ext  n/a             192.168.5.2     5.5.5.5         870  0x80000001 0x59f3
AS Ext  n/a             192.168.5.3     5.5.5.5         870  0x80000001 0x4ffc
-------------------------------------------------------------------------------
No. of LSAs: 12
===============================================================================
</code></pre></div> <p>R6:</p> <div class=highlight><pre><span></span><code>A:R6# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.2         2.2.2.2         2.2.2.2         432  0x80000004 0x76b3
Router  0.0.0.2         6.6.6.6         6.6.6.6         1309 0x80000006 0xf9f2
Summary 0.0.0.2         1.1.1.1         2.2.2.2         535  0x80000003 0xe802
Summary 0.0.0.2         2.2.2.2         2.2.2.2         1098 0x80000004 0xcc7d
Summary 0.0.0.2         3.3.3.3         2.2.2.2         524  0x80000003 0x7806
Summary 0.0.0.2         4.4.4.4         2.2.2.2         1427 0x80000003 0x5e80
Summary 0.0.0.2         5.5.5.5         2.2.2.2         471  0x80000003 0x1c5a
Summary 0.0.0.2         10.1.2.0        2.2.2.2         661  0x80000003 0x726f
Summary 0.0.0.2         10.1.3.0        2.2.2.2         85   0x80000003 0x5329
Summary 0.0.0.2         10.1.5.0        2.2.2.2         200  0x80000003 0x3d3d
Summary 0.0.0.2         10.2.4.0        2.2.2.2         58   0x80000003 0x508e
Summary 0.0.0.2         10.3.4.0        2.2.2.2         549  0x80000003 0x3049
AS Summ 0.0.0.2         5.5.5.5         2.2.2.2         1460 0x80000001 0x1265
AS Ext  n/a             192.168.5.1     5.5.5.5         899  0x80000001 0x63ea
AS Ext  n/a             192.168.5.2     5.5.5.5         899  0x80000001 0x59f3
AS Ext  n/a             192.168.5.3     5.5.5.5         899  0x80000001 0x4ffc
-------------------------------------------------------------------------------
No. of LSAs: 16
===============================================================================


A:R6# show router route-table 192.168.5.0/24 longer

===============================================================================
Route Table (Router: Base)
===============================================================================
Dest Prefix[Flags]                            Type    Proto     Age        Pref
      Next Hop[Interface Name]                                    Metric
-------------------------------------------------------------------------------
192.168.5.1/32                                Remote  OSPF      00h28m27s  150
       10.2.6.2                                                     1
192.168.5.2/32                                Remote  OSPF      00h28m27s  150
       10.2.6.2                                                     1
192.168.5.3/32                                Remote  OSPF      00h28m27s  150
       10.2.6.2                                                     1
-------------------------------------------------------------------------------
No. of Routes: 3
</code></pre></div> <h2 id=ospf-stub-area>OSPF Stub Area<a class=headerlink href=#ospf-stub-area title="Permanent link">#</a></h2> <p>OSPF Stub Areas help to optimize LSDB and routing tables of the routers. We will configure <strong>Area 2</strong> as a stub area and this will tell ABR (R2) to not distribute any <em>External</em> routes and send a default route into Area 2 instead. To configure Area 2 as stub you need to configure <strong>all OSPF routers inside this area</strong>:</p> <p><img alt=pic src=http://img-fotki.yandex.ru/get/6504/21639405.11b/0_83cbb_ffa2879e_orig.png></p> <div class=highlight><pre><span></span><code><span class=c># on R2 (ABR)</span>
A:R2# configure router ospf
A:R2&gt;config&gt;router&gt;ospf# area <span class=m>2</span> stub


<span class=c># on R6 (Area 2 router)</span>
A:R6# configure router ospf area <span class=m>2</span> stub
</code></pre></div> <p>The following "before/after" comparison shows that <strong>after</strong> configuring Area 2's routers as <em>stub</em>, R6 router no longer receives <em>ASBR Summary LSA</em> and <em>AS External LSA</em> nor it has routes 192.168.5.1-3/32. Instead it has a new <em>Summary LSA</em> from the ABR with the <em>Link State ID</em> 0.0.0.0 which means <strong>default route</strong>.</p> <p>R6 before stub area configuration:</p> <div class=highlight><pre><span></span><code>A:R6# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.2         2.2.2.2         2.2.2.2         432  0x80000004 0x76b3
Router  0.0.0.2         6.6.6.6         6.6.6.6         1309 0x80000006 0xf9f2
Summary 0.0.0.2         1.1.1.1         2.2.2.2         535  0x80000003 0xe802
Summary 0.0.0.2         2.2.2.2         2.2.2.2         1098 0x80000004 0xcc7d
Summary 0.0.0.2         3.3.3.3         2.2.2.2         524  0x80000003 0x7806
Summary 0.0.0.2         4.4.4.4         2.2.2.2         1427 0x80000003 0x5e80
Summary 0.0.0.2         5.5.5.5         2.2.2.2         471  0x80000003 0x1c5a
Summary 0.0.0.2         10.1.2.0        2.2.2.2         661  0x80000003 0x726f
Summary 0.0.0.2         10.1.3.0        2.2.2.2         85   0x80000003 0x5329
Summary 0.0.0.2         10.1.5.0        2.2.2.2         200  0x80000003 0x3d3d
Summary 0.0.0.2         10.2.4.0        2.2.2.2         58   0x80000003 0x508e
Summary 0.0.0.2         10.3.4.0        2.2.2.2         549  0x80000003 0x3049
AS Summ 0.0.0.2         5.5.5.5         2.2.2.2         1460 0x80000001 0x1265
AS Ext  n/a             192.168.5.1     5.5.5.5         899  0x80000001 0x63ea
AS Ext  n/a             192.168.5.2     5.5.5.5         899  0x80000001 0x59f3
AS Ext  n/a             192.168.5.3     5.5.5.5         899  0x80000001 0x4ffc
-------------------------------------------------------------------------------
No. of LSAs: 16
===============================================================================



A:R6# show router route-table 192.168.5.0/24 longer

===============================================================================
Route Table (Router: Base)
===============================================================================
Dest Prefix[Flags]                            Type    Proto     Age        Pref
      Next Hop[Interface Name]                                    Metric
-------------------------------------------------------------------------------
192.168.5.1/32                                Remote  OSPF      00h28m27s  150
       10.2.6.2                                                     1
192.168.5.2/32                                Remote  OSPF      00h28m27s  150
       10.2.6.2                                                     1
192.168.5.3/32                                Remote  OSPF      00h28m27s  150
       10.2.6.2                                                     1
-------------------------------------------------------------------------------
No. of Routes: 3
</code></pre></div> <p>R6 after stub area configuration:</p> <div class=highlight><pre><span></span><code>*A:R6# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.2         2.2.2.2         2.2.2.2         199  0x80000002 0xecdf
Router  0.0.0.2         6.6.6.6         6.6.6.6         0    0x80000002 0x20d2
Summary 0.0.0.2         0.0.0.0         2.2.2.2         5    0x80000004 0x5102
Summary 0.0.0.2         1.1.1.1         2.2.2.2         199  0x80000002 0x9e4
Summary 0.0.0.2         2.2.2.2         2.2.2.2         199  0x80000002 0xee5f
Summary 0.0.0.2         3.3.3.3         2.2.2.2         199  0x80000002 0x98e8
Summary 0.0.0.2         4.4.4.4         2.2.2.2         199  0x80000002 0x7e63
Summary 0.0.0.2         5.5.5.5         2.2.2.2         199  0x80000002 0x3c3d
Summary 0.0.0.2         10.1.2.0        2.2.2.2         199  0x80000002 0x9252
Summary 0.0.0.2         10.1.3.0        2.2.2.2         199  0x80000002 0x730c
Summary 0.0.0.2         10.1.5.0        2.2.2.2         199  0x80000002 0x5d20
Summary 0.0.0.2         10.2.4.0        2.2.2.2         199  0x80000002 0x7071
Summary 0.0.0.2         10.3.4.0        2.2.2.2         199  0x80000002 0x502c
-------------------------------------------------------------------------------
No. of LSAs: 13
===============================================================================


*A:R6# show router route-table

===============================================================================
Route Table (Router: Base)
===============================================================================
Dest Prefix[Flags]                            Type    Proto     Age        Pref
      Next Hop[Interface Name]                                    Metric
-------------------------------------------------------------------------------
0.0.0.0/0                                     Remote  OSPF      00h00m44s  10
       10.2.6.2                                                     101
1.1.1.1/32                                    Remote  OSPF      00h00m44s  10
       10.2.6.2                                                     200
2.2.2.2/32                                    Remote  OSPF      00h00m44s  10
       10.2.6.2                                                     100
3.3.3.3/32                                    Remote  OSPF      00h00m44s  10
       10.2.6.2                                                     300
4.4.4.4/32                                    Remote  OSPF      00h00m44s  10
       10.2.6.2                                                     200
5.5.5.5/32                                    Remote  OSPF      00h00m44s  10
       10.2.6.2                                                     300
6.6.6.6/32                                    Local   Local     01h39m00s  0
       system                                                       0
10.1.2.0/24                                   Remote  OSPF      00h00m44s  10
       10.2.6.2                                                     200
10.1.3.0/24                                   Remote  OSPF      00h00m45s  10
       10.2.6.2                                                     300
10.1.5.0/24                                   Remote  OSPF      00h00m45s  10
       10.2.6.2                                                     300
10.2.4.0/24                                   Remote  OSPF      00h00m45s  10
       10.2.6.2                                                     200
10.2.6.0/24                                   Local   Local     01h38m38s  0
       toR2                                                         0
10.3.4.0/24                                   Remote  OSPF      00h00m45s  10
       10.2.6.2                                                     300
-------------------------------------------------------------------------------
No. of Routes: 13
</code></pre></div> <h2 id=ospf-totally-stub-area>OSPF Totally Stub Area<a class=headerlink href=#ospf-totally-stub-area title="Permanent link">#</a></h2> <p><a href=http://img-fotki.yandex.ru/get/6847/21639405.11b/0_83cbd_8d766fa0_orig.png><img class=aligncenter src=http://img-fotki.yandex.ru/get/6847/21639405.11b/0_83cbd_8d766fa0_XL.png alt width=800 height=427></a></p> <p>ABR router participating in a <em>Totally stub</em> area blocks not only <em>Type 4 ASBR Summary</em> and <em>Type 5 AS External LSA</em> but also <em>Type 3 Summary LSA</em>. This drastically reduces LSDB and route tables on Area 2 routers. As of this moment we have Area 2 configured as s_tub_area, lets configure it to be_totally stub_. To make Area 2_totally stub_ we need to configure ABR (R2) with keyword <code>no summaries</code> option:</p> <div class=highlight><pre><span></span><code>*A:R2# configure router ospf area 2 stub no summaries&lt;/pre&gt;

Take a look at R6&#39;s LSDB and route table

```*A:R6# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.2         2.2.2.2         2.2.2.2         482  0x80000004 0x9497
Router  0.0.0.2         6.6.6.6         6.6.6.6         518  0x80000004 0x1cd4
Summary 0.0.0.2         0.0.0.0         2.2.2.2         222  0x80000007 0x4b05
-------------------------------------------------------------------------------
No. of LSAs: 3
===============================================================================




*A:R6# show router route-table

===============================================================================
Route Table (Router: Base)
===============================================================================
Dest Prefix[Flags]                            Type    Proto     Age        Pref
      Next Hop[Interface Name]                                    Metric
-------------------------------------------------------------------------------
0.0.0.0/0                                     Remote  OSPF      00h02m16s  10
       10.2.6.2                                                     101
6.6.6.6/32                                    Local   Local     02h11m29s  0
       system                                                       0
10.2.6.0/24                                   Local   Local     02h11m07s  0
       toR2                                                         0
-------------------------------------------------------------------------------
No. of Routes: 3
</code></pre></div> <p>Now Area 2 router R6 has only 3 LSAs in its LSDB. All <em>Type 3 Summary LSA</em> for networks inside Area 0 were substituted by <em>Summary default route</em> from ABR (R2).</p> <h2 id=not-so-stubby-area-nssa>Not So Stubby Area (NSSA)<a class=headerlink href=#not-so-stubby-area-nssa title="Permanent link">#</a></h2> <p><img alt=pic src=http://img-fotki.yandex.ru/get/3114/21639405.11b/0_83cbf_2795355_orig.png> <small>There is a typo on the pic. No type4 lsa will be advertised in Area0 by R1. Only Type5</small></p> <p>Not so stubby areas are basically stub areas with an ASBR inside it. It inherits the same rule of blocking Type 4 and Type 5 LSA. But, in order to distribute external routes from ASBR another LSA this area leverages <em>Type 7</em> LSA.</p> <p>We will configure Area 1 to be NSSA by adding the following commands to R1 (ABR):</p> <div class=highlight><pre><span></span><code># prior to configuring NSSA on R5 lets check that we have active neighbor - R1

A:R5# show router ospf neighbor

===============================================================================
OSPFv2 (0) all neighbors
===============================================================================
Interface-Name                   Rtr Id          State      Pri  RetxQ   TTL
   Area-Id
-------------------------------------------------------------------------------
toR1                             1.1.1.1         Full       1    0       35
   0.0.0.1
-------------------------------------------------------------------------------
No. of Neighbors: 1
===============================================================================

#configuring Area 1 on R5 to NSSA state

A:R5# configure router ospf area 1 nssa


# Re-check neighbor status

*A:R5# show router ospf neighbor

===============================================================================
OSPFv2 (0) all neighbors
===============================================================================
Interface-Name                   Rtr Id          State      Pri  RetxQ   TTL
   Area-Id
-------------------------------------------------------------------------------
-------------------------------------------------------------------------------
No. of Neighbors: 0
===============================================================================
</code></pre></div> <p>As soon we configured Area 1 on R5 to be NSSA we lost R1 as neighbor. This is the effect of a mismatched <em>Area</em> type in OSPF <em>Hello</em> messages between the two routers. Recall that R1 is maintaining Area 1 as a basic area, and Area 1 on R5 was reconfigured to NSSA.</p> <p>We will fix neighboring by moving R1's Area 1 to NSSA operation as well:</p> <div class=highlight><pre><span></span><code>A:R1# configure router ospf area 1 nssa


# Now check neighboring one more time

*A:R1# show router ospf neighbor &quot;toR5&quot;

===============================================================================
OSPFv2 (0) neighbors for interface &quot;toR5&quot;
===============================================================================
Interface-Name                   Rtr Id          State      Pri  RetxQ   TTL
   Area-Id
-------------------------------------------------------------------------------
toR5                             5.5.5.5         Full       1    0       33
   0.0.0.1
-------------------------------------------------------------------------------
No. of Neighbors: 1
</code></pre></div> <p>Now when R1 and R5 are neighbors again lets see what has changed in their LSDBs:</p> <p>R5 LSDB prior to NSSA config:</p> <div class=highlight><pre><span></span><code>A:R5# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.1         1.1.1.1         1.1.1.1         1911 0x80000004 0x50ea
Router  0.0.0.1         5.5.5.5         5.5.5.5         1690 0x80000006 0x4bb4
Summary 0.0.0.1         1.1.1.1         1.1.1.1         2160 0x80000004 0x1939
Summary 0.0.0.1         2.2.2.2         1.1.1.1         2145 0x80000003 0xd812
Summary 0.0.0.1         3.3.3.3         1.1.1.1         1697 0x80000003 0xaa3c
Summary 0.0.0.1         4.4.4.4         1.1.1.1         669  0x80000004 0x6617
Summary 0.0.0.1         6.6.6.6         1.1.1.1         1529 0x80000003 0xc6a
Summary 0.0.0.1         10.1.2.0        1.1.1.1         997  0x80000003 0x9055
Summary 0.0.0.1         10.1.3.0        1.1.1.1         142  0x80000004 0x8360
Summary 0.0.0.1         10.2.4.0        1.1.1.1         1824 0x80000003 0x5a24
Summary 0.0.0.1         10.2.6.0        1.1.1.1         2092 0x80000003 0x4438
Summary 0.0.0.1         10.3.4.0        1.1.1.1         459  0x80000004 0x4c30
Summary 0.0.0.1         192.168.3.0     1.1.1.1         1824 0x80000003 0x5039
AS Ext  n/a             192.168.5.1     5.5.5.5         1369 0x80000003 0x5fec
AS Ext  n/a             192.168.5.2     5.5.5.5         1491 0x80000003 0x55f5
AS Ext  n/a             192.168.5.3     5.5.5.5         934  0x80000003 0x4bfe
-------------------------------------------------------------------------------
No. of LSAs: 16
===============================================================================
</code></pre></div> <p>R5 LSDB after NSSA config:</p> <div class=highlight><pre><span></span><code>*A:R5# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.1         1.1.1.1         1.1.1.1         539  0x80000002 0xa884
Router  0.0.0.1         5.5.5.5         5.5.5.5         538  0x80000004 0x6d96
Summary 0.0.0.1         1.1.1.1         1.1.1.1         538  0x80000002 0x3b1b
Summary 0.0.0.1         2.2.2.2         1.1.1.1         538  0x80000002 0xf8f4
Summary 0.0.0.1         3.3.3.3         1.1.1.1         538  0x80000002 0xca1f
Summary 0.0.0.1         4.4.4.4         1.1.1.1         538  0x80000002 0x88f8
Summary 0.0.0.1         6.6.6.6         1.1.1.1         538  0x80000002 0x2c4d
Summary 0.0.0.1         10.1.2.0        1.1.1.1         538  0x80000002 0xb038
Summary 0.0.0.1         10.1.3.0        1.1.1.1         538  0x80000002 0xa542
Summary 0.0.0.1         10.2.4.0        1.1.1.1         538  0x80000002 0x7a07
Summary 0.0.0.1         10.2.6.0        1.1.1.1         538  0x80000002 0x641b
Summary 0.0.0.1         10.3.4.0        1.1.1.1         538  0x80000002 0x6e12
Summary 0.0.0.1         192.168.3.0     1.1.1.1         538  0x80000002 0x701c
NSSA    0.0.0.1         192.168.5.1     5.5.5.5         577  0x80000001 0xe74a
NSSA    0.0.0.1         192.168.5.2     5.5.5.5         577  0x80000001 0xdd53
NSSA    0.0.0.1         192.168.5.3     5.5.5.5         577  0x80000001 0xd35c
-------------------------------------------------------------------------------
No. of LSAs: 16
===============================================================================
</code></pre></div> <p>As we see, all <em>Type 5 AS External LSA</em> were substituted by <em>Type 7 NSSA LSA</em>. And if we had any other external routes we wouldn't see them in R5 database, since NSSA areas can not contain External routes.</p> <h2 id=totally-nssa>Totally NSSA<a class=headerlink href=#totally-nssa title="Permanent link">#</a></h2> <p><img alt=pic src=http://img-fotki.yandex.ru/get/6300/21639405.11b/0_83cc0_5d4047c9_orig.png> <small>There is a typo on the pic. No type4 lsa will be advertised in Area0 by R1. Only Type5</small></p> <p>As with totally stubby areas, NSSA could be configured in a way that no <em>Type 3 Summary LSA</em> will present in such area. Totally NSSA configuration adds two additional commands on ABR:</p> <p>On R1:</p> <div class=highlight><pre><span></span><code>*A:R1&gt;config&gt;router&gt;ospf&gt;area# info
----------------------------------------------
                nssa
                exit
                interface &quot;toR5&quot;
                    interface-type point-to-point
                    no shutdown
                exit
----------------------------------------------

# Configuring NSSA to be totally NSSA
*A:R1&gt;config&gt;router&gt;ospf&gt;area# nssa no summaries&lt;/pre&gt;
</code></pre></div> <p>On R5:</p> <div class=highlight><pre><span></span><code># As a result - no Type 3 Summary LSA are present in R5&#39;s database

*A:R5# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.1         1.1.1.1         1.1.1.1         1305 0x80000003 0xa685
Router  0.0.0.1         5.5.5.5         5.5.5.5         1550 0x80000005 0x6b97
NSSA    0.0.0.1         192.168.5.1     5.5.5.5         1654 0x80000002 0xe54b
NSSA    0.0.0.1         192.168.5.2     5.5.5.5         852  0x80000002 0xdb54
NSSA    0.0.0.1         192.168.5.3     5.5.5.5         816  0x80000002 0xd15d
-------------------------------------------------------------------------------
No. of LSAs: 5
===============================================================================
</code></pre></div> <p>ABR configured with <em>Totally NSSA</em> area filters Type 3 LSA as totally stubby area does. But notice one major difference - there is <strong>no default route</strong> injected by ABR. This is the cause of ping failure to any <em>Area 0</em> address:</p> <div class=highlight><pre><span></span><code>*A:R5# ping 4.4.4.4
PING 4.4.4.4 56 data bytes
No route to destination. Address: 4.4.4.4, Router: Base
</code></pre></div> <p>To resolve this issue you should add another command to NSSA context:</p> <div class=highlight><pre><span></span><code>*A:R1&gt;config&gt;router&gt;ospf&gt;area# nssa originate-default-route
</code></pre></div> <p>This will cause R1 to inject Type 3 Summary LSA in Area 1:</p> <div class=highlight><pre><span></span><code>*A:R5# show router ospf database

===============================================================================
OSPFv2 (0) Link State Database (Type : All)
===============================================================================
Type    Area Id         Link State Id   Adv Rtr Id      Age  Sequence   Cksum
-------------------------------------------------------------------------------
Router  0.0.0.1         1.1.1.1         1.1.1.1         1652 0x80000003 0xa685
Router  0.0.0.1         5.5.5.5         5.5.5.5         264  0x80000006 0x6998
Summary 0.0.0.1         0.0.0.0         1.1.1.1         53   0x80000001 0x75e4
NSSA    0.0.0.1         192.168.5.1     5.5.5.5         172  0x80000003 0xe34c
NSSA    0.0.0.1         192.168.5.2     5.5.5.5         1199 0x80000002 0xdb54
NSSA    0.0.0.1         192.168.5.3     5.5.5.5         1163 0x80000002 0xd15d
-------------------------------------------------------------------------------
No. of LSAs: 6
===============================================================================


*A:R5# ping 4.4.4.4
PING 4.4.4.4 56 data bytes
64 bytes from 4.4.4.4: icmp_seq=1 ttl=62 time=19.6ms.
</code></pre></div> <h2 id=debugging-ospf-adjacency-issues>Debugging OSPF adjacency issues<a class=headerlink href=#debugging-ospf-adjacency-issues title="Permanent link">#</a></h2> <p>For two OSPF routers to become neighbors several parameters should be matched. And most of them - are the parameters communicated via OSPF Hello messages. If you do not see a neighbor on the other side there is a good chance that one of these parameters mismatches.</p> <p>When you need to investigate the reason casing a neighboring relationships to break leverage the debug commands available.</p> <p>Consider the following example where R1 lost its neighbor R5 in Area 1:</p> <div class=highlight><pre><span></span><code>*A:R1# show router ospf neighbor &quot;toR5&quot;

===============================================================================
OSPFv2 (0) neighbors for interface &quot;toR5&quot;
===============================================================================
Interface-Name                   Rtr Id          State      Pri  RetxQ   TTL
   Area-Id
-------------------------------------------------------------------------------
-------------------------------------------------------------------------------
No. of Neighbors: 0
===============================================================================
</code></pre></div> <p>To see what is going wrong, lets create a logging instance and capture <em>Hello</em> packets to analyze their content:</p> <div class=highlight><pre><span></span><code># Creating log #55
*A:R1# configure log log-id 55

# Configuring capture log messages from debug to memory 
*A:R1&gt;config&gt;log&gt;log-id$ from debug-trace
*A:R1&gt;config&gt;log&gt;log-id$ to memory


# Specifying what &quot;debug&quot; should process. We are hunting OSPF Hello packets
# adding &quot;detail&quot; to see more verbose output

*A:R1# debug router ospf packet hello detail
</code></pre></div> <p>Now that we have <strong>log</strong> and <strong>debug</strong> objects configured, we could drill down to the contents of Hello messages:</p> <div class=highlight><pre><span></span><code>*A:R1# show log log-id 55

===============================================================================
Event Log 55
===============================================================================
Description : (Not Specified)
Memory Log contents  [size=100   next event=22  (not wrapped)]

20 2015/01/01 03:11:31.28 UTC MINOR: DEBUG #2001 Base OSPFv2
&quot;OSPFv2: PKT DROPPED
hello interval mismatch&quot;

19 2015/01/01 03:11:31.28 UTC MINOR: DEBUG #2001 Base OSPFv2
&quot;OSPFv2: PKT

&gt;&gt; Incoming OSPF packet on I/F toR5 area 0.0.0.1
OSPF Version      : 2
Router Id         : 5.5.5.5
Area Id           : 0.0.0.1
Checksum          : ec98
Auth Type         : Null
Auth Key          : 00 00 00 00 00 00 00 00
Packet Type       : HELLO
Packet Length     : 44

Network Mask      : 255.255.255.0
Hello Interval    : 5
Options           : 08 -----N----
Rtr Priority      : 1
Dead Interval     : 40
Designated Router : 0.0.0.0
Backup Router     : 0.0.0.0
</code></pre></div> <p>Now the problem is clear - incoming OSPF packet came in with Hello timer set to 5sec. And R1 tells us that this value mismatches its configured <em>Hello timer</em> value.</p> <p>This debug technique should indicate every discrepancy in OSPF values that should match, be it authentication mismatch or Area ID mismatch.</p> <p>And that is all for the moment.</p> <h2 id=__comments>Comments</h2> <script src=https://giscus.app/client.js data-repo=hellt/netdevops.me data-repo-id="MDEwOlJlcG9zaXRvcnkzNTkzNTc5ODc=" data-category="Show and tell" data-category-id=DIC_kwDOFWteI84CRmVn data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=en data-loading=lazy crossorigin=anonymous async>
    </script> <!-- Synchronize Giscus theme with palette --> <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light"
        giscus.setAttribute("data-theme", theme)
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate" ? "dark" : "light"

                /* Instruct Giscus to change theme */
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    { giscus: { setConfig: { theme } } },
                    "https://giscus.app"
                )
            }
        })
    })
</script> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../ospf-neighbors-on-a-point-to-broadcast-network/ class="md-footer__link md-footer__link--prev" aria-label='Previous: OSPF. Neighbors on a "point-to-broadcast" network' rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> OSPF. Neighbors on a "point-to-broadcast" network </div> </div> </a> <a href=../nokia-alcatel-lucent-configuring-packet-ip-filters/ class="md-footer__link md-footer__link--next" aria-label="Next: Nokia (Alcatel-Lucent). Configuring Packet (IP) Filters" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Nokia (Alcatel-Lucent). Configuring Packet (IP) Filters </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs Insiders </a> </div> <div class=md-social> <a href=https://github.com/hellt target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/ntdvps target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.top", "navigation.instant", "navigation.tabs", "search.suggest", "content.code.annotate", "toc.follow", "content.tooltips", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.939a4419.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.b9c29124.min.js></script> </body> </html>