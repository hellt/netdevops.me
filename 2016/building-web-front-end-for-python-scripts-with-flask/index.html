<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Applying DevOps to networks."><meta name=author content="Roman Dodin"><link href=https://netdevops.me/2016/building-web-front-end-for-python-scripts-with-flask/ rel=canonical><link href=../../2015/basic-l3vpn-bgpmpls-vpn-or-vprn-configuration-on-nokia-alcatel-lucent-sros--juniper-mx/ rel=prev><link href=../bgp-vpls-deep-dive-nokia-sr-os--juniper/ rel=next><link rel=alternate type=application/rss+xml title="RSS feed" href=../../feed_rss_created.xml><link rel=alternate type=application/rss+xml title="RSS feed of updated content" href=../../feed_rss_updated.xml><link rel=icon href=../../assets/images/code.svg><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.4.14+insiders-4.46.0"><title>Building Web front end for Python scripts with Flask - Applying DevOps to networks</title><link rel=stylesheet href=../../assets/stylesheets/main.0ab26e37.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CFira+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Google Sans";--md-code-font:"Fira Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-Y7R34KCT4N"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-Y7R34KCT4N",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-Y7R34KCT4N",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script> <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../assets/javascripts/glightbox.min.js"></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#building-web-front-end-for-python-scripts-with-flask class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <a href=https://twitter.com/ntdvps> For updates follow <strong>@ntdvps</strong> on <span class="twemoji twitter"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </span> <strong>Twitter</strong> </a> </div> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Applying DevOps to networks" class="md-header__button md-logo" aria-label="Applying DevOps to networks" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Applying DevOps to networks </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Building Web front end for Python scripts with Flask </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=cyan aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hellt/netdevops.me title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hellt/netdevops.me </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=../.. class=md-tabs__link> Blog </a> </li> <li class=md-tabs__item> <a href=../../tags/ class=md-tabs__link> Tags </a> </li> <li class=md-tabs__item> <a href=../../subscribe/ class=md-tabs__link> Subscribe </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Applying DevOps to networks" class="md-nav__button md-logo" aria-label="Applying DevOps to networks" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg> </a> Applying DevOps to networks </label> <div class=md-nav__source> <a href=https://github.com/hellt/netdevops.me title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hellt/netdevops.me </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=../.. class="md-nav__link "> <span class=md-ellipsis> Blog </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=true> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../../tags/ class=md-nav__link> <span class=md-ellipsis> Tags </span> </a> </li> <li class=md-nav__item> <a href=../../subscribe/ class=md-nav__link> <span class=md-ellipsis> Subscribe </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#tools-technologies class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Tools &amp; Technologies </span> </span> </a> <nav class=md-nav aria-label="Tools & Technologies"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#front-end class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Front-end </span> </span> </a> </li> <li class=md-nav__item> <a href=#back-end class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Back-end </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#project-structure-overview class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Project structure overview </span> </span> </a> </li> <li class=md-nav__item> <a href=#configuring-flask class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Configuring Flask </span> </span> </a> </li> <li class=md-nav__item> <a href=#setting-up-front-end class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Setting up front-end </span> </span> </a> <nav class=md-nav aria-label="Setting up front-end"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#layout class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Layout </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#flask-routes-templates class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Flask routes &amp; templates </span> </span> </a> <nav class=md-nav aria-label="Flask routes & templates"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#routes class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Routes </span> </span> </a> </li> <li class=md-nav__item> <a href=#templates class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Templates </span> </span> </a> <nav class=md-nav aria-label=Templates> <ul class=md-nav__list> <li class=md-nav__item> <a href=#template-inheritance class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Template inheritance </span> </span> </a> </li> <li class=md-nav__item> <a href=#main-template class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Main template </span> </span> </a> </li> <li class=md-nav__item> <a href=#child-template class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Child template </span> </span> </a> </li> <li class=md-nav__item> <a href=#intermediate-templates-and-multiple-inheritances class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Intermediate templates and multiple inheritances </span> </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#flask-blueprints class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Flask Blueprints </span> </span> </a> <nav class=md-nav aria-label="Flask Blueprints"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#blueprint-creation class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Blueprint creation </span> </span> </a> </li> <li class=md-nav__item> <a href=#register-a-blueprint class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Register a blueprint </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#front-end-back-end-data-exchange class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Front-end&lt;-&gt;back-end data exchange </span> </span> </a> <nav class=md-nav aria-label="Front-end<->back-end data exchange"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#serializing-input-data class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Serializing input data </span> </span> </a> </li> <li class=md-nav__item> <a href=#sending-serialized-data-to-the-back-end class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Sending serialized data to the back-end </span> </span> </a> </li> <li class=md-nav__item> <a href=#receiving-data-by-the-back-end-and-processing class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Receiving data by the back-end and processing </span> </span> </a> </li> <li class=md-nav__item> <a href=#passing-the-results-back-to-the-front-end class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Passing the results back to the front-end </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#adding-new-script-is-easy class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Adding new script is easy </span> </span> </a> <nav class=md-nav aria-label="Adding new script is easy"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#create-the-file-structure class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Create the file structure </span> </span> </a> </li> <li class=md-nav__item> <a href=#create-html-files class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Create HTML files </span> </span> </a> </li> <li class=md-nav__item> <a href=#create-register-a-blueprint class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> Create &amp; register a Blueprint </span> </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#how-to-test-plaza class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> How to test PLAZA? </span> </span> </a> </li> <li class=md-nav__item> <a href=#whats-next class=md-nav__link> <span class=md-ellipsis> <span class=md-typeset> What's next? </span> </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../.. class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <div class="md-post__authors md-typeset"> <div class="md-profile md-post__profile"> <span class="md-author md-author--long"> <img src=https://avatars.githubusercontent.com/u/5679861 alt="Roman Dodin"> </span> <span class=md-profile__description> <strong> Roman Dodin </strong> <br> Network Automater </span> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class=md-post__title> <span class=md-ellipsis> Metadata </span> </div> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg> <time datetime="2016-04-01 00:00:00" class=md-ellipsis>April 1, 2016</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7h1.5Z"/></svg> <span class=md-ellipsis> 23 min read </span> </div> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <nav class=md-tags> <a href=../../tags/#bootstrap class=md-tag>bootstrap</a> <a href=../../tags/#flask class=md-tag>flask</a> <a href=../../tags/#python class=md-tag>python</a> </nav> <h1 id=building-web-front-end-for-python-scripts-with-flask>Building Web front end for Python scripts with Flask<a class=headerlink href=#building-web-front-end-for-python-scripts-with-flask title="Permanent link">#</a></h1> <p>Recently I revived my relationship with Python in an effort to tackle the routine tasks appearing here and there. So I started to write some <em>pocket scripts</em> and, luckily, was not the only one on this battlefield - my colleagues also have a bunch of useful scripts. With all those code snippets sent in the emails, cloned from the repos, grabbed on the network shares... I started to wonder how much easier would it be if someone had them all aggregated and presented with a Web UI for a shared access?</p> <p>Thus, I started to build web front-end to the python scripts we used daily with these goals in mind:</p> <ul> <li>allow people with a zero knowledge of Python to use the scripts by interacting with them through a simple Web UI;</li> <li>make script's output more readable by leveraging CSS and HTML formatting;</li> <li>aggregate all the scripts in one a single repo but in a separate sandboxed directories to maintain code manageability.</li> </ul> <p>This short demo should give you some taste of what it is:</p> <p><center><iframe width=560 height=315 src=https://www.youtube.com/embed/KzOFlFYucvM title="YouTube video player" frameborder=0 allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></center></p> <p><strong>Disclaimer:</strong> I am nowhere near even a professional python or web developer. And what makes it even worse is that I used (a lot) a very dangerous coding paradigm - SDD - Stack Overflow Driven Development. So, hurt me plenty if you see some awful mistakes.</p> <p><a href=https://github.com/hellt/PLAZA>Project source code</a></p> <!-- more --> <p><strong>PLAZA</strong> (this is the name I gave this project) implements a straightforward user experience flow: a user opens a web page, selects a script from the menu, fills in the necessary input data and run a script to get the results back.</p> <p><a class=glightbox href=https://img-fotki.yandex.ru/get/28982/21639405.11c/0_88707_2e87ef65_orig.png data-type=image data-width=100% data-height=auto data-desc-position=bottom><img alt=pic src=https://img-fotki.yandex.ru/get/28982/21639405.11c/0_88707_2e87ef65_orig.png></a></p> <p>By hitting <code>submit</code> data goes to the back-end part, where the chosen python script does it's noble job and produces some data. This data gets pushed back to the browser and as displayed to a user.</p> <p>Obviously, one will need some front-end technologies to build the web layer and some back-end to process the incoming data.</p> <h2 id=tools-technologies>Tools &amp; Technologies<a class=headerlink href=#tools-technologies title="Permanent link">#</a></h2> <h3 id=front-end>Front-end<a class=headerlink href=#front-end title="Permanent link">#</a></h3> <p>To build a fairly fresh-looking (<em>fresh</em> as in 2016yr), dynamic web view we need a web framework to leverage. I used <a href=http://getbootstrap.com>Bootstrap</a> package (CSS and JS) as it is well documented and have tons of implementations and examples.</p> <p>What tastes good with Bootstrap - <a href=http://jquery.com>JQuery</a>, of course. JQuery was used to handle AJAX response/request messages between the front-end and the back-end without reloading the whole page. Since I had no previous experience with both of these technologies, I heavily used everything google served me. Here is my list of useful resources I found noteworthy:</p> <ol> <li><a href=http://www.layoutit.com/build#>Layoutit.com</a> - there you can create Bootstrap grid and play with elements in a drag and drop fashion. Load the result in a zip file and your grid system is almost ready.</li> <li><a href=http://1000hz.github.io/bootstrap-validator/ >Form validator by 1000hz</a> - well, it's a form validator. And since every script needs to get input data from a user, form validation is a must-have for a sleek user experience.</li> <li><a href=http://bootsnipp.com/ >Bootsnipp.com</a> - crowdsource collection of snippets written with Bootstrap. I grabbed my side menu from it. Another useful section from this site is <a href=http://bootsnipp.com/forms>Form Builder</a>.</li> <li><a href=https://formden.com/form-builder/ >Formden</a> - another form builder.</li> </ol> <h3 id=back-end>Back-end<a class=headerlink href=#back-end title="Permanent link">#</a></h3> <p>The heavy lifting in the back is done by the gorgeous <a href=http://flask.pocoo.org/ >Flask</a>, which is a micro framework for writing web applications. It includes a web-server, <a href=http://jinja.pocoo.org/docs/dev/ >Jinja2</a> templating engine and lots of features to make back-end easy even for dummies like me.</p> <p>As to the Flask related resources I cherry-picked the following:</p> <ol> <li><a href=http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world>Famous Flask Mega Tutorial by Miguel Grinberg</a></li> <li><a href=https://github.com/realpython/discover-flask>Discover Flask</a> - A full season of youtube videos from Michael Herman</li> <li><a href=https://flask.palletsprojects.com/en/1.1.x/quickstart/#quickstart>Official documentation</a> of course!</li> <li>Another good post on <a href="http://www.giantflyingsaucer.com/blog/?p=4310">AJAX+Flask interaction</a> from giantflyingsaucer.com</li> </ol> <h2 id=project-structure-overview>Project structure overview<a class=headerlink href=#project-structure-overview title="Permanent link">#</a></h2> <p>Having frameworks set and tools figured out I started to outline the project's high-level structure.</p> <p>Flask maintains a simple yet flexible project structure. In my case, I didn't deviate far away from a basic setup, since the overall simplicity is one of the project's objectives.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>├──<span class=w> </span>app.py<span class=w>        </span><span class=c1># Flask application</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>├──<span class=w> </span>config.py<span class=w>     </span><span class=c1># Flask configuration</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>├──<span class=w> </span>.env<span class=w>          </span><span class=c1># env variables for dev/prod environments</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>├──<span class=w> </span>scripts_bank<span class=w>  </span><span class=c1># directory to store all python scripts we&#39;re going to use via Web</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>├──<span class=w> </span>static<span class=w>        </span><span class=c1># static data for Bootstrap CSS, JS, custom fonts, etc</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>│<span class=w>   </span>├──<span class=w> </span>css
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>│<span class=w>   </span>├──<span class=w> </span>fonts
</span><span id=__span-0-8><a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>│<span class=w>   </span>└──<span class=w> </span>js
</span><span id=__span-0-9><a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>├──<span class=w> </span>templates<span class=w>     </span><span class=c1># HTML templates used to render pages&lt;/pre&gt;</span>
</span></code></pre></div> <p>Although the comments above give enough information about the structure, let's go into details a bit</p> <ol> <li>Flask application - <code>app.py</code> - is an entry point for the whole project. It starts the web-server, loads the <code>routes</code> (aka links to the pages of your web project) and plugs in python scripts stored in the <code>scripts_bank</code> directory.</li> <li>As every other app, Flask app should be configured differently for development and production. This is done via the <code>config.py</code> and the environment variables <code>.env</code> file.</li> <li>In the <code>static</code> directory you normally store your CSS, JS, pictures, custom fonts. So did I.</li> <li>HTML pages are in the <code>templates</code> directory.</li> <li>And the pythonic scripts with all the relevant files (unique HTML templates for input forms, additional front-end Javascript code, etc) are living inside the <code>scripts_bank</code> directory.</li> </ol> <h2 id=configuring-flask>Configuring Flask<a class=headerlink href=#configuring-flask title="Permanent link">#</a></h2> <p>Once you have Flask installed and got familiar with its basics (either through official quick start guide or tons of tutorials) it is time to configure it. There are <a href=https://flask.palletsprojects.com/en/1.1.x/config/ >several</a> <a href=https://exploreflask.com/configuration.html>ways</a> to configure a Flask application. The basic one is to specify the configuration statements as the arguments to your <code>app</code> instance:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=c1>## pass secret_key and SQLAlchemy params</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=n>app</span><span class=o>.</span><span class=n>secret_key</span> <span class=o>=</span> <span class=s1>&#39;test&#39;</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=n>app</span><span class=o>.</span><span class=n>config</span><span class=p>[</span><span class=n>SQLALCHEMY_DATABASE_URI</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;sqlite:///db/sql.db&#39;</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>    <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>debug</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>     <span class=c1>## pass DEBUG param&lt;/pre&gt;</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=n>A</span> <span class=n>bit</span> <span class=n>more</span> <span class=n>advanced</span> <span class=n>way</span> <span class=ow>is</span> <span class=n>to</span> <span class=n>specify</span> <span class=nb>all</span> <span class=n>the</span> <span class=n>config</span> <span class=n>parameters</span> <span class=ow>in</span> <span class=n>uppercase</span> <span class=ow>in</span> <span class=n>your</span> <span class=err>`</span><span class=n>app</span><span class=o>.</span><span class=n>py</span><span class=err>`</span> <span class=ow>and</span> <span class=n>tell</span> <span class=n>the</span> <span class=err>`</span><span class=n>app</span><span class=err>`</span> <span class=n>instance</span> <span class=n>to</span> <span class=n>get</span> <span class=n>config</span> <span class=kn>from</span> <span class=nn>this</span> <span class=n>file</span><span class=p>:</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=err>```</span><span class=n>DEBUG</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=n>SECRET_KEY</span> <span class=o>=</span> <span class=s1>&#39;yekterces&#39;</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=n>SQLALCHEMY_DATABASE_URI</span> <span class=o>=</span> <span class=s1>&#39;sqlite:///db/sql.db&#39;</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=n>app</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>from_object</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>   <span class=c1># get config from this module&lt;/pre&gt;</span>
</span></code></pre></div> <p>But the methods discussed so far can't let you have different configurations for Dev and Prod environments (which you'd want to have eventually).</p> <p>When I was choosing the configuration method for this app I followed a path which consists of these three key points:</p> <ol> <li>creating configuration classes for different environments using inheritance (explained <a href=https://flask.palletsprojects.com/en/1.1.x/config/#development-production>here</a>)</li> <li>choosing the right configuration class based on the current value of the environment variable</li> <li>storing environment variables in a file (<code>.env</code>) and parsing its contents for parameters (<a href=https://stackoverflow.com/questions/21538859/pycharm-set-environment-variable-for-run-manage-py-task/29546356#29546356>more here</a>)</li> </ol> <blockquote> <p><strong>Detailed explanation of Flask app configuration</strong></p> <p>Going from bottom to top, <code>.env</code> is a file, which stores application parameters in a way like classic environment variables do.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1># This file is used to store configuration settings for</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=c1># Dev and Prod environments. PLAZA_SETTINGS value is used by app.py to</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=c1># properly detect which configuration class to use</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=c1># uncomment/modify desired section prior to use</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=c1># dev</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=nv>PLAZA_SETTINGS</span><span class=w> </span><span class=o>=</span><span class=w> </span>config.Development<span class=w> </span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=c1># prod</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=c1># PLAZA_SETTINGS = config.Production</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=c1># HOST = 0.0.0.0&lt;/pre&gt;</span>
</span></code></pre></div> <p>Then Flask application initializes and gets configuration from a class, stored in <code>PLAZA_SETTINGS</code> variable:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span><span class=p>,</span> <span class=n>render_template</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=kn>import</span> <span class=nn>os</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=kn>import</span> <span class=nn>config</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=n>root_folder_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=c1># get env_settings list</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=n>env_settings</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>EnvironmentSettings</span><span class=p>(</span><span class=n>root_folder_path</span><span class=p>)</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=c1># initialize Flask app</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=c1># configure Flask app from a class, stored in PLAZA_SETTINGS variable</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=n>app</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>from_object</span><span class=p>(</span><span class=n>env_settings</span><span class=p>[</span><span class=s1>&#39;PLAZA_SETTINGS&#39;</span><span class=p>])</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a>   <span class=c1># if we are in Prod, use HOST and PORT specified</span>
</span><span id=__span-3-19><a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a>   <span class=k>try</span><span class=p>:</span>
</span><span id=__span-3-20><a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a>       <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=nb>str</span><span class=p>(</span><span class=n>env_settings</span><span class=p>[</span><span class=s1>&#39;HOST&#39;</span><span class=p>]),</span> <span class=n>port</span><span class=o>=</span><span class=mi>80</span><span class=p>)</span>
</span><span id=__span-3-21><a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a>   <span class=k>except</span> <span class=n>config</span><span class=o>.</span><span class=n>ConfigurationError</span><span class=p>:</span>
</span><span id=__span-3-22><a id=__codelineno-3-22 name=__codelineno-3-22 href=#__codelineno-3-22></a>       <span class=n>app</span><span class=o>.</span><span class=n>run</span><span class=p>()</span><span class=o>&lt;/</span><span class=n>pre</span><span class=o>&gt;</span>
</span></code></pre></div> <p>Functions subject to configuration along with configuration classes are stored in the <code>config.py</code> file:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=kn>import</span> <span class=nn>os</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=c1># default config class</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=k>class</span> <span class=nc>Base</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>    <span class=n>DEBUG</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>    <span class=n>SECRET_KEY</span> <span class=o>=</span> <span class=s1>&#39;your_secret&#39;</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=k>class</span> <span class=nc>Development</span><span class=p>(</span><span class=n>Base</span><span class=p>):</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>    <span class=n>DEBUG</span> <span class=o>=</span> <span class=kc>True</span>
</span><span id=__span-4-12><a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>
</span><span id=__span-4-13><a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>
</span><span id=__span-4-14><a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=k>class</span> <span class=nc>Production</span><span class=p>(</span><span class=n>Base</span><span class=p>):</span>
</span><span id=__span-4-15><a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a>    <span class=n>DEBUG</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-4-16><a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a>
</span><span id=__span-4-17><a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a>
</span><span id=__span-4-18><a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a><span class=k>class</span> <span class=nc>EnvironmentSettings</span><span class=p>:</span>
</span><span id=__span-4-19><a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-4-20><a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a><span class=sd>    Access to environment variables via system os or .env file for different environments (Prod vs Dev)</span>
</span><span id=__span-4-21><a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-4-22><a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>root_folder_path</span><span class=p>):</span>
</span><span id=__span-4-23><a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a>        <span class=bp>self</span><span class=o>.</span><span class=n>_root_folder_path</span> <span class=o>=</span> <span class=n>root_folder_path</span>
</span><span id=__span-4-24><a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a>
</span><span id=__span-4-25><a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a>    <span class=k>def</span> <span class=fm>__getitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>):</span>
</span><span id=__span-4-26><a id=__codelineno-4-26 name=__codelineno-4-26 href=#__codelineno-4-26></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_get_env_variable</span><span class=p>(</span><span class=n>key</span><span class=p>)</span>
</span><span id=__span-4-27><a id=__codelineno-4-27 name=__codelineno-4-27 href=#__codelineno-4-27></a>
</span><span id=__span-4-28><a id=__codelineno-4-28 name=__codelineno-4-28 href=#__codelineno-4-28></a>    <span class=k>def</span> <span class=fm>__setitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>value</span><span class=p>):</span>
</span><span id=__span-4-29><a id=__codelineno-4-29 name=__codelineno-4-29 href=#__codelineno-4-29></a>        <span class=k>raise</span> <span class=n>InvalidOperationException</span><span class=p>(</span><span class=s1>&#39;Environment Settings are read-only&#39;</span><span class=p>)</span>
</span><span id=__span-4-30><a id=__codelineno-4-30 name=__codelineno-4-30 href=#__codelineno-4-30></a>
</span><span id=__span-4-31><a id=__codelineno-4-31 name=__codelineno-4-31 href=#__codelineno-4-31></a>    <span class=k>def</span> <span class=fm>__delitem__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>key</span><span class=p>):</span>
</span><span id=__span-4-32><a id=__codelineno-4-32 name=__codelineno-4-32 href=#__codelineno-4-32></a>        <span class=k>raise</span> <span class=n>InvalidOperationException</span><span class=p>(</span><span class=s1>&#39;Environment Settings are read-only&#39;</span><span class=p>)</span>
</span><span id=__span-4-33><a id=__codelineno-4-33 name=__codelineno-4-33 href=#__codelineno-4-33></a>
</span><span id=__span-4-34><a id=__codelineno-4-34 name=__codelineno-4-34 href=#__codelineno-4-34></a>    <span class=k>def</span> <span class=nf>_get_env_variable</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>var_name</span><span class=p>,</span> <span class=n>default</span><span class=o>=</span><span class=kc>False</span><span class=p>):</span>
</span><span id=__span-4-35><a id=__codelineno-4-35 name=__codelineno-4-35 href=#__codelineno-4-35></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-4-36><a id=__codelineno-4-36 name=__codelineno-4-36 href=#__codelineno-4-36></a><span class=sd>        Get the environment variable or return exception</span>
</span><span id=__span-4-37><a id=__codelineno-4-37 name=__codelineno-4-37 href=#__codelineno-4-37></a><span class=sd>        :param var_name: Environment Variable to lookup</span>
</span><span id=__span-4-38><a id=__codelineno-4-38 name=__codelineno-4-38 href=#__codelineno-4-38></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-4-39><a id=__codelineno-4-39 name=__codelineno-4-39 href=#__codelineno-4-39></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-4-40><a id=__codelineno-4-40 name=__codelineno-4-40 href=#__codelineno-4-40></a>            <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=p>[</span><span class=n>var_name</span><span class=p>]</span>
</span><span id=__span-4-41><a id=__codelineno-4-41 name=__codelineno-4-41 href=#__codelineno-4-41></a>        <span class=k>except</span> <span class=ne>KeyError</span><span class=p>:</span>
</span><span id=__span-4-42><a id=__codelineno-4-42 name=__codelineno-4-42 href=#__codelineno-4-42></a>            <span class=kn>from</span> <span class=nn>io</span> <span class=kn>import</span> <span class=n>StringIO</span>
</span><span id=__span-4-43><a id=__codelineno-4-43 name=__codelineno-4-43 href=#__codelineno-4-43></a>            <span class=kn>from</span> <span class=nn>configparser</span> <span class=kn>import</span> <span class=n>ConfigParser</span>
</span><span id=__span-4-44><a id=__codelineno-4-44 name=__codelineno-4-44 href=#__codelineno-4-44></a>
</span><span id=__span-4-45><a id=__codelineno-4-45 name=__codelineno-4-45 href=#__codelineno-4-45></a>            <span class=n>env_file</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>&#39;PROJECT_ENV_FILE&#39;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>_root_folder_path</span> <span class=o>+</span> <span class=s2>&quot;/.env&quot;</span><span class=p>)</span>
</span><span id=__span-4-46><a id=__codelineno-4-46 name=__codelineno-4-46 href=#__codelineno-4-46></a>            <span class=k>try</span><span class=p>:</span>
</span><span id=__span-4-47><a id=__codelineno-4-47 name=__codelineno-4-47 href=#__codelineno-4-47></a>                <span class=n>config</span> <span class=o>=</span> <span class=n>StringIO</span><span class=p>()</span>
</span><span id=__span-4-48><a id=__codelineno-4-48 name=__codelineno-4-48 href=#__codelineno-4-48></a>                <span class=n>config</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&quot;[DATA]</span><span class=se>\n</span><span class=s2>&quot;</span><span class=p>)</span>
</span><span id=__span-4-49><a id=__codelineno-4-49 name=__codelineno-4-49 href=#__codelineno-4-49></a>                <span class=n>config</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=nb>open</span><span class=p>(</span><span class=n>env_file</span><span class=p>)</span><span class=o>.</span><span class=n>read</span><span class=p>())</span>
</span><span id=__span-4-50><a id=__codelineno-4-50 name=__codelineno-4-50 href=#__codelineno-4-50></a>                <span class=n>config</span><span class=o>.</span><span class=n>seek</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>os</span><span class=o>.</span><span class=n>SEEK_SET</span><span class=p>)</span>
</span><span id=__span-4-51><a id=__codelineno-4-51 name=__codelineno-4-51 href=#__codelineno-4-51></a>                <span class=n>cp</span> <span class=o>=</span> <span class=n>ConfigParser</span><span class=p>()</span>
</span><span id=__span-4-52><a id=__codelineno-4-52 name=__codelineno-4-52 href=#__codelineno-4-52></a>                <span class=n>cp</span><span class=o>.</span><span class=n>read_file</span><span class=p>(</span><span class=n>config</span><span class=p>)</span>
</span><span id=__span-4-53><a id=__codelineno-4-53 name=__codelineno-4-53 href=#__codelineno-4-53></a>                <span class=n>value</span> <span class=o>=</span> <span class=nb>dict</span><span class=p>(</span><span class=n>cp</span><span class=o>.</span><span class=n>items</span><span class=p>(</span><span class=s1>&#39;DATA&#39;</span><span class=p>))[</span><span class=n>var_name</span><span class=o>.</span><span class=n>lower</span><span class=p>()]</span>
</span><span id=__span-4-54><a id=__codelineno-4-54 name=__codelineno-4-54 href=#__codelineno-4-54></a>                <span class=k>if</span> <span class=n>value</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s1>&#39;&quot;&#39;</span><span class=p>)</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s1>&#39;&quot;&#39;</span><span class=p>):</span>
</span><span id=__span-4-55><a id=__codelineno-4-55 name=__codelineno-4-55 href=#__codelineno-4-55></a>                    <span class=n>value</span> <span class=o>=</span> <span class=n>value</span><span class=p>[</span><span class=mi>1</span><span class=p>:</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-4-56><a id=__codelineno-4-56 name=__codelineno-4-56 href=#__codelineno-4-56></a>                <span class=k>elif</span> <span class=n>value</span><span class=o>.</span><span class=n>startswith</span><span class=p>(</span><span class=s2>&quot;&#39;&quot;</span><span class=p>)</span> <span class=ow>and</span> <span class=n>value</span><span class=o>.</span><span class=n>endswith</span><span class=p>(</span><span class=s2>&quot;&#39;&quot;</span><span class=p>):</span>
</span><span id=__span-4-57><a id=__codelineno-4-57 name=__codelineno-4-57 href=#__codelineno-4-57></a>                    <span class=n>value</span> <span class=o>=</span> <span class=n>value</span><span class=p>[</span><span class=mi>1</span><span class=p>:</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span><span id=__span-4-58><a id=__codelineno-4-58 name=__codelineno-4-58 href=#__codelineno-4-58></a>                <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>setdefault</span><span class=p>(</span><span class=n>var_name</span><span class=p>,</span> <span class=n>value</span><span class=p>)</span>
</span><span id=__span-4-59><a id=__codelineno-4-59 name=__codelineno-4-59 href=#__codelineno-4-59></a>                <span class=k>return</span> <span class=n>value</span>
</span><span id=__span-4-60><a id=__codelineno-4-60 name=__codelineno-4-60 href=#__codelineno-4-60></a>            <span class=k>except</span> <span class=p>(</span><span class=ne>KeyError</span><span class=p>,</span> <span class=ne>IOError</span><span class=p>):</span>
</span><span id=__span-4-61><a id=__codelineno-4-61 name=__codelineno-4-61 href=#__codelineno-4-61></a>                <span class=k>if</span> <span class=n>default</span> <span class=ow>is</span> <span class=ow>not</span> <span class=kc>False</span><span class=p>:</span>
</span><span id=__span-4-62><a id=__codelineno-4-62 name=__codelineno-4-62 href=#__codelineno-4-62></a>                    <span class=k>return</span> <span class=n>default</span>
</span><span id=__span-4-63><a id=__codelineno-4-63 name=__codelineno-4-63 href=#__codelineno-4-63></a>                <span class=n>error_msg</span> <span class=o>=</span> <span class=s2>&quot;Either set the env variable &#39;</span><span class=si>{var}</span><span class=s2>&#39; or place it in your &quot;</span> \
</span><span id=__span-4-64><a id=__codelineno-4-64 name=__codelineno-4-64 href=#__codelineno-4-64></a>                            <span class=s2>&quot;</span><span class=si>{env_file}</span><span class=s2> file as &#39;</span><span class=si>{var}</span><span class=s2> = VALUE&#39;&quot;</span>
</span><span id=__span-4-65><a id=__codelineno-4-65 name=__codelineno-4-65 href=#__codelineno-4-65></a>                <span class=k>raise</span> <span class=n>ConfigurationError</span><span class=p>(</span><span class=n>error_msg</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>var</span><span class=o>=</span><span class=n>var_name</span><span class=p>,</span> <span class=n>env_file</span><span class=o>=</span><span class=n>env_file</span><span class=p>))</span>
</span><span id=__span-4-66><a id=__codelineno-4-66 name=__codelineno-4-66 href=#__codelineno-4-66></a>
</span><span id=__span-4-67><a id=__codelineno-4-67 name=__codelineno-4-67 href=#__codelineno-4-67></a>
</span><span id=__span-4-68><a id=__codelineno-4-68 name=__codelineno-4-68 href=#__codelineno-4-68></a><span class=k>class</span> <span class=nc>ConfigurationError</span><span class=p>(</span><span class=ne>Exception</span><span class=p>):</span>
</span><span id=__span-4-69><a id=__codelineno-4-69 name=__codelineno-4-69 href=#__codelineno-4-69></a>    <span class=k>pass</span>
</span><span id=__span-4-70><a id=__codelineno-4-70 name=__codelineno-4-70 href=#__codelineno-4-70></a>
</span><span id=__span-4-71><a id=__codelineno-4-71 name=__codelineno-4-71 href=#__codelineno-4-71></a>
</span><span id=__span-4-72><a id=__codelineno-4-72 name=__codelineno-4-72 href=#__codelineno-4-72></a><span class=k>class</span> <span class=nc>InvalidOperationException</span><span class=p>(</span><span class=ne>Exception</span><span class=p>):</span>
</span><span id=__span-4-73><a id=__codelineno-4-73 name=__codelineno-4-73 href=#__codelineno-4-73></a>    <span class=k>pass</span>
</span></code></pre></div> </blockquote> <h2 id=setting-up-front-end>Setting up front-end<a class=headerlink href=#setting-up-front-end title="Permanent link">#</a></h2> <p>Good, Flask app has been configured and is ready to render some pages, so let's go and prepare out front-end to display projects' web pages. Download <a href=http://getbootstrap.com>Bootstrap</a>, <a href=http://jquery.com>JQuery</a>, <a href=https://fontawesome.com/ >Fontawesome</a> and store theirs minified <code>min.css</code> and <code>min.js</code> artifacts in the <code>static</code> directory of the project. This is how it should look like:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>├──<span class=w> </span>static
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>│<span class=w>   </span>├──<span class=w> </span>css
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>bootstrap.min.css
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>font-awesome.min.css
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>│<span class=w>   </span>│<span class=w>   </span>└──<span class=w> </span>style.css<span class=w>  </span><span class=c1># custom styles css for every page</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>│<span class=w>   </span>├──<span class=w> </span>fonts
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>FontAwesome.otf
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>NokiaPureHeadline_ExtraBold.ttf<span class=w>  </span><span class=c1># custom fonts like this also live here</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>fontawesome-webfont.eot
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>fontawesome-webfont.svg
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>fontawesome-webfont.ttf
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>fontawesome-webfont.woff
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>fontawesome-webfont.woff2
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>glyphicons-halflings-regular.eot
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>glyphicons-halflings-regular.svg
</span><span id=__span-5-16><a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>glyphicons-halflings-regular.ttf
</span><span id=__span-5-17><a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a>│<span class=w>   </span>│<span class=w>   </span>├──<span class=w> </span>glyphicons-halflings-regular.woff
</span><span id=__span-5-18><a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a>│<span class=w>   </span>│<span class=w>   </span>└──<span class=w> </span>glyphicons-halflings-regular.woff2
</span><span id=__span-5-19><a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a>│<span class=w>   </span>└──<span class=w> </span>js
</span><span id=__span-5-20><a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a>│<span class=w>       </span>├──<span class=w> </span>bootstrap.min.js
</span><span id=__span-5-21><a id=__codelineno-5-21 name=__codelineno-5-21 href=#__codelineno-5-21></a>│<span class=w>       </span>├──<span class=w> </span>jquery-2.2.0.min.js
</span><span id=__span-5-22><a id=__codelineno-5-22 name=__codelineno-5-22 href=#__codelineno-5-22></a>│<span class=w>       </span>├──<span class=w> </span>loadingoverlay.min.js<span class=w>  </span><span class=c1># CSS for overlay animation. </span>
</span><span id=__span-5-23><a id=__codelineno-5-23 name=__codelineno-5-23 href=#__codelineno-5-23></a>│<span class=w>       </span>├──<span class=w> </span>scripts.js<span class=w>             </span><span class=c1># custom JS scripts </span>
</span><span id=__span-5-24><a id=__codelineno-5-24 name=__codelineno-5-24 href=#__codelineno-5-24></a>│<span class=w>       </span>└──<span class=w> </span>validator.min.js<span class=w>       </span><span class=c1># form validation JS code</span>
</span></code></pre></div> <h3 id=layout>Layout<a class=headerlink href=#layout title="Permanent link">#</a></h3> <p>Before diving into HTML it is advised to think about pages layout. I recommend you to get familiar with <a href=https://getbootstrap.com/css/ >Bootstrap CSS rules</a> and choose a layout that fits your project. I decided to go with a 3+9 scheme. Three parts are for side menu and nine parts are for a content area with a navigation bar at the top of the page.</p> <p>I composed a sketch of the page depicting how I would like to see my projects web view for an arbitrary script:</p> <p><a class=glightbox href=https://img-fotki.yandex.ru/get/124786/21639405.11c/0_88708_57e30946_XL.png data-type=image data-width=100% data-height=auto data-desc-position=bottom><img alt=pic src=https://img-fotki.yandex.ru/get/124786/21639405.11c/0_88708_57e30946_XL.png></a></p> <p>Follow the <a href=http://codepen.io/hellt/pen/PNJwxq>link</a> to see my script's page template on codepen and see how things interact. Do not worry if you can't pick rock solid layout right now, you will be able to modify it on-the-fly and decide what suits your needs better.</p> <h2 id=flask-routes-templates>Flask routes &amp; templates<a class=headerlink href=#flask-routes-templates title="Permanent link">#</a></h2> <h3 id=routes>Routes<a class=headerlink href=#routes title="Permanent link">#</a></h3> <p>Flask uses <a href=https://flask.palletsprojects.com/en/1.1.x/quickstart/#routing>routes</a> to create URL's for the web pages. If we need to show the main page for example for the URL <code>abc.com</code> we need to define the root route - <code>/</code> - like this:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=nd>@app</span><span class=o>.</span><span class=n>route</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>)</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=k>def</span> <span class=nf>index</span><span class=p>():</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>    <span class=k>return</span> <span class=s1>&#39;Index Page&#39;</span>
</span></code></pre></div> <p>This will effectively bind the <code>index()</code> function to the route <code>/</code> , so when a user navigates to the application's root it will trigger the <code>index()</code> function.</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=nd>@app</span><span class=o>.</span><span class=n>route</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>)</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=k>def</span> <span class=nf>index</span><span class=p>():</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    <span class=k>return</span> <span class=n>render_template</span><span class=p>(</span><span class=s1>&#39;index.html&#39;</span><span class=p>)</span>
</span></code></pre></div> <p>My <code>index()</code> function does one simple thing, it asks Flask to render specific template - <code>index.html</code>.</p> <h3 id=templates>Templates<a class=headerlink href=#templates title="Permanent link">#</a></h3> <p>You might guess that a <a href=https://flask.palletsprojects.com/en/1.1.x/quickstart/#rendering-templates>template</a> has to do something with the HTML content rendered by a browser. Yes, it has, but it is far more powerful than a static HTML file.</p> <blockquote> <p>Generating HTML from within Python is not fun, and actually pretty cumbersome because you have to do the HTML escaping on your own to keep the application secure. Because of that Flask configures the <a href=https://jinja.palletsprojects.com/en/2.11.x/ >Jinja2</a> template engine for you automatically.</p> </blockquote> <p>So Flask's template is a Jinja2-based template which allows you to build <strong>dynamic</strong> web-pages instead of a static content. To render a template you can use the <a href=https://flask.palletsprojects.com/en/1.1.x/api/#template-rendering><code>render_template()</code></a> method. All you have to do is to provide the name of the template and the variables you want to pass to the template engine.</p> <p>You can name your templates as you like, but normally it will have an <code>.html</code> extension to reflect their purpose. This is my <code>index.html</code> template mentioned earlier bound to the route <code>/</code>.</p> <div class="language-html highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>{% extends &#39;base.html&#39; %}
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>{% block content %}
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a> <span class=p>&lt;</span><span class=nt>h2</span><span class=p>&gt;</span> Welcome to <span class=p>&lt;</span><span class=nt>span</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;text-primary&quot;</span><span class=p>&gt;</span>PLAZA<span class=p>&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>. <span class=p>&lt;</span><span class=nt>small</span><span class=p>&gt;</span>front-end for python scripts we used to run from console<span class=p>&lt;/</span><span class=nt>small</span><span class=p>&gt;&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a> <span class=p>&lt;</span><span class=nt>h3</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;text-primary&quot;</span><span class=p>&gt;</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>  What is PLAZA?
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a> <span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a> <span class=p>&lt;</span><span class=nt>p</span> <span class=p>&gt;</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>  PLAZA is a web front-end to python scripts built with these goals in mind:
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>  <span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>   <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>allow people with zero python knowledge to use the scripts by interaction through simple Web GUI;<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>   <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>beautify scripts&#39; output with modern CSS and HTML formatting;<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a>   <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>aggregate all the scripts in one repo but in a separate sandboxed directories to increase code manageability.<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>  <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span><span id=__span-8-14><a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a> <span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span><span id=__span-8-15><a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a><span class=p>&lt;</span><span class=nt>h3</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;text-primary&quot;</span><span class=p>&gt;</span>
</span><span id=__span-8-16><a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a>  How to use?
</span><span id=__span-8-17><a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a> <span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span><span id=__span-8-18><a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a> <span class=p>&lt;</span><span class=nt>p</span> <span class=p>&gt;</span>
</span><span id=__span-8-19><a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a>  Navigate through the side menu to the desired script and follow the instructions.
</span><span id=__span-8-20><a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a> <span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span><span id=__span-8-21><a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a><span class=p>&lt;</span><span class=nt>h3</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;text-primary&quot;</span><span class=p>&gt;</span>
</span><span id=__span-8-22><a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a>  Contacts
</span><span id=__span-8-23><a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a> <span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span><span id=__span-8-24><a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a> <span class=p>&lt;</span><span class=nt>p</span> <span class=p>&gt;</span>
</span><span id=__span-8-25><a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a>  Have any ideas, questions, problems? Visit <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;/contacts&quot;</span><span class=p>&gt;</span>contacts<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span> page for all the details.
</span><span id=__span-8-26><a id=__codelineno-8-26 name=__codelineno-8-26 href=#__codelineno-8-26></a> <span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span><span id=__span-8-27><a id=__codelineno-8-27 name=__codelineno-8-27 href=#__codelineno-8-27></a>{% endblock %}
</span></code></pre></div> <p>And this is how it gets rendered:</p> <p><a class=glightbox href=https://img-fotki.yandex.ru/get/28982/21639405.11c/0_88709_76038afa_orig.png data-type=image data-width=100% data-height=auto data-desc-position=bottom><img alt=pic src=https://img-fotki.yandex.ru/get/28982/21639405.11c/0_88709_76038afa_orig.png></a></p> <p><a href=http://codepen.io/hellt/pen/ONjwYY>Dynamic version</a> of the index page can be found on the codepen as well. The trick behind that magic <code>template-&gt;rendered page</code> transformation is in the first two lines. This is <a href=https://flask.palletsprojects.com/en/1.1.x/patterns/templateinheritance/ >template inheritance</a> magic - <code>{% extends 'base.html' %}</code> - and that is what makes templating so powerful.</p> <h4 id=template-inheritance>Template inheritance<a class=headerlink href=#template-inheritance title="Permanent link">#</a></h4> <p>Inheritance drill <a href=https://flask.palletsprojects.com/en/1.1.x/patterns/templateinheritance/ >described briefly</a> in the official documentation and the main part of it sounds like this:</p> <blockquote> <p>Template inheritance allows you to build a base “skeleton” template that contains all the common elements of your site and defines <strong>blocks</strong> that child templates can override.</p> </blockquote> <p>Apart from the official docs, you can watch <a href="https://www.youtube.com/watch?v=hNzruwVPtCE&feature=youtu.be">this video</a> from the <em>&#8220;Discover Flask&#8221;</em> series to better understand how does template inheritance work.</p> <h4 id=main-template>Main template<a class=headerlink href=#main-template title="Permanent link">#</a></h4> <p>One of the best practices regarding template inheritance is to compose a <code>base template</code> or a layout for the whole site so every other template will inherit from it. My "main" template is called <code>base.html</code> and it describes the logical parts for each page in this project.</p> <p><a class=glightbox href=https://img-fotki.yandex.ru/get/28982/21639405.11c/0_8870a_f83ca7b_orig.png data-type=image data-width=100% data-height=auto data-desc-position=bottom><img alt=pic src=https://img-fotki.yandex.ru/get/28982/21639405.11c/0_8870a_f83ca7b_orig.png></a></p> <p>The main template consists of the static parts like Navbar, side menu, it also connects core CSS, JS and fonts. And finally, it specifies where would child template's content be placed.</p> <div class="language-html highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=cp>&lt;!DOCTYPE HTML&gt;</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=p>&lt;</span><span class=nt>HTML</span> <span class=na>lang</span><span class=o>=</span><span class=s>&quot;en&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>    <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>        <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&quot;utf-8&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>        <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>http-equiv</span><span class=o>=</span><span class=s>&quot;X-UA-Compatible&quot;</span> <span class=na>content</span><span class=o>=</span><span class=s>&quot;IE=edge&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>        <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&quot;viewport&quot;</span> <span class=na>content</span><span class=o>=</span><span class=s>&quot;width=device-width, initial-scale=1&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>        <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>PLAZA Project<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>        <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&quot;description&quot;</span> <span class=na>content</span><span class=o>=</span><span class=s>&quot;NOKIA Launchpad for scripts&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>        <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&quot;author&quot;</span> <span class=na>content</span><span class=o>=</span><span class=s>&quot;Roman Dodin&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>        <span class=p>&lt;</span><span class=nt>link</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;/static/css/bootstrap.min.css&quot;</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>        <span class=p>&lt;</span><span class=nt>link</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;/static/css/style.css&quot;</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span><span class=p>&gt;</span> <span class=cm>&lt;!-- custom CSS --&gt;</span>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>        <span class=p>&lt;</span><span class=nt>link</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;/static/css/font-awesome.min.css&quot;</span> <span class=na>rel</span><span class=o>=</span><span class=s>&quot;stylesheet&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a>    <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14 href=#__codelineno-9-14></a>    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15 href=#__codelineno-9-15></a>        <span class=cm>&lt;!-- NAV BAR --&gt;</span>
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16 href=#__codelineno-9-16></a>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;navbar navbar-nokia navbar-fixed-top&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17 href=#__codelineno-9-17></a>            <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;container&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-18><a id=__codelineno-9-18 name=__codelineno-9-18 href=#__codelineno-9-18></a>                <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;navbar-header&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-19><a id=__codelineno-9-19 name=__codelineno-9-19 href=#__codelineno-9-19></a>                    <span class=p>&lt;</span><span class=nt>button</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;button&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;navbar-toggle&quot;</span> <span class=na>data-toggle</span><span class=o>=</span><span class=s>&quot;collapse&quot;</span> <span class=na>data-target</span><span class=o>=</span><span class=s>&quot;.navbar-collapse&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-20><a id=__codelineno-9-20 name=__codelineno-9-20 href=#__codelineno-9-20></a>                        <span class=p>&lt;</span><span class=nt>span</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;icon-bar&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span><span id=__span-9-21><a id=__codelineno-9-21 name=__codelineno-9-21 href=#__codelineno-9-21></a>                    <span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span><span id=__span-9-22><a id=__codelineno-9-22 name=__codelineno-9-22 href=#__codelineno-9-22></a>                    <span class=p>&lt;</span><span class=nt>a</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;navbar-brand&quot;</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;/&quot;</span><span class=p>&gt;</span>PLAZA<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span><span id=__span-9-23><a id=__codelineno-9-23 name=__codelineno-9-23 href=#__codelineno-9-23></a>                <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-24><a id=__codelineno-9-24 name=__codelineno-9-24 href=#__codelineno-9-24></a>                <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;collapse navbar-collapse&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-25><a id=__codelineno-9-25 name=__codelineno-9-25 href=#__codelineno-9-25></a>                    <span class=p>&lt;</span><span class=nt>ul</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;nav navbar-nav&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-26><a id=__codelineno-9-26 name=__codelineno-9-26 href=#__codelineno-9-26></a>
</span><span id=__span-9-27><a id=__codelineno-9-27 name=__codelineno-9-27 href=#__codelineno-9-27></a>                        <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-9-28><a id=__codelineno-9-28 name=__codelineno-9-28 href=#__codelineno-9-28></a>                            <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;#contact&quot;</span><span class=p>&gt;</span>Contact<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span><span id=__span-9-29><a id=__codelineno-9-29 name=__codelineno-9-29 href=#__codelineno-9-29></a>                        <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-9-30><a id=__codelineno-9-30 name=__codelineno-9-30 href=#__codelineno-9-30></a>                        <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-9-31><a id=__codelineno-9-31 name=__codelineno-9-31 href=#__codelineno-9-31></a>                           <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;#modalSearch&quot;</span> <span class=na>data-toggle</span><span class=o>=</span><span class=s>&quot;modal&quot;</span> <span class=na>data-target</span><span class=o>=</span><span class=s>&quot;#modalSearch&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-32><a id=__codelineno-9-32 name=__codelineno-9-32 href=#__codelineno-9-32></a>                               Search <span class=p>&lt;</span><span class=nt>span</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;searchGlyph&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;glyphicon glyphicon-search&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>span</span><span class=p>&gt;</span>
</span><span id=__span-9-33><a id=__codelineno-9-33 name=__codelineno-9-33 href=#__codelineno-9-33></a>                           <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span><span id=__span-9-34><a id=__codelineno-9-34 name=__codelineno-9-34 href=#__codelineno-9-34></a>                       <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-9-35><a id=__codelineno-9-35 name=__codelineno-9-35 href=#__codelineno-9-35></a>                    <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span><span id=__span-9-36><a id=__codelineno-9-36 name=__codelineno-9-36 href=#__codelineno-9-36></a>                <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-37><a id=__codelineno-9-37 name=__codelineno-9-37 href=#__codelineno-9-37></a>                <span class=cm>&lt;!--/.nav-collapse --&gt;</span>
</span><span id=__span-9-38><a id=__codelineno-9-38 name=__codelineno-9-38 href=#__codelineno-9-38></a>            <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-39><a id=__codelineno-9-39 name=__codelineno-9-39 href=#__codelineno-9-39></a>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-40><a id=__codelineno-9-40 name=__codelineno-9-40 href=#__codelineno-9-40></a>        <span class=cm>&lt;!-- NAV BAR --&gt;</span>
</span><span id=__span-9-41><a id=__codelineno-9-41 name=__codelineno-9-41 href=#__codelineno-9-41></a>
</span><span id=__span-9-42><a id=__codelineno-9-42 name=__codelineno-9-42 href=#__codelineno-9-42></a>
</span><span id=__span-9-43><a id=__codelineno-9-43 name=__codelineno-9-43 href=#__codelineno-9-43></a>        <span class=cm>&lt;!-- Search Modal (http://www.w3schools.com/bootstrap/bootstrap_modal.asp) --&gt;</span>
</span><span id=__span-9-44><a id=__codelineno-9-44 name=__codelineno-9-44 href=#__codelineno-9-44></a>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;modalSearch&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;modal fade&quot;</span> <span class=na>role</span><span class=o>=</span><span class=s>&quot;dialog&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-45><a id=__codelineno-9-45 name=__codelineno-9-45 href=#__codelineno-9-45></a>           <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;modal-dialog modal-lg&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-46><a id=__codelineno-9-46 name=__codelineno-9-46 href=#__codelineno-9-46></a>
</span><span id=__span-9-47><a id=__codelineno-9-47 name=__codelineno-9-47 href=#__codelineno-9-47></a>               <span class=cm>&lt;!-- Modal content--&gt;</span>
</span><span id=__span-9-48><a id=__codelineno-9-48 name=__codelineno-9-48 href=#__codelineno-9-48></a>               <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;modal-content&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-49><a id=__codelineno-9-49 name=__codelineno-9-49 href=#__codelineno-9-49></a>                   <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;modal-header&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-50><a id=__codelineno-9-50 name=__codelineno-9-50 href=#__codelineno-9-50></a>                       <span class=p>&lt;</span><span class=nt>button</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;button&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;close&quot;</span> <span class=na>data-dismiss</span><span class=o>=</span><span class=s>&quot;modal&quot;</span><span class=p>&gt;</span><span class=ni>&amp;times;</span><span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span><span id=__span-9-51><a id=__codelineno-9-51 name=__codelineno-9-51 href=#__codelineno-9-51></a>                       <span class=p>&lt;</span><span class=nt>h4</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;modal-title&quot;</span><span class=p>&gt;</span>Search PLAZA (under development)<span class=p>&lt;/</span><span class=nt>h4</span><span class=p>&gt;</span>
</span><span id=__span-9-52><a id=__codelineno-9-52 name=__codelineno-9-52 href=#__codelineno-9-52></a>                   <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-53><a id=__codelineno-9-53 name=__codelineno-9-53 href=#__codelineno-9-53></a>                   <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;modal-body&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-54><a id=__codelineno-9-54 name=__codelineno-9-54 href=#__codelineno-9-54></a>                       <span class=cm>&lt;!-- Add the modal body here --&gt;</span>
</span><span id=__span-9-55><a id=__codelineno-9-55 name=__codelineno-9-55 href=#__codelineno-9-55></a>                   <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-56><a id=__codelineno-9-56 name=__codelineno-9-56 href=#__codelineno-9-56></a>                   <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;modal-footer&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-57><a id=__codelineno-9-57 name=__codelineno-9-57 href=#__codelineno-9-57></a>                       <span class=p>&lt;</span><span class=nt>button</span> <span class=na>type</span><span class=o>=</span><span class=s>&quot;button&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;btn btn-default&quot;</span> <span class=na>data-dismiss</span><span class=o>=</span><span class=s>&quot;modal&quot;</span><span class=p>&gt;</span>Close<span class=p>&lt;/</span><span class=nt>button</span><span class=p>&gt;</span>
</span><span id=__span-9-58><a id=__codelineno-9-58 name=__codelineno-9-58 href=#__codelineno-9-58></a>                   <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-59><a id=__codelineno-9-59 name=__codelineno-9-59 href=#__codelineno-9-59></a>               <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-60><a id=__codelineno-9-60 name=__codelineno-9-60 href=#__codelineno-9-60></a>           <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-61><a id=__codelineno-9-61 name=__codelineno-9-61 href=#__codelineno-9-61></a>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-62><a id=__codelineno-9-62 name=__codelineno-9-62 href=#__codelineno-9-62></a>
</span><span id=__span-9-63><a id=__codelineno-9-63 name=__codelineno-9-63 href=#__codelineno-9-63></a>
</span><span id=__span-9-64><a id=__codelineno-9-64 name=__codelineno-9-64 href=#__codelineno-9-64></a>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;container&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-65><a id=__codelineno-9-65 name=__codelineno-9-65 href=#__codelineno-9-65></a>            <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;row&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-66><a id=__codelineno-9-66 name=__codelineno-9-66 href=#__codelineno-9-66></a>                <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;col-md-3&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-67><a id=__codelineno-9-67 name=__codelineno-9-67 href=#__codelineno-9-67></a>                  <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;nav-side-menu&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-68><a id=__codelineno-9-68 name=__codelineno-9-68 href=#__codelineno-9-68></a>                    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;brand&quot;</span><span class=p>&gt;</span>MENU<span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-69><a id=__codelineno-9-69 name=__codelineno-9-69 href=#__codelineno-9-69></a>                    <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;fa fa-bars fa-3x toggle-btn&quot;</span> <span class=na>data-toggle</span><span class=o>=</span><span class=s>&quot;collapse&quot;</span> <span class=na>data-target</span><span class=o>=</span><span class=s>&quot;#menu-content&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span><span id=__span-9-70><a id=__codelineno-9-70 name=__codelineno-9-70 href=#__codelineno-9-70></a>
</span><span id=__span-9-71><a id=__codelineno-9-71 name=__codelineno-9-71 href=#__codelineno-9-71></a>                    <span class=cm>&lt;!-- START OF SIDE MENU AREA--&gt;</span>
</span><span id=__span-9-72><a id=__codelineno-9-72 name=__codelineno-9-72 href=#__codelineno-9-72></a>                    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;menu-list&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-73><a id=__codelineno-9-73 name=__codelineno-9-73 href=#__codelineno-9-73></a>                      <span class=p>&lt;</span><span class=nt>ul</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;menu-content&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;menu-content collapse out&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-74><a id=__codelineno-9-74 name=__codelineno-9-74 href=#__codelineno-9-74></a>                          <span class=cm>&lt;!-- PLACEHOLDER FOR ELEMENT W/O CHILDREN</span>
</span><span id=__span-9-75><a id=__codelineno-9-75 name=__codelineno-9-75 href=#__codelineno-9-75></a><span class=cm>                          &lt;li&gt;</span>
</span><span id=__span-9-76><a id=__codelineno-9-76 name=__codelineno-9-76 href=#__codelineno-9-76></a><span class=cm>                              &lt;a href=&quot;#&quot;&gt;</span>
</span><span id=__span-9-77><a id=__codelineno-9-77 name=__codelineno-9-77 href=#__codelineno-9-77></a><span class=cm>                                  &lt;i class=&quot;fa fa-angle-right fa-fw&quot;&gt;&lt;/i&gt;Element wo children</span>
</span><span id=__span-9-78><a id=__codelineno-9-78 name=__codelineno-9-78 href=#__codelineno-9-78></a><span class=cm>                              &lt;/a&gt;</span>
</span><span id=__span-9-79><a id=__codelineno-9-79 name=__codelineno-9-79 href=#__codelineno-9-79></a><span class=cm>                          &lt;/li&gt;</span>
</span><span id=__span-9-80><a id=__codelineno-9-80 name=__codelineno-9-80 href=#__codelineno-9-80></a><span class=cm>                          --&gt;</span>
</span><span id=__span-9-81><a id=__codelineno-9-81 name=__codelineno-9-81 href=#__codelineno-9-81></a>
</span><span id=__span-9-82><a id=__codelineno-9-82 name=__codelineno-9-82 href=#__codelineno-9-82></a>                          <span class=p>&lt;</span><span class=nt>li</span> <span class=na>data-toggle</span><span class=o>=</span><span class=s>&quot;collapse&quot;</span> <span class=na>data-target</span><span class=o>=</span><span class=s>&quot;#5620sam&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;collapsed&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-83><a id=__codelineno-9-83 name=__codelineno-9-83 href=#__codelineno-9-83></a>                              <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;#&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-84><a id=__codelineno-9-84 name=__codelineno-9-84 href=#__codelineno-9-84></a>                                  <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;fa fa-angle-double-right fa-fw chevron-rotate&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>5620 SAM
</span><span id=__span-9-85><a id=__codelineno-9-85 name=__codelineno-9-85 href=#__codelineno-9-85></a>                              <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span><span id=__span-9-86><a id=__codelineno-9-86 name=__codelineno-9-86 href=#__codelineno-9-86></a>                          <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-9-87><a id=__codelineno-9-87 name=__codelineno-9-87 href=#__codelineno-9-87></a>                              <span class=p>&lt;</span><span class=nt>ul</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;sub-menu collapse out&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;5620sam&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-88><a id=__codelineno-9-88 name=__codelineno-9-88 href=#__codelineno-9-88></a>                                  <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-9-89><a id=__codelineno-9-89 name=__codelineno-9-89 href=#__codelineno-9-89></a>                                      <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;fa fa-angle-right fa-fw&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span><span id=__span-9-90><a id=__codelineno-9-90 name=__codelineno-9-90 href=#__codelineno-9-90></a>                                      <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;/5620SAM/SAM-O_XML_API_Tester&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-91><a id=__codelineno-9-91 name=__codelineno-9-91 href=#__codelineno-9-91></a>                                          SAM-O XML API Test Engine
</span><span id=__span-9-92><a id=__codelineno-9-92 name=__codelineno-9-92 href=#__codelineno-9-92></a>                                      <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span><span id=__span-9-93><a id=__codelineno-9-93 name=__codelineno-9-93 href=#__codelineno-9-93></a>                                  <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-9-94><a id=__codelineno-9-94 name=__codelineno-9-94 href=#__codelineno-9-94></a>                              <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span><span id=__span-9-95><a id=__codelineno-9-95 name=__codelineno-9-95 href=#__codelineno-9-95></a>
</span><span id=__span-9-96><a id=__codelineno-9-96 name=__codelineno-9-96 href=#__codelineno-9-96></a>                          <span class=p>&lt;</span><span class=nt>li</span> <span class=na>data-toggle</span><span class=o>=</span><span class=s>&quot;collapse&quot;</span> <span class=na>data-target</span><span class=o>=</span><span class=s>&quot;#vmware&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;collapsed&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-97><a id=__codelineno-9-97 name=__codelineno-9-97 href=#__codelineno-9-97></a>                              <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;#&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-98><a id=__codelineno-9-98 name=__codelineno-9-98 href=#__codelineno-9-98></a>                                  <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;fa fa-angle-double-right fa-fw chevron-rotate&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>VMWare
</span><span id=__span-9-99><a id=__codelineno-9-99 name=__codelineno-9-99 href=#__codelineno-9-99></a>                              <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span><span id=__span-9-100><a id=__codelineno-9-100 name=__codelineno-9-100 href=#__codelineno-9-100></a>                          <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-9-101><a id=__codelineno-9-101 name=__codelineno-9-101 href=#__codelineno-9-101></a>                              <span class=p>&lt;</span><span class=nt>ul</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;sub-menu collapse out&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;vmware&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-102><a id=__codelineno-9-102 name=__codelineno-9-102 href=#__codelineno-9-102></a>                                  <span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-9-103><a id=__codelineno-9-103 name=__codelineno-9-103 href=#__codelineno-9-103></a>                                      <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;fa fa-angle-right fa-fw&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span><span id=__span-9-104><a id=__codelineno-9-104 name=__codelineno-9-104 href=#__codelineno-9-104></a>                                      <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;/vmware/get_vmrc_links&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-105><a id=__codelineno-9-105 name=__codelineno-9-105 href=#__codelineno-9-105></a>                                          VMRC Link Composer
</span><span id=__span-9-106><a id=__codelineno-9-106 name=__codelineno-9-106 href=#__codelineno-9-106></a>                                      <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span><span id=__span-9-107><a id=__codelineno-9-107 name=__codelineno-9-107 href=#__codelineno-9-107></a>                                  <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-9-108><a id=__codelineno-9-108 name=__codelineno-9-108 href=#__codelineno-9-108></a>
</span><span id=__span-9-109><a id=__codelineno-9-109 name=__codelineno-9-109 href=#__codelineno-9-109></a>                                  <span class=p>&lt;</span><span class=nt>li</span> <span class=na>data-toggle</span><span class=o>=</span><span class=s>&quot;collapse&quot;</span> <span class=na>data-target</span><span class=o>=</span><span class=s>&quot;#products2&quot;</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;collapsed&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-110><a id=__codelineno-9-110 name=__codelineno-9-110 href=#__codelineno-9-110></a>                                      <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;fa fa-angle-double-right fa-fw chevron-rotate&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span><span id=__span-9-111><a id=__codelineno-9-111 name=__codelineno-9-111 href=#__codelineno-9-111></a>                                      <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;#&quot;</span><span class=p>&gt;</span>Placeholder-sublevel1
</span><span id=__span-9-112><a id=__codelineno-9-112 name=__codelineno-9-112 href=#__codelineno-9-112></a>                                      <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span><span id=__span-9-113><a id=__codelineno-9-113 name=__codelineno-9-113 href=#__codelineno-9-113></a>                                  <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-9-114><a id=__codelineno-9-114 name=__codelineno-9-114 href=#__codelineno-9-114></a>                                      <span class=p>&lt;</span><span class=nt>ul</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;sub-sub-menu collapse out&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;products2&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-115><a id=__codelineno-9-115 name=__codelineno-9-115 href=#__codelineno-9-115></a>                                          <span class=p>&lt;</span><span class=nt>li</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;sub-level2&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-116><a id=__codelineno-9-116 name=__codelineno-9-116 href=#__codelineno-9-116></a>                                              <span class=p>&lt;</span><span class=nt>i</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;fa fa-angle-right fa-fw&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>i</span><span class=p>&gt;</span>
</span><span id=__span-9-117><a id=__codelineno-9-117 name=__codelineno-9-117 href=#__codelineno-9-117></a>                                              <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&quot;#&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-118><a id=__codelineno-9-118 name=__codelineno-9-118 href=#__codelineno-9-118></a>                                                  Placeholder-sublevel2
</span><span id=__span-9-119><a id=__codelineno-9-119 name=__codelineno-9-119 href=#__codelineno-9-119></a>                                              <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span><span id=__span-9-120><a id=__codelineno-9-120 name=__codelineno-9-120 href=#__codelineno-9-120></a>                                          <span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span><span id=__span-9-121><a id=__codelineno-9-121 name=__codelineno-9-121 href=#__codelineno-9-121></a>                                      <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span><span id=__span-9-122><a id=__codelineno-9-122 name=__codelineno-9-122 href=#__codelineno-9-122></a>                              <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span><span id=__span-9-123><a id=__codelineno-9-123 name=__codelineno-9-123 href=#__codelineno-9-123></a>                      <span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span><span id=__span-9-124><a id=__codelineno-9-124 name=__codelineno-9-124 href=#__codelineno-9-124></a>                    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-125><a id=__codelineno-9-125 name=__codelineno-9-125 href=#__codelineno-9-125></a>                  <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-126><a id=__codelineno-9-126 name=__codelineno-9-126 href=#__codelineno-9-126></a>                <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-127><a id=__codelineno-9-127 name=__codelineno-9-127 href=#__codelineno-9-127></a>                <span class=cm>&lt;!-- END OF SIDE MENU AREA --&gt;</span>
</span><span id=__span-9-128><a id=__codelineno-9-128 name=__codelineno-9-128 href=#__codelineno-9-128></a>                <span class=cm>&lt;!-- START OF CONTENT AREA --&gt;</span>
</span><span id=__span-9-129><a id=__codelineno-9-129 name=__codelineno-9-129 href=#__codelineno-9-129></a>                <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;col-md-9&quot;</span><span class=p>&gt;</span>
</span><span id=__span-9-130><a id=__codelineno-9-130 name=__codelineno-9-130 href=#__codelineno-9-130></a>                    {% block content %}{% endblock %}
</span><span id=__span-9-131><a id=__codelineno-9-131 name=__codelineno-9-131 href=#__codelineno-9-131></a>                <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-132><a id=__codelineno-9-132 name=__codelineno-9-132 href=#__codelineno-9-132></a>                <span class=cm>&lt;!-- END OF CONTENT AREA --&gt;</span>
</span><span id=__span-9-133><a id=__codelineno-9-133 name=__codelineno-9-133 href=#__codelineno-9-133></a>            <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-134><a id=__codelineno-9-134 name=__codelineno-9-134 href=#__codelineno-9-134></a>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-9-135><a id=__codelineno-9-135 name=__codelineno-9-135 href=#__codelineno-9-135></a>
</span><span id=__span-9-136><a id=__codelineno-9-136 name=__codelineno-9-136 href=#__codelineno-9-136></a>
</span><span id=__span-9-137><a id=__codelineno-9-137 name=__codelineno-9-137 href=#__codelineno-9-137></a>        <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;/static/js/jquery-2.2.0.min.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span><span id=__span-9-138><a id=__codelineno-9-138 name=__codelineno-9-138 href=#__codelineno-9-138></a>        <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;/static/js/bootstrap.min.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span><span id=__span-9-139><a id=__codelineno-9-139 name=__codelineno-9-139 href=#__codelineno-9-139></a>        <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;/static/js/scripts.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>            <span class=cm>&lt;!-- custom JS --&gt;</span>
</span><span id=__span-9-140><a id=__codelineno-9-140 name=__codelineno-9-140 href=#__codelineno-9-140></a>        <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;/static/js/validator.min.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>      <span class=cm>&lt;!-- https://github.com/1000hz/bootstrap-validator --&gt;</span>
</span><span id=__span-9-141><a id=__codelineno-9-141 name=__codelineno-9-141 href=#__codelineno-9-141></a>        <span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&quot;/static/js/loadingoverlay.min.js&quot;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span> <span class=cm>&lt;!-- http://gasparesganga.com/labs/jquery-loading-overlay/--&gt;</span>
</span><span id=__span-9-142><a id=__codelineno-9-142 name=__codelineno-9-142 href=#__codelineno-9-142></a>        {% block added_js %}{% endblock %}                       <span class=cm>&lt;!-- block for JS added on pages on demand --&gt;</span>
</span><span id=__span-9-143><a id=__codelineno-9-143 name=__codelineno-9-143 href=#__codelineno-9-143></a>    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span><span id=__span-9-144><a id=__codelineno-9-144 name=__codelineno-9-144 href=#__codelineno-9-144></a><span class=p>&lt;/</span><span class=nt>HTML</span><span class=p>&gt;</span>
</span></code></pre></div> <p>I marked the lines on which child template insertion occurs. Once again, read the docs on templating, read some blogs and you will catch it quickly.</p> <h4 id=child-template>Child template<a class=headerlink href=#child-template title="Permanent link">#</a></h4> <p>Once you have the base template figured out you are ready to create it's successors - child templates. A while back I showed you the <code>/templates/index.html</code> template where the following construct</p> <div class="language-html highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>{% extends &#39;base.html&#39; %}
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>{% block content %}
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a> <span class=cm>&lt;!-- SOME HTML HERE --&gt;</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>{% endblock %}
</span></code></pre></div> <p>effectively told Flask to extend <code>base.html</code> content section with some code relevant to this particular <code>index.html</code> page.</p> <h4 id=intermediate-templates-and-multiple-inheritances>Intermediate templates and multiple inheritances<a class=headerlink href=#intermediate-templates-and-multiple-inheritances title="Permanent link">#</a></h4> <p>It is also possible to inherit more than once. See what I did for the pages with actual python scripts input and output forms:</p> <p><a class=glightbox href=https://img-fotki.yandex.ru/get/25939/21639405.11c/0_8870b_aa304b21_orig.png data-type=image data-width=100% data-height=auto data-desc-position=bottom><img alt=pic src=https://img-fotki.yandex.ru/get/25939/21639405.11c/0_8870b_aa304b21_orig.png></a></p> <p>As you will see shortly after - my user-facing scripts' page has some static sections like <em>Description</em>, <em>Usage</em>, <em>Limitations</em>, <em>Author</em> , etc. Normally, all of these sections will appear on every page thus it would be nice to move all this <strong>static and repetitious</strong> content to a separate template.</p> <p>That's how <code>content_template.html</code> was born. In this template I define blocks with names corresponding to the static sections.</p> <p>The last bit of this puzzle is the template <code>&lt;script_name&gt;.html</code> which extends <code>content_template.html</code> and fills in all the data into blocks defined in his parent template. This template will be spawned each time a new script will be added. In the example below I demo the template called <code>get_vmrc_links.html</code> that is used for a particular script.</p> <p><code>Content_template.html</code>:</p> <div class="language-html highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>{% extends &#39;base.html&#39; %}
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>{% block content %}
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=p>&lt;</span><span class=nt>h2</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;text-primary&quot;</span><span class=p>&gt;</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>    {% block title %}{% endblock %}
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=p>&lt;/</span><span class=nt>h2</span><span class=p>&gt;</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=p>&lt;</span><span class=nt>p</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;lead&quot;</span> <span class=p>&gt;</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>    {% block main_purpose %}{% endblock %}
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a>    Description
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a><span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a>    <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>{% block descr %}{% endblock %}<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a>
</span><span id=__span-11-17><a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a><span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>
</span><span id=__span-11-18><a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a>    Usage
</span><span id=__span-11-19><a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a><span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span><span id=__span-11-20><a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a>    <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>{% block usage %}{% endblock %}<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span><span id=__span-11-21><a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a>
</span><span id=__span-11-22><a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a>
</span><span id=__span-11-23><a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a><span class=p>&lt;</span><span class=nt>h3</span><span class=p>&gt;</span>
</span><span id=__span-11-24><a id=__codelineno-11-24 name=__codelineno-11-24 href=#__codelineno-11-24></a>    Limitations
</span><span id=__span-11-25><a id=__codelineno-11-25 name=__codelineno-11-25 href=#__codelineno-11-25></a><span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span><span id=__span-11-26><a id=__codelineno-11-26 name=__codelineno-11-26 href=#__codelineno-11-26></a>    <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>{% block limitations %}{% endblock %}<span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span><span id=__span-11-27><a id=__codelineno-11-27 name=__codelineno-11-27 href=#__codelineno-11-27></a>
</span><span id=__span-11-28><a id=__codelineno-11-28 name=__codelineno-11-28 href=#__codelineno-11-28></a><span class=cm>&lt;!-- Author and info block --&gt;</span>
</span><span id=__span-11-29><a id=__codelineno-11-29 name=__codelineno-11-29 href=#__codelineno-11-29></a><span class=p>&lt;</span><span class=nt>small</span><span class=p>&gt;</span>
</span><span id=__span-11-30><a id=__codelineno-11-30 name=__codelineno-11-30 href=#__codelineno-11-30></a><span class=p>&lt;</span><span class=nt>dl</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;dl-horizontal&quot;</span><span class=p>&gt;</span>
</span><span id=__span-11-31><a id=__codelineno-11-31 name=__codelineno-11-31 href=#__codelineno-11-31></a>  <span class=p>&lt;</span><span class=nt>dt</span><span class=p>&gt;</span>Author<span class=p>&lt;/</span><span class=nt>dt</span><span class=p>&gt;</span>
</span><span id=__span-11-32><a id=__codelineno-11-32 name=__codelineno-11-32 href=#__codelineno-11-32></a>  <span class=p>&lt;</span><span class=nt>dd</span><span class=p>&gt;</span>{% block author %}{% endblock %}<span class=p>&lt;/</span><span class=nt>dd</span><span class=p>&gt;</span>
</span><span id=__span-11-33><a id=__codelineno-11-33 name=__codelineno-11-33 href=#__codelineno-11-33></a>
</span><span id=__span-11-34><a id=__codelineno-11-34 name=__codelineno-11-34 href=#__codelineno-11-34></a>  <span class=p>&lt;</span><span class=nt>dt</span><span class=p>&gt;</span>Version<span class=p>&lt;/</span><span class=nt>dt</span><span class=p>&gt;</span>
</span><span id=__span-11-35><a id=__codelineno-11-35 name=__codelineno-11-35 href=#__codelineno-11-35></a>  <span class=p>&lt;</span><span class=nt>dd</span><span class=p>&gt;</span>{% block version %}{% endblock %}<span class=p>&lt;/</span><span class=nt>dd</span><span class=p>&gt;</span>
</span><span id=__span-11-36><a id=__codelineno-11-36 name=__codelineno-11-36 href=#__codelineno-11-36></a>
</span><span id=__span-11-37><a id=__codelineno-11-37 name=__codelineno-11-37 href=#__codelineno-11-37></a>  <span class=p>&lt;</span><span class=nt>dt</span><span class=p>&gt;</span>Tags<span class=p>&lt;/</span><span class=nt>dt</span><span class=p>&gt;</span>
</span><span id=__span-11-38><a id=__codelineno-11-38 name=__codelineno-11-38 href=#__codelineno-11-38></a>  <span class=p>&lt;</span><span class=nt>dd</span><span class=p>&gt;</span>{% block tags %}{% endblock %}<span class=p>&lt;/</span><span class=nt>dd</span><span class=p>&gt;</span>
</span><span id=__span-11-39><a id=__codelineno-11-39 name=__codelineno-11-39 href=#__codelineno-11-39></a><span class=p>&lt;/</span><span class=nt>dl</span><span class=p>&gt;</span>
</span><span id=__span-11-40><a id=__codelineno-11-40 name=__codelineno-11-40 href=#__codelineno-11-40></a><span class=p>&lt;/</span><span class=nt>small</span><span class=p>&gt;</span>
</span><span id=__span-11-41><a id=__codelineno-11-41 name=__codelineno-11-41 href=#__codelineno-11-41></a>
</span><span id=__span-11-42><a id=__codelineno-11-42 name=__codelineno-11-42 href=#__codelineno-11-42></a>    {% block script_content %}<span class=cm>&lt;!-- Custom HTML for scrip --&gt;</span>{% endblock %}
</span><span id=__span-11-43><a id=__codelineno-11-43 name=__codelineno-11-43 href=#__codelineno-11-43></a>
</span><span id=__span-11-44><a id=__codelineno-11-44 name=__codelineno-11-44 href=#__codelineno-11-44></a>{% endblock %}
</span><span id=__span-11-45><a id=__codelineno-11-45 name=__codelineno-11-45 href=#__codelineno-11-45></a>
</span><span id=__span-11-46><a id=__codelineno-11-46 name=__codelineno-11-46 href=#__codelineno-11-46></a>{% block added_js %}<span class=cm>&lt;!-- Custom JavaScript for a script page--&gt;</span>{% endblock %}<span class=p>&lt;/</span><span class=nt>pre</span><span class=p>&gt;</span>
</span></code></pre></div> <p><code>templates/get_vmrc_links.html</code>:</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>{% extends &#39;content_template.html&#39; %}
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>{% block title %}
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>    VMRC Links Composer
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>{% endblock %}
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>{% block main_purpose %}
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>This script composes clickable links for VMWare Remote Console (VMRC) standalone client along with basic info
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>about VMs on a ESXi host or vCenter.
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a>{% endblock %}
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a>
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12 href=#__codelineno-12-12></a>
</span><span id=__span-12-13><a id=__codelineno-12-13 name=__codelineno-12-13 href=#__codelineno-12-13></a>{% block descr %}
</span><span id=__span-12-14><a id=__codelineno-12-14 name=__codelineno-12-14 href=#__codelineno-12-14></a>It became quite a pain to get Web-based console working on ESXi hosts or vCenter servers (&lt;=v.5.5) with
</span><span id=__span-12-15><a id=__codelineno-12-15 name=__codelineno-12-15 href=#__codelineno-12-15></a>&lt;a href=&quot;http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;amp;cmd=displayKC&amp;amp;externalId=2114800&quot;&gt;deprecation of NPAPI&lt;/a&gt;
</span><span id=__span-12-16><a id=__codelineno-12-16 name=__codelineno-12-16 href=#__codelineno-12-16></a>plugins in modern browsers. An easy method to get a remote console access would be to use a standalone
</span><span id=__span-12-17><a id=__codelineno-12-17 name=__codelineno-12-17 href=#__codelineno-12-17></a>&lt;a href=&quot;http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;amp;cmd=displayKC&amp;amp;externalId=2091284&quot;&gt;Virtual Machine Remote Console client (VMRC)&lt;/a&gt;
</span><span id=__span-12-18><a id=__codelineno-12-18 name=__codelineno-12-18 href=#__codelineno-12-18></a>which is available for free for major OSes.
</span><span id=__span-12-19><a id=__codelineno-12-19 name=__codelineno-12-19 href=#__codelineno-12-19></a>&lt;p&gt;For standalone VMRC client to work a special link has to be composed - &lt;br/&gt;i.e. &lt;code&gt;vmrc://root@172.17.255.254:443/?moid=vm-13&lt;/code&gt;&lt;/p&gt;
</span><span id=__span-12-20><a id=__codelineno-12-20 name=__codelineno-12-20 href=#__codelineno-12-20></a>This script generates such links and is based on an appropriate &lt;a href=&quot;http://noshut.ru/2016/01/getting-vmrc-links-with-python/&quot;&gt;console version&lt;/a&gt;.
</span><span id=__span-12-21><a id=__codelineno-12-21 name=__codelineno-12-21 href=#__codelineno-12-21></a>
</span><span id=__span-12-22><a id=__codelineno-12-22 name=__codelineno-12-22 href=#__codelineno-12-22></a>{% endblock %}
</span><span id=__span-12-23><a id=__codelineno-12-23 name=__codelineno-12-23 href=#__codelineno-12-23></a>
</span><span id=__span-12-24><a id=__codelineno-12-24 name=__codelineno-12-24 href=#__codelineno-12-24></a>
</span><span id=__span-12-25><a id=__codelineno-12-25 name=__codelineno-12-25 href=#__codelineno-12-25></a>{% block usage %}
</span><span id=__span-12-26><a id=__codelineno-12-26 name=__codelineno-12-26 href=#__codelineno-12-26></a>Script works both with independent ESXi hosts and managed by vCenter. Select desired entity from the
</span><span id=__span-12-27><a id=__codelineno-12-27 name=__codelineno-12-27 href=#__codelineno-12-27></a>&lt;code&gt;Known hosts&lt;/code&gt; select element or specify ESXi/vCenter IP address along with
</span><span id=__span-12-28><a id=__codelineno-12-28 name=__codelineno-12-28 href=#__codelineno-12-28></a>credentials of the user with root privileges and you are good to go.
</span><span id=__span-12-29><a id=__codelineno-12-29 name=__codelineno-12-29 href=#__codelineno-12-29></a>{% endblock %}
</span><span id=__span-12-30><a id=__codelineno-12-30 name=__codelineno-12-30 href=#__codelineno-12-30></a>
</span><span id=__span-12-31><a id=__codelineno-12-31 name=__codelineno-12-31 href=#__codelineno-12-31></a>
</span><span id=__span-12-32><a id=__codelineno-12-32 name=__codelineno-12-32 href=#__codelineno-12-32></a>{% block limitations %}
</span><span id=__span-12-33><a id=__codelineno-12-33 name=__codelineno-12-33 href=#__codelineno-12-33></a>In rare cases the script couldn&#39;t compose the whole link, in that case use the &lt;code&gt;moID&lt;/code&gt; value specified in the
</span><span id=__span-12-34><a id=__codelineno-12-34 name=__codelineno-12-34 href=#__codelineno-12-34></a>output section to compose VMRC link manually.
</span><span id=__span-12-35><a id=__codelineno-12-35 name=__codelineno-12-35 href=#__codelineno-12-35></a>{% endblock %}
</span><span id=__span-12-36><a id=__codelineno-12-36 name=__codelineno-12-36 href=#__codelineno-12-36></a>
</span><span id=__span-12-37><a id=__codelineno-12-37 name=__codelineno-12-37 href=#__codelineno-12-37></a>
</span><span id=__span-12-38><a id=__codelineno-12-38 name=__codelineno-12-38 href=#__codelineno-12-38></a>{% block author %}
</span><span id=__span-12-39><a id=__codelineno-12-39 name=__codelineno-12-39 href=#__codelineno-12-39></a>Roman Dodin
</span><span id=__span-12-40><a id=__codelineno-12-40 name=__codelineno-12-40 href=#__codelineno-12-40></a>{% endblock %}
</span><span id=__span-12-41><a id=__codelineno-12-41 name=__codelineno-12-41 href=#__codelineno-12-41></a>
</span><span id=__span-12-42><a id=__codelineno-12-42 name=__codelineno-12-42 href=#__codelineno-12-42></a>
</span><span id=__span-12-43><a id=__codelineno-12-43 name=__codelineno-12-43 href=#__codelineno-12-43></a>{% block version %}
</span><span id=__span-12-44><a id=__codelineno-12-44 name=__codelineno-12-44 href=#__codelineno-12-44></a>0.1
</span><span id=__span-12-45><a id=__codelineno-12-45 name=__codelineno-12-45 href=#__codelineno-12-45></a>{% endblock %}
</span><span id=__span-12-46><a id=__codelineno-12-46 name=__codelineno-12-46 href=#__codelineno-12-46></a>
</span><span id=__span-12-47><a id=__codelineno-12-47 name=__codelineno-12-47 href=#__codelineno-12-47></a>
</span><span id=__span-12-48><a id=__codelineno-12-48 name=__codelineno-12-48 href=#__codelineno-12-48></a>{% block tags %}
</span><span id=__span-12-49><a id=__codelineno-12-49 name=__codelineno-12-49 href=#__codelineno-12-49></a>VMWare, VMRC
</span><span id=__span-12-50><a id=__codelineno-12-50 name=__codelineno-12-50 href=#__codelineno-12-50></a>{% endblock %}
</span><span id=__span-12-51><a id=__codelineno-12-51 name=__codelineno-12-51 href=#__codelineno-12-51></a>
</span><span id=__span-12-52><a id=__codelineno-12-52 name=__codelineno-12-52 href=#__codelineno-12-52></a>
</span><span id=__span-12-53><a id=__codelineno-12-53 name=__codelineno-12-53 href=#__codelineno-12-53></a>{% block script_content %}
</span><span id=__span-12-54><a id=__codelineno-12-54 name=__codelineno-12-54 href=#__codelineno-12-54></a>
</span><span id=__span-12-55><a id=__codelineno-12-55 name=__codelineno-12-55 href=#__codelineno-12-55></a>&lt;div class=&quot;container-fluid&quot;&gt;
</span><span id=__span-12-56><a id=__codelineno-12-56 name=__codelineno-12-56 href=#__codelineno-12-56></a>    &lt;div class=&quot;row&quot;&gt;
</span><span id=__span-12-57><a id=__codelineno-12-57 name=__codelineno-12-57 href=#__codelineno-12-57></a>        &lt;div class=&quot;col-md-12&quot;&gt;
</span><span id=__span-12-58><a id=__codelineno-12-58 name=__codelineno-12-58 href=#__codelineno-12-58></a>            &lt;div class=&quot;panel panel-default&quot;&gt;
</span><span id=__span-12-59><a id=__codelineno-12-59 name=__codelineno-12-59 href=#__codelineno-12-59></a>                &lt;div class=&quot;panel-heading&quot;&gt;
</span><span id=__span-12-60><a id=__codelineno-12-60 name=__codelineno-12-60 href=#__codelineno-12-60></a>                    &lt;h3 class=&quot;panel-title&quot;&gt;Inputs&lt;/h3&gt;
</span><span id=__span-12-61><a id=__codelineno-12-61 name=__codelineno-12-61 href=#__codelineno-12-61></a>                &lt;/div&gt;
</span><span id=__span-12-62><a id=__codelineno-12-62 name=__codelineno-12-62 href=#__codelineno-12-62></a>                &lt;div class=&quot;panel-body&quot;&gt;
</span><span id=__span-12-63><a id=__codelineno-12-63 name=__codelineno-12-63 href=#__codelineno-12-63></a>
</span><span id=__span-12-64><a id=__codelineno-12-64 name=__codelineno-12-64 href=#__codelineno-12-64></a>
</span><span id=__span-12-65><a id=__codelineno-12-65 name=__codelineno-12-65 href=#__codelineno-12-65></a>                    &lt;!-- FORM --&gt;
</span><span id=__span-12-66><a id=__codelineno-12-66 name=__codelineno-12-66 href=#__codelineno-12-66></a>                    &lt;form data-toggle=&quot;validator&quot; role=&quot;form&quot; method=&quot;post&quot;&gt; &lt;!-- validation form http://1000hz.github.io/bootstrap-validator/ --&gt;
</span><span id=__span-12-67><a id=__codelineno-12-67 name=__codelineno-12-67 href=#__codelineno-12-67></a>
</span><span id=__span-12-68><a id=__codelineno-12-68 name=__codelineno-12-68 href=#__codelineno-12-68></a>                        &lt;div class=&quot;form-group col-md-12&quot;&gt;
</span><span id=__span-12-69><a id=__codelineno-12-69 name=__codelineno-12-69 href=#__codelineno-12-69></a>                            &lt;label class=&quot;control-label&quot; for=&quot;known_hosts_select&quot;&gt;
</span><span id=__span-12-70><a id=__codelineno-12-70 name=__codelineno-12-70 href=#__codelineno-12-70></a>                                Known hosts
</span><span id=__span-12-71><a id=__codelineno-12-71 name=__codelineno-12-71 href=#__codelineno-12-71></a>                            &lt;/label&gt;
</span><span id=__span-12-72><a id=__codelineno-12-72 name=__codelineno-12-72 href=#__codelineno-12-72></a>                            &lt;select class=&quot;form-control&quot; id=&quot;known_hosts_select&quot;&gt;
</span><span id=__span-12-73><a id=__codelineno-12-73 name=__codelineno-12-73 href=#__codelineno-12-73></a>                              &lt;option&gt;-- List of known hosts --&lt;/option&gt;
</span><span id=__span-12-74><a id=__codelineno-12-74 name=__codelineno-12-74 href=#__codelineno-12-74></a>                              &lt;option ip=&quot;172.17.255.254&quot; login=&quot;root&quot; pass=&quot;test_pass&quot;&gt;vCenter (172.17.255.254) -- vCenter&lt;/option&gt;
</span><span id=__span-12-75><a id=__codelineno-12-75 name=__codelineno-12-75 href=#__codelineno-12-75></a>                              &lt;option ip=&quot;172.17.255.253&quot; login=&quot;root&quot; pass=&quot;test_pass&quot;&gt;ESXi (172.17.255.253) -- ESXi host&lt;/option&gt;
</span><span id=__span-12-76><a id=__codelineno-12-76 name=__codelineno-12-76 href=#__codelineno-12-76></a>                            &lt;/select&gt;
</span><span id=__span-12-77><a id=__codelineno-12-77 name=__codelineno-12-77 href=#__codelineno-12-77></a>                        &lt;/div&gt;
</span><span id=__span-12-78><a id=__codelineno-12-78 name=__codelineno-12-78 href=#__codelineno-12-78></a>
</span><span id=__span-12-79><a id=__codelineno-12-79 name=__codelineno-12-79 href=#__codelineno-12-79></a>                        &lt;div class=&quot;form-group col-md-12&quot;&gt;
</span><span id=__span-12-80><a id=__codelineno-12-80 name=__codelineno-12-80 href=#__codelineno-12-80></a>                            &lt;label class=&quot;control-label requiredField&quot; for=&quot;vmware_ip_addr&quot;&gt;
</span><span id=__span-12-81><a id=__codelineno-12-81 name=__codelineno-12-81 href=#__codelineno-12-81></a>                                ESXi/vCenter IP address
</span><span id=__span-12-82><a id=__codelineno-12-82 name=__codelineno-12-82 href=#__codelineno-12-82></a>                            &lt;/label&gt;
</span><span id=__span-12-83><a id=__codelineno-12-83 name=__codelineno-12-83 href=#__codelineno-12-83></a>                            &lt;input class=&quot;form-control&quot; type=&quot;text&quot;
</span><span id=__span-12-84><a id=__codelineno-12-84 name=__codelineno-12-84 href=#__codelineno-12-84></a>                                   pattern=&quot;^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$&quot;
</span><span id=__span-12-85><a id=__codelineno-12-85 name=__codelineno-12-85 href=#__codelineno-12-85></a>                                   id=&quot;vmware_ip_addr&quot; name=&quot;vmware_ip_addr&quot; placeholder=&quot;i.e. 172.17.255.255&quot;
</span><span id=__span-12-86><a id=__codelineno-12-86 name=__codelineno-12-86 href=#__codelineno-12-86></a>                                   data-error=&quot;How did you pass NRS I? it&#39;s not a valid IP address&quot; /&gt;
</span><span id=__span-12-87><a id=__codelineno-12-87 name=__codelineno-12-87 href=#__codelineno-12-87></a>                            &lt;div class=&quot;help-block with-errors&quot;&gt;&lt;/div&gt;
</span><span id=__span-12-88><a id=__codelineno-12-88 name=__codelineno-12-88 href=#__codelineno-12-88></a>                        &lt;/div&gt;
</span><span id=__span-12-89><a id=__codelineno-12-89 name=__codelineno-12-89 href=#__codelineno-12-89></a>                        &lt;div class=&quot;form-group col-md-6&quot;&gt;
</span><span id=__span-12-90><a id=__codelineno-12-90 name=__codelineno-12-90 href=#__codelineno-12-90></a>                            &lt;label class=&quot;control-label requiredField&quot; for=&quot;vmware_login&quot;&gt;Login
</span><span id=__span-12-91><a id=__codelineno-12-91 name=__codelineno-12-91 href=#__codelineno-12-91></a>                            &lt;/label&gt;
</span><span id=__span-12-92><a id=__codelineno-12-92 name=__codelineno-12-92 href=#__codelineno-12-92></a>                            &lt;input class=&quot;form-control&quot; id=&quot;vmware_login&quot; name=&quot;vmware_login&quot; placeholder=&quot;root&quot; type=&quot;text&quot; required/&gt;
</span><span id=__span-12-93><a id=__codelineno-12-93 name=__codelineno-12-93 href=#__codelineno-12-93></a>                        &lt;/div&gt;
</span><span id=__span-12-94><a id=__codelineno-12-94 name=__codelineno-12-94 href=#__codelineno-12-94></a>                        &lt;div class=&quot;form-group col-md-6&quot;&gt;
</span><span id=__span-12-95><a id=__codelineno-12-95 name=__codelineno-12-95 href=#__codelineno-12-95></a>                            &lt;label class=&quot;control-label requiredField&quot; for=&quot;vmware_pass&quot;&gt;Password
</span><span id=__span-12-96><a id=__codelineno-12-96 name=__codelineno-12-96 href=#__codelineno-12-96></a>                            &lt;/label&gt;
</span><span id=__span-12-97><a id=__codelineno-12-97 name=__codelineno-12-97 href=#__codelineno-12-97></a>                            &lt;input class=&quot;form-control&quot;  id=&quot;vmware_pass&quot; name=&quot;vmware_pass&quot;
</span><span id=__span-12-98><a id=__codelineno-12-98 name=__codelineno-12-98 href=#__codelineno-12-98></a>                                   placeholder=&quot;password&quot; type=&quot;password&quot; required/&gt;
</span><span id=__span-12-99><a id=__codelineno-12-99 name=__codelineno-12-99 href=#__codelineno-12-99></a>                        &lt;/div&gt;
</span><span id=__span-12-100><a id=__codelineno-12-100 name=__codelineno-12-100 href=#__codelineno-12-100></a>                        &lt;div class=&quot;form-group col-md-12&quot;&gt;
</span><span id=__span-12-101><a id=__codelineno-12-101 name=__codelineno-12-101 href=#__codelineno-12-101></a>                            &lt;div&gt; &lt;!-- RD: type=&quot;submit&quot; changed to button, since JQuery is in use --&gt;
</span><span id=__span-12-102><a id=__codelineno-12-102 name=__codelineno-12-102 href=#__codelineno-12-102></a>                                &lt;button class=&quot;btn btn-primary&quot; id=&quot;submit_form&quot; name=&quot;submit&quot; type=&quot;button&quot;&gt;
</span><span id=__span-12-103><a id=__codelineno-12-103 name=__codelineno-12-103 href=#__codelineno-12-103></a>                                    Submit
</span><span id=__span-12-104><a id=__codelineno-12-104 name=__codelineno-12-104 href=#__codelineno-12-104></a>                                &lt;/button&gt;
</span><span id=__span-12-105><a id=__codelineno-12-105 name=__codelineno-12-105 href=#__codelineno-12-105></a>                            &lt;/div&gt;
</span><span id=__span-12-106><a id=__codelineno-12-106 name=__codelineno-12-106 href=#__codelineno-12-106></a>                        &lt;/div&gt;
</span><span id=__span-12-107><a id=__codelineno-12-107 name=__codelineno-12-107 href=#__codelineno-12-107></a>                    &lt;/form&gt;
</span><span id=__span-12-108><a id=__codelineno-12-108 name=__codelineno-12-108 href=#__codelineno-12-108></a>                &lt;/div&gt;
</span><span id=__span-12-109><a id=__codelineno-12-109 name=__codelineno-12-109 href=#__codelineno-12-109></a>            &lt;/div&gt;
</span><span id=__span-12-110><a id=__codelineno-12-110 name=__codelineno-12-110 href=#__codelineno-12-110></a>            &lt;!-- OUTPUT SECTION --&gt;
</span><span id=__span-12-111><a id=__codelineno-12-111 name=__codelineno-12-111 href=#__codelineno-12-111></a>            &lt;div class=&quot;panel panel-default&quot;&gt;
</span><span id=__span-12-112><a id=__codelineno-12-112 name=__codelineno-12-112 href=#__codelineno-12-112></a>                &lt;div class=&quot;panel-heading&quot;&gt;
</span><span id=__span-12-113><a id=__codelineno-12-113 name=__codelineno-12-113 href=#__codelineno-12-113></a>                    &lt;h3 class=&quot;panel-title&quot;&gt;Output&lt;/h3&gt;
</span><span id=__span-12-114><a id=__codelineno-12-114 name=__codelineno-12-114 href=#__codelineno-12-114></a>                &lt;/div&gt;
</span><span id=__span-12-115><a id=__codelineno-12-115 name=__codelineno-12-115 href=#__codelineno-12-115></a>                &lt;div class=&quot;panel-body&quot; id=&quot;output_div&quot;&gt;
</span><span id=__span-12-116><a id=__codelineno-12-116 name=__codelineno-12-116 href=#__codelineno-12-116></a>                &lt;/div&gt;
</span><span id=__span-12-117><a id=__codelineno-12-117 name=__codelineno-12-117 href=#__codelineno-12-117></a>            &lt;/div&gt;
</span><span id=__span-12-118><a id=__codelineno-12-118 name=__codelineno-12-118 href=#__codelineno-12-118></a>            &lt;!-- END OF OUTPUT SECTION --&gt;
</span><span id=__span-12-119><a id=__codelineno-12-119 name=__codelineno-12-119 href=#__codelineno-12-119></a>        &lt;/div&gt;
</span><span id=__span-12-120><a id=__codelineno-12-120 name=__codelineno-12-120 href=#__codelineno-12-120></a>    &lt;/div&gt;
</span><span id=__span-12-121><a id=__codelineno-12-121 name=__codelineno-12-121 href=#__codelineno-12-121></a>&lt;/div&gt;
</span><span id=__span-12-122><a id=__codelineno-12-122 name=__codelineno-12-122 href=#__codelineno-12-122></a>{% endblock %}
</span><span id=__span-12-123><a id=__codelineno-12-123 name=__codelineno-12-123 href=#__codelineno-12-123></a>{% block added_js %}
</span><span id=__span-12-124><a id=__codelineno-12-124 name=__codelineno-12-124 href=#__codelineno-12-124></a>&lt;script src=&quot;{{ url_for(&#39;get_vmrc_links.static&#39;, filename=&#39;get_vmrc_links.js&#39;) }}&quot;&gt;&lt;/script&gt;
</span><span id=__span-12-125><a id=__codelineno-12-125 name=__codelineno-12-125 href=#__codelineno-12-125></a>{% endblock %}
</span></code></pre></div> <p>Rendered page: <a class=glightbox href=https://img-fotki.yandex.ru/get/47284/21639405.11c/0_8870c_6ef455c8_orig.png data-type=image data-width=100% data-height=auto data-desc-position=bottom><img alt=pic src=https://img-fotki.yandex.ru/get/47284/21639405.11c/0_8870c_6ef455c8_orig.png></a></p> <p>Dynamic template: <a href=http://codepen.io/hellt/pen/PNJwxq>http://codepen.io/hellt/pen/PNJwxq</a></p> <h2 id=flask-blueprints>Flask Blueprints<a class=headerlink href=#flask-blueprints title="Permanent link">#</a></h2> <p>Another project's major building block is <a href=https://flask.palletsprojects.com/en/1.1.x/blueprints/ >Blueprint</a>. Blueprints are important and actually making it possible to isolate various scripts in their appropriate sandboxes. And by sandbox I mean separate directory which hosts all the files linked to the script.</p> <p>Take a look inside <code>scripts_bank</code> directory which will host all the scripts-related files:</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>├──<span class=w> </span>scripts_bank
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>│<span class=w>   </span>└──<span class=w> </span>vmware
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>│<span class=w>       </span>├──<span class=w> </span>__init__.py
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>│<span class=w>       </span>└──<span class=w> </span>get_vmrc_links
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a>│<span class=w>           </span>├──<span class=w> </span>__init__.py
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a>│<span class=w>           </span>├──<span class=w> </span>get_vmrc_links.py
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a>│<span class=w>           </span>├──<span class=w> </span>static
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a>│<span class=w>           </span>│<span class=w>   </span>└──<span class=w> </span>get_vmrc_links_scripts.js
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a>│<span class=w>           </span>└──<span class=w> </span>templates
</span><span id=__span-13-10><a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a>│<span class=w>               </span>└──<span class=w> </span>get_vmrc_links.html
</span></code></pre></div> <p>It's the blueprints which allow us to modularize the app by storing some of it's components in the different directories and still be able to link them up to the main Flask app. See how elegantly JS code along with CSS styles needed only by this particular application <code>get_vmrc_links</code> found their's place in a separate directory - <code>/scripts_bank/vmware/get_vmrc_links/</code>!</p> <h3 id=blueprint-creation>Blueprint creation<a class=headerlink href=#blueprint-creation title="Permanent link">#</a></h3> <p>To create a Blueprint I placed this code in the <code>get_vmrc_links.py</code>:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=n>get_vmrc_links_bp</span> <span class=o>=</span> <span class=n>Blueprint</span><span class=p>(</span><span class=s1>&#39;get_vmrc_links&#39;</span><span class=p>,</span> <span class=vm>__name__</span><span class=p>,</span> <span class=n>template_folder</span><span class=o>=</span><span class=s1>&#39;templates&#39;</span><span class=p>,</span> <span class=n>static_folder</span><span class=o>=</span><span class=s1>&#39;static&#39;</span><span class=p>,</span>
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>                              <span class=n>static_url_path</span><span class=o>=</span><span class=s1>&#39;/get_vmrc_links/static&#39;</span><span class=p>)</span>
</span><span id=__span-14-3><a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>
</span><span id=__span-14-4><a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a><span class=nd>@get_vmrc_links_bp</span><span class=o>.</span><span class=n>route</span><span class=p>(</span><span class=s1>&#39;/get_vmrc_links&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;GET&#39;</span><span class=p>,</span><span class=s1>&#39;POST&#39;</span><span class=p>])</span>
</span><span id=__span-14-5><a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a><span class=k>def</span> <span class=nf>get_vmrc_links</span><span class=p>():</span>
</span><span id=__span-14-6><a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a> <span class=c1># some code</span>
</span></code></pre></div> <p>When I created a blueprint I defined it's <code>static_url_path</code> to <code>/get_vmrc_links/static</code> . But don't get confused if you don't see this path, I don't have it. That is because blueprints can be <strong>registered</strong> from a specific point and not directly from the project's root.</p> <p>Once we have Blueprint created we need to bind it to the route (line 4 in the snippet above). And again the route <code>/get_vmrc_links</code> will have it's root at the directory where Blueprint will be registered later.</p> <h3 id=register-a-blueprint>Register a blueprint<a class=headerlink href=#register-a-blueprint title="Permanent link">#</a></h3> <p>To register the blueprint navigate to the main <code>app.py</code> and add the following lines:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=kn>from</span> <span class=nn>scripts_bank.vmware.get_vmrc_links.get_vmrc_links</span> <span class=kn>import</span> <span class=n>get_vmrc_links_bp</span>
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a><span class=n>app</span><span class=o>.</span><span class=n>register_blueprint</span><span class=p>(</span><span class=n>get_vmrc_links_bp</span><span class=p>,</span> <span class=n>url_prefix</span><span class=o>=</span><span class=s1>&#39;/vmware&#39;</span><span class=p>)</span>
</span></code></pre></div> <p>Registration is easy! Have you spotted the <code>url_prefix='/vmware'</code> part? This is the Blueprints root directory I was talking about! So now you can glue the parts in a whole picture.</p> <ol> <li>Blueprint's root directory is <code>/vmware</code></li> <li>It's static directory path is <code>/get_vmrc_links/static</code> which turns to <code>/vmware + /get_vmrc_links/static == /vmware/get_vmrc_links/static</code></li> <li>The Flask route <code>/get_vmrc_links</code> transforms to <code>/vmware/get_vmrc_links</code> and by following this URL the script's page will be rendered</li> </ol> <h2 id=front-end-back-end-data-exchange>Front-end&lt;-&gt;back-end data exchange<a class=headerlink href=#front-end-back-end-data-exchange title="Permanent link">#</a></h2> <p>To pass data back and forth between front-end and back-end we need to:</p> <ol> <li><strong>(@front-end)</strong> serialize data from the input elements</li> <li><strong>(@front-end)</strong> pass this data to the back-end</li> <li><strong>(@back-end)</strong> receive data, make calculations, construct a response, send it</li> <li><strong>(@front-end)</strong> receive a response and render it in the output form, handle errors</li> </ol> <h3 id=serializing-input-data>Serializing input data<a class=headerlink href=#serializing-input-data title="Permanent link">#</a></h3> <p>Serializing is not hard at all. Since it is a front-end's task it is done by the JS code which is also stored in a separate file unique to this particular script <code>/scripts_bank/vmware/get_vmrc_links/static/get_vmrc_links.js</code>.</p> <p>This example shows you how you separate one script from another by maintaining all related files in a script's folder, in this example I'm working on <code>get_vmrc_links</code> script, so all the JS and specific HTML templates are stored under <code>/scripts_bank/vmware/get_vmrc_links/</code> directory.</p> <p>Take a look at <code>get_vmrc_links.js</code> and pay attention to <code>$('#submit_form').click(function()</code>. This function handles things occurring on <code>on-click</code> event to the <code>Submit</code> button.</p> <p><code>/scripts_bank/vmware/get_vmrc_links/static/get_vmrc_links_scripts.js</code>:</p> <div class="language-js highlight"><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=c1>// filling data to the input elements based on selection of predefined hosts</span>
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;#known_hosts_select&#39;</span><span class=p>).</span><span class=nx>change</span><span class=p>(</span><span class=kd>function</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-3><a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a><span class=w>    </span><span class=nx>$</span><span class=p>(</span><span class=s2>&quot;#vmware_ip_addr&quot;</span><span class=p>).</span><span class=nx>val</span><span class=p>(</span><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;#known_hosts_select option:selected&#39;</span><span class=p>).</span><span class=nx>attr</span><span class=p>(</span><span class=s1>&#39;ip&#39;</span><span class=p>));</span>
</span><span id=__span-16-4><a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a><span class=w>    </span><span class=nx>$</span><span class=p>(</span><span class=s2>&quot;#vmware_login&quot;</span><span class=p>).</span><span class=nx>val</span><span class=p>(</span><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;#known_hosts_select option:selected&#39;</span><span class=p>).</span><span class=nx>attr</span><span class=p>(</span><span class=s1>&#39;login&#39;</span><span class=p>));</span>
</span><span id=__span-16-5><a id=__codelineno-16-5 name=__codelineno-16-5 href=#__codelineno-16-5></a><span class=w>    </span><span class=nx>$</span><span class=p>(</span><span class=s2>&quot;#vmware_pass&quot;</span><span class=p>).</span><span class=nx>val</span><span class=p>(</span><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;#known_hosts_select option:selected&#39;</span><span class=p>).</span><span class=nx>attr</span><span class=p>(</span><span class=s1>&#39;pass&#39;</span><span class=p>));</span>
</span><span id=__span-16-6><a id=__codelineno-16-6 name=__codelineno-16-6 href=#__codelineno-16-6></a><span class=p>});</span>
</span><span id=__span-16-7><a id=__codelineno-16-7 name=__codelineno-16-7 href=#__codelineno-16-7></a>
</span><span id=__span-16-8><a id=__codelineno-16-8 name=__codelineno-16-8 href=#__codelineno-16-8></a><span class=nx>$</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-9><a id=__codelineno-16-9 name=__codelineno-16-9 href=#__codelineno-16-9></a><span class=w>    </span><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;#submit_form&#39;</span><span class=p>).</span><span class=nx>click</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-10><a id=__codelineno-16-10 name=__codelineno-16-10 href=#__codelineno-16-10></a><span class=w>        </span><span class=c1>// start showing loading animation</span>
</span><span id=__span-16-11><a id=__codelineno-16-11 name=__codelineno-16-11 href=#__codelineno-16-11></a><span class=w>        </span><span class=nx>$</span><span class=p>.</span><span class=nx>LoadingOverlay</span><span class=p>(</span><span class=s2>&quot;show&quot;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-12><a id=__codelineno-16-12 name=__codelineno-16-12 href=#__codelineno-16-12></a><span class=w>                        </span><span class=nx>image</span><span class=w>       </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-16-13><a id=__codelineno-16-13 name=__codelineno-16-13 href=#__codelineno-16-13></a><span class=w>                        </span><span class=nx>fontawesome</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;fa fa-cog fa-spin&quot;</span>
</span><span id=__span-16-14><a id=__codelineno-16-14 name=__codelineno-16-14 href=#__codelineno-16-14></a><span class=w>                        </span><span class=p>})</span>
</span><span id=__span-16-15><a id=__codelineno-16-15 name=__codelineno-16-15 href=#__codelineno-16-15></a><span class=w>        </span><span class=nx>$</span><span class=p>.</span><span class=nx>ajax</span><span class=p>({</span>
</span><span id=__span-16-16><a id=__codelineno-16-16 name=__codelineno-16-16 href=#__codelineno-16-16></a><span class=w>            </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=nb>window</span><span class=p>.</span><span class=nx>location</span><span class=p>.</span><span class=nx>pathname</span><span class=p>,</span><span class=w> </span><span class=c1>// url: /vmware/get_vmrc_links</span>
</span><span id=__span-16-17><a id=__codelineno-16-17 name=__codelineno-16-17 href=#__codelineno-16-17></a><span class=w>            </span><span class=nx>data</span><span class=o>:</span><span class=w> </span><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;form&#39;</span><span class=p>).</span><span class=nx>serialize</span><span class=p>(),</span>
</span><span id=__span-16-18><a id=__codelineno-16-18 name=__codelineno-16-18 href=#__codelineno-16-18></a><span class=w>            </span><span class=nx>type</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
</span><span id=__span-16-19><a id=__codelineno-16-19 name=__codelineno-16-19 href=#__codelineno-16-19></a><span class=w>            </span><span class=nx>success</span><span class=o>:</span><span class=w> </span><span class=kd>function</span><span class=p>(</span><span class=nx>response</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-20><a id=__codelineno-16-20 name=__codelineno-16-20 href=#__codelineno-16-20></a><span class=w>                </span><span class=nx>$</span><span class=p>.</span><span class=nx>LoadingOverlay</span><span class=p>(</span><span class=s2>&quot;hide&quot;</span><span class=p>);</span>
</span><span id=__span-16-21><a id=__codelineno-16-21 name=__codelineno-16-21 href=#__codelineno-16-21></a><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>error</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-22><a id=__codelineno-16-22 name=__codelineno-16-22 href=#__codelineno-16-22></a><span class=w>                    </span><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;#output_div&#39;</span><span class=p>).</span><span class=nx>HTML</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>error</span><span class=p>)</span>
</span><span id=__span-16-23><a id=__codelineno-16-23 name=__codelineno-16-23 href=#__codelineno-16-23></a><span class=w>                </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-16-24><a id=__codelineno-16-24 name=__codelineno-16-24 href=#__codelineno-16-24></a><span class=w>                    </span><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;#output_div&#39;</span><span class=p>).</span><span class=nx>HTML</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>collected_vm_info</span><span class=p>)</span>
</span><span id=__span-16-25><a id=__codelineno-16-25 name=__codelineno-16-25 href=#__codelineno-16-25></a><span class=w>                </span><span class=p>}</span>
</span><span id=__span-16-26><a id=__codelineno-16-26 name=__codelineno-16-26 href=#__codelineno-16-26></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-16-27><a id=__codelineno-16-27 name=__codelineno-16-27 href=#__codelineno-16-27></a><span class=w>        </span><span class=p>});</span>
</span><span id=__span-16-28><a id=__codelineno-16-28 name=__codelineno-16-28 href=#__codelineno-16-28></a><span class=w>    </span><span class=p>});</span>
</span><span id=__span-16-29><a id=__codelineno-16-29 name=__codelineno-16-29 href=#__codelineno-16-29></a><span class=p>});</span>
</span></code></pre></div> <p>String <code>data: $('form').serialize()</code> produces a string of <a href=https://api.jquery.com/serialize/ >serialized</a> data with all <code>&lt;form&gt;</code>'s input elements IDs and their values. Along with serialization task, this JS file contains additional things like showing "Loading" overlay and filling the <code>inputs</code> with the predefined data from <code>select</code> object.</p> <h3 id=sending-serialized-data-to-the-back-end>Sending serialized data to the back-end<a class=headerlink href=#sending-serialized-data-to-the-back-end title="Permanent link">#</a></h3> <p>Serialized data goes via <code>POST</code> method to the back-end via an <code>url</code> you specify.</p> <p>/scripts_bank/vmware/get_vmrc_links/static/get_vmrc_links_scripts.js:</p> <div class="language-js highlight"><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=nx>$</span><span class=p>.</span><span class=nx>ajax</span><span class=p>({</span>
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a><span class=w>            </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=nx>newPathname</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s1>&#39;/get_vmrc_links&#39;</span><span class=p>,</span><span class=w> </span><span class=c1>// url: /vmware/get_vmrc_links</span>
</span><span id=__span-17-3><a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=w>            </span><span class=nx>data</span><span class=o>:</span><span class=w> </span><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;form&#39;</span><span class=p>).</span><span class=nx>serialize</span><span class=p>(),</span>
</span><span id=__span-17-4><a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=w>            </span><span class=nx>type</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
</span></code></pre></div> <h3 id=receiving-data-by-the-back-end-and-processing>Receiving data by the back-end and processing<a class=headerlink href=#receiving-data-by-the-back-end-and-processing title="Permanent link">#</a></h3> <p>To receive serialized data you need to create a <code>POST</code> requests handler:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=c1># /scripts_bank/vmware/get_vmrc_links/get_vmrc_links.py</span>
</span><span id=__span-18-2><a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=nd>@get_vmrc_links_bp</span><span class=o>.</span><span class=n>route</span><span class=p>(</span><span class=s1>&#39;/get_vmrc_links&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;GET&#39;</span><span class=p>,</span><span class=s1>&#39;POST&#39;</span><span class=p>])</span>
</span><span id=__span-18-3><a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=k>def</span> <span class=nf>get_vmrc_links</span><span class=p>():</span>
</span><span id=__span-18-4><a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>    <span class=k>if</span> <span class=n>request</span><span class=o>.</span><span class=n>method</span> <span class=o>==</span> <span class=s1>&#39;GET&#39;</span><span class=p>:</span>
</span><span id=__span-18-5><a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>        <span class=k>return</span> <span class=n>render_template</span><span class=p>(</span><span class=s1>&#39;get_vmrc_links.html&#39;</span><span class=p>)</span>
</span><span id=__span-18-6><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>
</span><span id=__span-18-7><a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a>    <span class=c1># handle POST method from JQuery</span>
</span><span id=__span-18-8><a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a>    <span class=k>elif</span> <span class=n>request</span><span class=o>.</span><span class=n>method</span> <span class=o>==</span> <span class=s1>&#39;POST&#39;</span><span class=p>:</span>
</span><span id=__span-18-9><a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a>        <span class=n>getvmrc_args</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;host&#39;</span><span class=p>:</span> <span class=n>request</span><span class=o>.</span><span class=n>form</span><span class=p>[</span><span class=s1>&#39;vmware_ip_addr&#39;</span><span class=p>],</span>
</span><span id=__span-18-10><a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a>                        <span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=n>request</span><span class=o>.</span><span class=n>form</span><span class=p>[</span><span class=s1>&#39;vmware_login&#39;</span><span class=p>],</span>
</span><span id=__span-18-11><a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a>                        <span class=s1>&#39;pass&#39;</span><span class=p>:</span> <span class=n>request</span><span class=o>.</span><span class=n>form</span><span class=p>[</span><span class=s1>&#39;vmware_pass&#39;</span><span class=p>]}</span>
</span></code></pre></div> <p>To get the contents arrived in <code>POST</code> I queried <code>form</code> data structure of the <a href=https://werkzeug.palletsprojects.com/en/2.0.x/wrappers/#mutability-and-reusability-of-wrappers>request</a> object with appropriate keys. <code>form[]</code> object is an <code>ImmutableDict</code> data structure which contains all the data received in the <code>POST</code> method:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=n>ImmutableMultiDict</span><span class=p>([(</span><span class=s1>&#39;vmware_pass&#39;</span><span class=p>,</span> <span class=s1>&#39;mypass&#39;</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;vmware_ip_addr&#39;</span><span class=p>,</span> <span class=s1>&#39;172.17.255.253&#39;</span><span class=p>),</span> <span class=p>(</span><span class=s1>&#39;vmware_login&#39;</span><span class=p>,</span> <span class=s1>&#39;root&#39;</span><span class=p>)])</span>
</span></code></pre></div> <p>Once you received your inputs you pass it along to the main function of the chosen script to process. Here I should mention that you have two ways of generating output data:</p> <ol> <li>you could leave it in plain text and wrap it in the appropriate <code>HTML</code> tags with Flask</li> <li>or you could enclose scripts' output data in <code>HTML</code> tags during scripts execution process</li> </ol> <p>In this example with the <code>get_vmrc_links.py</code> script I chose the latter option and wrapped the whole output of the script (which normally would have found it's peace in <code>stdout</code>) with HTML tags:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=c1># /scripts_bank/vmware/get_vmrc_links/get_vmrc_links.py</span>
</span><span id=__span-20-2><a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a><span class=o>&lt;...</span> <span class=n>omitted</span> <span class=o>...&gt;</span>
</span><span id=__span-20-3><a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>
</span><span id=__span-20-4><a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a><span class=n>vmrc_links</span><span class=p>[</span><span class=s1>&#39;collected_vm_info&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=s2>&quot;&lt;p&gt;&lt;pre&gt;&quot;</span> <span class=c1># opening paragraph and preformatted section</span>
</span><span id=__span-20-5><a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a><span class=n>vmrc_links</span><span class=p>[</span><span class=s1>&#39;collected_vm_info&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=s2>&quot;&lt;strong&gt;Name       : &quot;</span> <span class=o>+</span> <span class=n>vm_summary</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>name</span> <span class=o>+</span> <span class=s2>&quot;&lt;/strong&gt;&lt;/br&gt;&quot;</span>
</span><span id=__span-20-6><a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a><span class=n>vmrc_links</span><span class=p>[</span><span class=s1>&#39;collected_vm_info&#39;</span><span class=p>]</span> <span class=o>+=</span> <span class=s2>&quot;Path       : &quot;</span> <span class=o>+</span> <span class=n>vm_summary</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>vmPathName</span> <span class=o>+</span> <span class=s2>&quot;&lt;/strong&gt;&lt;/br&gt;&quot;</span>
</span><span id=__span-20-7><a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a>
</span><span id=__span-20-8><a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a><span class=o>&lt;...</span> <span class=n>omitted</span> <span class=o>...&gt;</span>
</span></code></pre></div> <p>See these <code>&lt;pre&gt;</code>, <code>&lt;p&gt;</code> and <code>&lt;strong&gt;</code> tags I used? It'd done exactly to get rich formatting.</p> <h3 id=passing-the-results-back-to-the-front-end>Passing the results back to the front-end<a class=headerlink href=#passing-the-results-back-to-the-front-end title="Permanent link">#</a></h3> <p>One of the goals of this project was to make script's output look more readable. Thanks to modern front-end techniques and frameworks you could render whatever/however you like, your skills are the limit. At this time, my scripts produce just some text which I can render in various ways with HTML. But how do I actually pass this data to the front-end engine and in a what form?</p> <p>I pass it as <code>JSON</code>-formatted structure composed in a two-step process:</p> <p>Firstly, I collected scripts output data as a <code>dict</code> with the keys representing output data and errors (if any): </p> <div class="language-python highlight"><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=n>vmrc_links</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;collected_vm_info&#39;</span><span class=p>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>  <span class=c1>## collected results</span>
</span><span id=__span-21-2><a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>              <span class=s1>&#39;error&#39;</span><span class=p>:</span> <span class=s1>&#39;&#39;</span><span class=p>}</span>              <span class=c1>## errors</span>
</span></code></pre></div> <p>Once I have a dict with results and errors to show I use Flask's <a href=https://flask.palletsprojects.com/en/1.1.x/api/#flask.json.jsonify>jsonify</a> function to represent my dict as JSON and compose a <code>Response</code> object to pass it further to the front-end:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a>    <span class=o>&lt;...</span> <span class=n>omitted</span> <span class=o>...&gt;</span>
</span><span id=__span-22-2><a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a>
</span><span id=__span-22-3><a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a>    <span class=k>elif</span> <span class=n>request</span><span class=o>.</span><span class=n>method</span> <span class=o>==</span> <span class=s1>&#39;POST&#39;</span><span class=p>:</span>
</span><span id=__span-22-4><a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a>            <span class=n>getvmrc_args</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;host&#39;</span><span class=p>:</span> <span class=n>request</span><span class=o>.</span><span class=n>form</span><span class=p>[</span><span class=s1>&#39;vmware_ip_addr&#39;</span><span class=p>],</span>
</span><span id=__span-22-5><a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a>                            <span class=s1>&#39;user&#39;</span><span class=p>:</span> <span class=n>request</span><span class=o>.</span><span class=n>form</span><span class=p>[</span><span class=s1>&#39;vmware_login&#39;</span><span class=p>],</span>
</span><span id=__span-22-6><a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a>                            <span class=s1>&#39;pass&#39;</span><span class=p>:</span> <span class=n>request</span><span class=o>.</span><span class=n>form</span><span class=p>[</span><span class=s1>&#39;vmware_pass&#39;</span><span class=p>]}</span>
</span><span id=__span-22-7><a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a>
</span><span id=__span-22-8><a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a>            <span class=k>global</span> <span class=n>vmrc_links</span>
</span><span id=__span-22-9><a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a>            <span class=n>vmrc_links</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;collected_vm_info&#39;</span><span class=p>:</span> <span class=s1>&#39;&#39;</span><span class=p>,</span>
</span><span id=__span-22-10><a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a>                        <span class=s1>&#39;error&#39;</span><span class=p>:</span> <span class=s1>&#39;&#39;</span><span class=p>}</span>
</span><span id=__span-22-11><a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a>
</span><span id=__span-22-12><a id=__codelineno-22-12 name=__codelineno-22-12 href=#__codelineno-22-12></a>            <span class=n>vm_info</span> <span class=o>=</span> <span class=n>main</span><span class=p>(</span><span class=n>getvmrc_args</span><span class=p>)</span>
</span><span id=__span-22-13><a id=__codelineno-22-13 name=__codelineno-22-13 href=#__codelineno-22-13></a>            <span class=k>return</span> <span class=n>jsonify</span><span class=p>(</span><span class=n>vm_info</span><span class=p>)</span>
</span></code></pre></div> <p>And that's it. Now fast forward to the front-end and see how it processes received data:</p> <p>/scripts_bank/vmware/get_vmrc_links/static/get_vmrc_links_scripts.js:</p> <div class="language-js highlight"><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=nx>$</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-2><a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=w>    </span><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;#submit_form&#39;</span><span class=p>).</span><span class=nx>click</span><span class=p>(</span><span class=kd>function</span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-3><a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=w>        </span><span class=c1>// start showing loading animation</span>
</span><span id=__span-23-4><a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=w>        </span><span class=nx>$</span><span class=p>.</span><span class=nx>LoadingOverlay</span><span class=p>(</span><span class=s2>&quot;show&quot;</span><span class=p>,</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-5><a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a><span class=w>                        </span><span class=nx>image</span><span class=w>       </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>,</span>
</span><span id=__span-23-6><a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=w>                        </span><span class=nx>fontawesome</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s2>&quot;fa fa-cog fa-spin&quot;</span>
</span><span id=__span-23-7><a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a><span class=w>                        </span><span class=p>})</span>
</span><span id=__span-23-8><a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a><span class=w>        </span><span class=nx>$</span><span class=p>.</span><span class=nx>ajax</span><span class=p>({</span>
</span><span id=__span-23-9><a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a><span class=w>            </span><span class=nx>url</span><span class=o>:</span><span class=w> </span><span class=nb>window</span><span class=p>.</span><span class=nx>location</span><span class=p>.</span><span class=nx>pathname</span><span class=p>,</span><span class=w> </span><span class=c1>// url: /vmware/get_vmrc_links</span>
</span><span id=__span-23-10><a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a><span class=w>            </span><span class=nx>data</span><span class=o>:</span><span class=w> </span><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;form&#39;</span><span class=p>).</span><span class=nx>serialize</span><span class=p>(),</span>
</span><span id=__span-23-11><a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a><span class=w>            </span><span class=nx>type</span><span class=o>:</span><span class=w> </span><span class=s1>&#39;POST&#39;</span><span class=p>,</span>
</span><span id=__span-23-12><a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a><span class=w>            </span><span class=nx>success</span><span class=o>:</span><span class=w> </span><span class=kd>function</span><span class=p>(</span><span class=nx>response</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-13><a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a><span class=w>                </span><span class=nx>$</span><span class=p>.</span><span class=nx>LoadingOverlay</span><span class=p>(</span><span class=s2>&quot;hide&quot;</span><span class=p>);</span>
</span><span id=__span-23-14><a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>error</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-15><a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a><span class=w>                    </span><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;#output_div&#39;</span><span class=p>).</span><span class=nx>HTML</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>error</span><span class=p>)</span>
</span><span id=__span-23-16><a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a><span class=w>                </span><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-23-17><a id=__codelineno-23-17 name=__codelineno-23-17 href=#__codelineno-23-17></a><span class=w>                    </span><span class=nx>$</span><span class=p>(</span><span class=s1>&#39;#output_div&#39;</span><span class=p>).</span><span class=nx>HTML</span><span class=p>(</span><span class=nx>response</span><span class=p>.</span><span class=nx>collected_vm_info</span><span class=p>)</span>
</span><span id=__span-23-18><a id=__codelineno-23-18 name=__codelineno-23-18 href=#__codelineno-23-18></a><span class=w>                </span><span class=p>}</span>
</span><span id=__span-23-19><a id=__codelineno-23-19 name=__codelineno-23-19 href=#__codelineno-23-19></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-23-20><a id=__codelineno-23-20 name=__codelineno-23-20 href=#__codelineno-23-20></a><span class=w>        </span><span class=p>});</span>
</span><span id=__span-23-21><a id=__codelineno-23-21 name=__codelineno-23-21 href=#__codelineno-23-21></a><span class=w>    </span><span class=p>});</span>
</span><span id=__span-23-22><a id=__codelineno-23-22 name=__codelineno-23-22 href=#__codelineno-23-22></a><span class=p>});</span>
</span></code></pre></div> <p>On a successful return, I check if output has any errors and if it has - put an error message in the <code>#output_div</code> block. If things went smooth I put collected results in this block instead.</p> <h2 id=adding-new-script-is-easy>Adding new script is easy<a class=headerlink href=#adding-new-script-is-easy title="Permanent link">#</a></h2> <h3 id=create-the-file-structure>Create the file structure<a class=headerlink href=#create-the-file-structure title="Permanent link">#</a></h3> <p>It's very easy to add a new script. Walk with me and see how easily I add completely separate script called <code>SAM-O XML API Tester</code>.</p> <p>At first, I created directories which represent sandbox for the script in a folder dedicated to storing scripts (<code>scripts_bank</code>). As I said, my directory structure follows my side-menu bar, that's why for the new script called <code>SAM-O_XML_API_Tester</code> I first off created root directory <code>5620sam</code> and then subdirectory <code>SAM-O_XML_API_Tester</code>. The latter dir will carry all files related to this particular script.</p> <p>Do not forget to create empty <code>__init.py__</code> files inside directories of the script to treat folders as python packages.</p> <div class="language-bash highlight"><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a>.
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a>├──<span class=w> </span>scripts_bank
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a>│<span class=w>  </span>├──<span class=w> </span>_5620sam
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a>│<span class=w>  </span>│<span class=w>  </span>├──<span class=w> </span>sam_xml_api_tester
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a>│<span class=w>  </span>│<span class=w>  </span>│<span class=w>  </span>├──<span class=w> </span>__init__.py
</span><span id=__span-24-6><a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a>│<span class=w>  </span>│<span class=w>  </span>│<span class=w>  </span>├──<span class=w> </span>static
</span><span id=__span-24-7><a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a>│<span class=w>  </span>│<span class=w>  </span>│<span class=w>  </span>└──<span class=w> </span>templates
</span><span id=__span-24-8><a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a>│<span class=w>  </span>│<span class=w>  </span>└──<span class=w> </span>__init__.py
</span><span id=__span-24-9><a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a>│<span class=w>  </span>├──<span class=w> </span>__init__.py
</span></code></pre></div> <h3 id=create-html-files>Create HTML files<a class=headerlink href=#create-html-files title="Permanent link">#</a></h3> <p>Now it's user-facing HTML template's turn. I created <code>sam-o_xml_api_tester.html</code> file in <code>SAM-O_XML_API_Tester/templates</code> dir leveraging sandbox environment. See, this makes individual script management very convenient, one directory stores em all.</p> <p>Following inheritance model this template inherits markup from the <code>content-template.html</code>. As I explained earlier it makes easier to fill in general text information (such as a name of the script, usage guide, author info, etc). Consider this as static or temporary layout for almost every new script.</p> <p>/scripts_bank/5620sam/SAM-O_XML_API_Tester/templates/sam-o_xml_api_tester.html:</p> <div class="language-html highlight"><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a>{% extends &#39;content_template.html&#39; %}
</span><span id=__span-25-2><a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a>{% block title %}
</span><span id=__span-25-3><a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a>    New script
</span><span id=__span-25-4><a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a>{% endblock %}
</span><span id=__span-25-5><a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a>
</span><span id=__span-25-6><a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a>{% block main_purpose %}
</span><span id=__span-25-7><a id=__codelineno-25-7 name=__codelineno-25-7 href=#__codelineno-25-7></a>This is just demo for the blog.
</span><span id=__span-25-8><a id=__codelineno-25-8 name=__codelineno-25-8 href=#__codelineno-25-8></a>{% endblock %}
</span><span id=__span-25-9><a id=__codelineno-25-9 name=__codelineno-25-9 href=#__codelineno-25-9></a>
</span><span id=__span-25-10><a id=__codelineno-25-10 name=__codelineno-25-10 href=#__codelineno-25-10></a>{% block descr %}
</span><span id=__span-25-11><a id=__codelineno-25-11 name=__codelineno-25-11 href=#__codelineno-25-11></a>Description TBD...
</span><span id=__span-25-12><a id=__codelineno-25-12 name=__codelineno-25-12 href=#__codelineno-25-12></a>{% endblock %}
</span><span id=__span-25-13><a id=__codelineno-25-13 name=__codelineno-25-13 href=#__codelineno-25-13></a>
</span><span id=__span-25-14><a id=__codelineno-25-14 name=__codelineno-25-14 href=#__codelineno-25-14></a>{% block usage %}
</span><span id=__span-25-15><a id=__codelineno-25-15 name=__codelineno-25-15 href=#__codelineno-25-15></a>It does nothing, <span class=p>&lt;</span><span class=nt>mark</span><span class=p>&gt;</span>for now<span class=p>&lt;/</span><span class=nt>mark</span><span class=p>&gt;</span>
</span><span id=__span-25-16><a id=__codelineno-25-16 name=__codelineno-25-16 href=#__codelineno-25-16></a>{% endblock %}
</span><span id=__span-25-17><a id=__codelineno-25-17 name=__codelineno-25-17 href=#__codelineno-25-17></a>
</span><span id=__span-25-18><a id=__codelineno-25-18 name=__codelineno-25-18 href=#__codelineno-25-18></a>{% block limitations %}
</span><span id=__span-25-19><a id=__codelineno-25-19 name=__codelineno-25-19 href=#__codelineno-25-19></a>My code does not have limitation!
</span><span id=__span-25-20><a id=__codelineno-25-20 name=__codelineno-25-20 href=#__codelineno-25-20></a>{% endblock %}
</span><span id=__span-25-21><a id=__codelineno-25-21 name=__codelineno-25-21 href=#__codelineno-25-21></a>
</span><span id=__span-25-22><a id=__codelineno-25-22 name=__codelineno-25-22 href=#__codelineno-25-22></a>{% block author %}
</span><span id=__span-25-23><a id=__codelineno-25-23 name=__codelineno-25-23 href=#__codelineno-25-23></a>Roman Dodin
</span><span id=__span-25-24><a id=__codelineno-25-24 name=__codelineno-25-24 href=#__codelineno-25-24></a>{% endblock %}
</span><span id=__span-25-25><a id=__codelineno-25-25 name=__codelineno-25-25 href=#__codelineno-25-25></a>
</span><span id=__span-25-26><a id=__codelineno-25-26 name=__codelineno-25-26 href=#__codelineno-25-26></a>{% block version %}
</span><span id=__span-25-27><a id=__codelineno-25-27 name=__codelineno-25-27 href=#__codelineno-25-27></a>0.1
</span><span id=__span-25-28><a id=__codelineno-25-28 name=__codelineno-25-28 href=#__codelineno-25-28></a>{% endblock %}
</span><span id=__span-25-29><a id=__codelineno-25-29 name=__codelineno-25-29 href=#__codelineno-25-29></a>
</span><span id=__span-25-30><a id=__codelineno-25-30 name=__codelineno-25-30 href=#__codelineno-25-30></a>{% block tags %}
</span><span id=__span-25-31><a id=__codelineno-25-31 name=__codelineno-25-31 href=#__codelineno-25-31></a>noshut.ru
</span><span id=__span-25-32><a id=__codelineno-25-32 name=__codelineno-25-32 href=#__codelineno-25-32></a>{% endblock %}
</span><span id=__span-25-33><a id=__codelineno-25-33 name=__codelineno-25-33 href=#__codelineno-25-33></a>
</span><span id=__span-25-34><a id=__codelineno-25-34 name=__codelineno-25-34 href=#__codelineno-25-34></a>{% block script_content %}
</span><span id=__span-25-35><a id=__codelineno-25-35 name=__codelineno-25-35 href=#__codelineno-25-35></a>
</span><span id=__span-25-36><a id=__codelineno-25-36 name=__codelineno-25-36 href=#__codelineno-25-36></a><span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;container-fluid&quot;</span><span class=p>&gt;</span>
</span><span id=__span-25-37><a id=__codelineno-25-37 name=__codelineno-25-37 href=#__codelineno-25-37></a>    <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;row&quot;</span><span class=p>&gt;</span>
</span><span id=__span-25-38><a id=__codelineno-25-38 name=__codelineno-25-38 href=#__codelineno-25-38></a>        <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;col-md-12&quot;</span><span class=p>&gt;</span>
</span><span id=__span-25-39><a id=__codelineno-25-39 name=__codelineno-25-39 href=#__codelineno-25-39></a>            <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;panel panel-default&quot;</span><span class=p>&gt;</span>
</span><span id=__span-25-40><a id=__codelineno-25-40 name=__codelineno-25-40 href=#__codelineno-25-40></a>                <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;panel-heading&quot;</span><span class=p>&gt;</span>
</span><span id=__span-25-41><a id=__codelineno-25-41 name=__codelineno-25-41 href=#__codelineno-25-41></a>                    <span class=p>&lt;</span><span class=nt>h3</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;panel-title&quot;</span><span class=p>&gt;</span>Inputs<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span><span id=__span-25-42><a id=__codelineno-25-42 name=__codelineno-25-42 href=#__codelineno-25-42></a>                <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-25-43><a id=__codelineno-25-43 name=__codelineno-25-43 href=#__codelineno-25-43></a>                <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;panel-body&quot;</span><span class=p>&gt;</span>
</span><span id=__span-25-44><a id=__codelineno-25-44 name=__codelineno-25-44 href=#__codelineno-25-44></a>                <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-25-45><a id=__codelineno-25-45 name=__codelineno-25-45 href=#__codelineno-25-45></a>            <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-25-46><a id=__codelineno-25-46 name=__codelineno-25-46 href=#__codelineno-25-46></a>
</span><span id=__span-25-47><a id=__codelineno-25-47 name=__codelineno-25-47 href=#__codelineno-25-47></a>            <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;panel panel-default&quot;</span><span class=p>&gt;</span>
</span><span id=__span-25-48><a id=__codelineno-25-48 name=__codelineno-25-48 href=#__codelineno-25-48></a>                <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;panel-heading&quot;</span><span class=p>&gt;</span>
</span><span id=__span-25-49><a id=__codelineno-25-49 name=__codelineno-25-49 href=#__codelineno-25-49></a>                    <span class=p>&lt;</span><span class=nt>h3</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;panel-title&quot;</span><span class=p>&gt;</span>Output<span class=p>&lt;/</span><span class=nt>h3</span><span class=p>&gt;</span>
</span><span id=__span-25-50><a id=__codelineno-25-50 name=__codelineno-25-50 href=#__codelineno-25-50></a>                <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-25-51><a id=__codelineno-25-51 name=__codelineno-25-51 href=#__codelineno-25-51></a>                <span class=p>&lt;</span><span class=nt>div</span> <span class=na>class</span><span class=o>=</span><span class=s>&quot;panel-body&quot;</span> <span class=na>id</span><span class=o>=</span><span class=s>&quot;output_div&quot;</span><span class=p>&gt;</span>
</span><span id=__span-25-52><a id=__codelineno-25-52 name=__codelineno-25-52 href=#__codelineno-25-52></a>                <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-25-53><a id=__codelineno-25-53 name=__codelineno-25-53 href=#__codelineno-25-53></a>            <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-25-54><a id=__codelineno-25-54 name=__codelineno-25-54 href=#__codelineno-25-54></a>        <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-25-55><a id=__codelineno-25-55 name=__codelineno-25-55 href=#__codelineno-25-55></a>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-25-56><a id=__codelineno-25-56 name=__codelineno-25-56 href=#__codelineno-25-56></a><span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span><span id=__span-25-57><a id=__codelineno-25-57 name=__codelineno-25-57 href=#__codelineno-25-57></a>{% endblock %}
</span><span id=__span-25-58><a id=__codelineno-25-58 name=__codelineno-25-58 href=#__codelineno-25-58></a>{% block added_js %}
</span><span id=__span-25-59><a id=__codelineno-25-59 name=__codelineno-25-59 href=#__codelineno-25-59></a><span class=cm>&lt;!-- nothing here for the moment --&gt;</span>
</span><span id=__span-25-60><a id=__codelineno-25-60 name=__codelineno-25-60 href=#__codelineno-25-60></a>{% endblock %}
</span></code></pre></div> <h3 id=create-register-a-blueprint>Create &amp; register a Blueprint<a class=headerlink href=#create-register-a-blueprint title="Permanent link">#</a></h3> <p>Now it's time to write few lines for back-end part. Create a python file which will hold blueprint for this script we've been adding and back-end activities:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=c1>#/scripts_bank/_5620sam/sam_xml_api_tester/sam_xml_api_tester.py</span>
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>render_template</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>Blueprint</span><span class=p>,</span> <span class=n>jsonify</span>
</span><span id=__span-26-3><a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a>
</span><span id=__span-26-4><a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=c1>###############</span>
</span><span id=__span-26-5><a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=c1>#### FLASK ####</span>
</span><span id=__span-26-6><a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a><span class=c1>###############</span>
</span><span id=__span-26-7><a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a>
</span><span id=__span-26-8><a id=__codelineno-26-8 name=__codelineno-26-8 href=#__codelineno-26-8></a><span class=n>sam_api_tester_bp</span> <span class=o>=</span> <span class=n>Blueprint</span><span class=p>(</span><span class=s1>&#39;sam_api_tester&#39;</span><span class=p>,</span> <span class=vm>__name__</span><span class=p>,</span> <span class=n>template_folder</span><span class=o>=</span><span class=s1>&#39;templates&#39;</span><span class=p>,</span> <span class=n>static_folder</span><span class=o>=</span><span class=s1>&#39;static&#39;</span><span class=p>,</span>
</span><span id=__span-26-9><a id=__codelineno-26-9 name=__codelineno-26-9 href=#__codelineno-26-9></a>                              <span class=n>static_url_path</span><span class=o>=</span><span class=s1>&#39;/sam_xml_api_tester/static&#39;</span><span class=p>)</span>
</span><span id=__span-26-10><a id=__codelineno-26-10 name=__codelineno-26-10 href=#__codelineno-26-10></a>
</span><span id=__span-26-11><a id=__codelineno-26-11 name=__codelineno-26-11 href=#__codelineno-26-11></a><span class=nd>@sam_api_tester_bp</span><span class=o>.</span><span class=n>route</span><span class=p>(</span><span class=s1>&#39;/sam_xml_api_tester&#39;</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;GET&#39;</span><span class=p>,</span><span class=s1>&#39;POST&#39;</span><span class=p>])</span>
</span><span id=__span-26-12><a id=__codelineno-26-12 name=__codelineno-26-12 href=#__codelineno-26-12></a><span class=k>def</span> <span class=nf>sam_api_tester</span><span class=p>():</span>
</span><span id=__span-26-13><a id=__codelineno-26-13 name=__codelineno-26-13 href=#__codelineno-26-13></a>    <span class=k>if</span> <span class=n>request</span><span class=o>.</span><span class=n>method</span> <span class=o>==</span> <span class=s1>&#39;GET&#39;</span><span class=p>:</span>
</span><span id=__span-26-14><a id=__codelineno-26-14 name=__codelineno-26-14 href=#__codelineno-26-14></a>        <span class=k>return</span> <span class=n>render_template</span><span class=p>(</span><span class=s1>&#39;sam_xml_api_tester.html&#39;</span><span class=p>)</span>
</span><span id=__span-26-15><a id=__codelineno-26-15 name=__codelineno-26-15 href=#__codelineno-26-15></a>
</span><span id=__span-26-16><a id=__codelineno-26-16 name=__codelineno-26-16 href=#__codelineno-26-16></a>    <span class=c1># handle POST method from JQuery (will be filled later)</span>
</span><span id=__span-26-17><a id=__codelineno-26-17 name=__codelineno-26-17 href=#__codelineno-26-17></a>    <span class=k>elif</span> <span class=n>request</span><span class=o>.</span><span class=n>method</span> <span class=o>==</span> <span class=s1>&#39;POST&#39;</span><span class=p>:</span>
</span><span id=__span-26-18><a id=__codelineno-26-18 name=__codelineno-26-18 href=#__codelineno-26-18></a>        <span class=k>return</span> <span class=mi>0</span>
</span></code></pre></div> <p>Register it in the main <code>app.py</code>:</p> <div class="language-python highlight"><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=kn>from</span> <span class=nn>scripts_bank._5620sam.sam_xml_api_tester.sam_xml_api_tester</span> <span class=kn>import</span> <span class=n>sam_api_tester_bp</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a><span class=n>app</span><span class=o>.</span><span class=n>register_blueprint</span><span class=p>(</span><span class=n>sam_api_tester_bp</span><span class=p>,</span> <span class=n>url_prefix</span><span class=o>=</span><span class=s1>&#39;/5620sam&#39;</span><span class=p>)</span>
</span></code></pre></div> <p>And you are good to go!</p> <h2 id=how-to-test-plaza>How to test PLAZA?<a class=headerlink href=#how-to-test-plaza title="Permanent link">#</a></h2> <p>Apart from traditional way of cloning a <a href=https://github.com/hellt/PLAZA>repo</a> and building a virtual environment, you can use a <a href=https://hub.docker.com/r/hellt/plaza-demo/ >docker container</a>.</p> <h2 id=whats-next>What's next?<a class=headerlink href=#whats-next title="Permanent link">#</a></h2> <p>Tons of useful things are missing at the moment - no search, no active tags, no login-based system, no tests, etc. I will probably add some of this features later, but you are welcome to suggest, blame, and pull-request. Yeah, the code <code>as is</code> can be grabbed from <a href=https://github.com/hellt/PLAZA>GitHub</a>.</p> <h2 id=__comments>Comments</h2> <script src=https://giscus.app/client.js data-repo=hellt/netdevops.me data-repo-id="MDEwOlJlcG9zaXRvcnkzNTkzNTc5ODc=" data-category="Show and tell" data-category-id=DIC_kwDOFWteI84CRmVn data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=en data-loading=lazy crossorigin=anonymous async>
    </script> <!-- Synchronize Giscus theme with palette --> <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light"
        giscus.setAttribute("data-theme", theme)
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate" ? "dark" : "light"

                /* Instruct Giscus to change theme */
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    { giscus: { setConfig: { theme } } },
                    "https://giscus.app"
                )
            }
        })
    })
</script> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs Insiders </a> </div> <div class=md-social> <a href=https://github.com/hellt target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/ntdvps target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.top", "navigation.instant", "navigation.tabs", "search.suggest", "content.code.annotate", "toc.follow", "content.tooltips", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.1e90e0fb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.2b189340.min.js></script> <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body> </html>