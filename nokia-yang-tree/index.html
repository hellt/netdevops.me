<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Nokia YANG tree and Path Browser |</title><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content><meta name=twitter:title content="Nokia YANG tree and Path Browser"><meta name=twitter:description content><meta name=twitter:creator content="@ntdvps"><meta name=Description content="DevOps applied to networking"><meta property="og:title" content="Nokia YANG tree and Path Browser"><meta property="og:description" content="Automation Is as Good as the Data Models is a chapter&rsquo;s name in the great book titled &ldquo;Network Programmability With YANG&rdquo;. These days you won&rsquo;t bedazzle anyone by just providing the set of YANG models for the flagship network products. The models alone, albeit a great step forward, do not guarantee that programmability will start flourish.
The automation tools leveraging YANG is often a missing link and in this post I am talking about the Nokia YANG tree and Path Browser tools which help both our internal automation squad and our customers to be more effective working with our YANG models."><meta property="og:type" content="article"><meta property="og:url" content="https://netdevops.me/nokia-yang-tree/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-04-29T06:00:00+00:00"><meta property="article:modified_time" content="2021-04-19T12:35:46+02:00"><meta name=application-name content="NetDevOps"><meta name=apple-mobile-web-app-title content="NetDevOps"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/png sizes=192x192 href=/android-chrome-192x192.png><link rel=icon type=image/png sizes=512x512 href=/android-chrome-512x512.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://netdevops.me/nokia-yang-tree/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Nokia YANG tree and Path Browser","inLanguage":"en-us","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/netdevops.me\/nokia-yang-tree\/"},"genre":"posts","keywords":"nokia, sros, yang","wordCount":1940,"url":"https:\/\/netdevops.me\/nokia-yang-tree\/","datePublished":"2020-04-29T06:00:00+00:00","dateModified":"2021-04-19T12:35:46+02:00","description":""}</script></head><body data-header-desktop data-header-mobile><script>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':''==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:''==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header><div class="desktop header" id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=NetDevOps class="header-logo logo-svg"><img loading=lazy decoding=async class=logo src=/android-chrome-192x192.png alt=/android-chrome-192x192.png title=/android-chrome-192x192.png></a></div><div class=menu><nav><h2 class=display-hidden>–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è</h2><ul class=menu-inner><li><a class=menu-item href=/posts/>Posts</a></li><li><a class=menu-item href=/about>About me</a></li><li><a class=menu-item href=/tags/>Tags</a></li></ul></nav><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop><input type=text placeholder=Search... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><span class="svg-icon icon-search"></span></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><span class="svg-icon icon-cancel"></span></a><span class="search-button search-loading" id=search-loading-desktop><span class="svg-icon icon-loading"></span></span></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><span class="svg-icon icon-moon"></span></a></div></div></div><div class="mobile header" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=NetDevOps class=header-logo><img loading=lazy decoding=async class=logo src=/android-chrome-192x192.png alt=/android-chrome-192x192.png title=/android-chrome-192x192.png></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=Search... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><span class="svg-icon icon-search"></span></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><span class="svg-icon icon-cancel"></span></a><span class="search-button search-loading" id=search-loading-mobile><span class="svg-icon icon-loading"></span></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><nav><h2 class=display-hidden>–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è</h2><ul><li><a class=menu-item href=/posts/ title>Posts</a></li><li><a class=menu-item href=/about title>About me</a></li><li><a class=menu-item href=/tags/ title>Tags</a></li></ul></nav><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><span class="svg-icon icon-moon"></span></a></div></div></div><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div></header><main class=main><div class="container content-article theme-classic"><div class=toc id=toc-auto><div class=toc-title>Contents</div><div class="toc-content always-active" id=toc-content-auto></div></div><article><header class=header-post><div class=post-title><div class=post-all-meta><nav class=breadcrumbs><ol><li><a href=/>Home</a></li><li>Nokia YANG tree and Path Browser</li></ol></nav><h1 class="single-title flipInX">Nokia YANG tree and Path Browser</h1><div class="post-meta summary-post-meta"><span class="post-meta-date meta-item"><span class="svg-icon icon-clock"></span><time class=timeago datetime=2020-04-29>2020-04-29</time>
</span><span class="post-meta-words meta-item"><span class="svg-icon icon-pencil"></span>1940 words</span>
<span class="post-meta-reading meta-item"><span class="svg-icon icon-stopwatch"></span>10 minutes</span></div></div></div></header><div class="article-post toc-start"><div class="content-block content-block-first content-block-position"><div class="post single"><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1-models-for-machines>1 Models for machines</a><ul><li><a href=#11-why-browsing-models-is-important>1.1 Why browsing models is important?</a></li></ul></li><li><a href=#2-yang-representations>2 YANG representations</a><ul><li><a href=#21-tree>2.1 Tree</a></li><li><a href=#22-html-tree>2.2 HTML tree</a></li></ul></li><li><a href=#3-nokia-yang-tree-repository>3 Nokia YANG tree repository</a><ul><li><a href=#31-yang-browser>3.1 YANG Browser</a></li><li><a href=#32-path-browser>3.2 Path Browser</a></li></ul></li><li><a href=#4-summary>4 Summary</a></li></ul></nav></div></div><div style="margin:20px 0"><span class=post-update><span class=s>Updated on 2021-04-19</span></span></div><p><em>Automation Is as Good as the Data Models</em> is a chapter&rsquo;s name in the great book titled <a href=https://www.amazon.com/Network-Programmability-YANG-Modeling-driven-Management/dp/0135180392 target=_blank rel="noopener noreffer">&ldquo;Network Programmability With YANG&rdquo;</a>. These days you won&rsquo;t bedazzle anyone by just providing the set of YANG models for the flagship network products. The models alone, albeit a great step forward, do not guarantee that programmability will start flourish.<br>The automation tools leveraging YANG is often a missing link and in this post I am talking about the <a href=https://github.com/hellt/nokia-yangtree target=_blank rel="noopener noreffer">Nokia YANG tree and Path Browser</a> tools which help both our internal automation squad and our customers to be more effective working with our YANG models.</p><h2 id=1-models-for-machines class=headerLink><a href=#1-models-for-machines class=header-mark></a>1 Models for machines</h2><p>At Nokia we distribute the YANG models via our <a href=https://github.com/nokia/7x50_YangModels target=_blank rel="noopener noreffer">nokia/7x50_YangModels</a> repository. This enables us to allow users to simplify the way they get the models. The challenge with these models, or any models provided in <code>.yang</code> format for that matter, is that its extremely hard for a naked eye to browse/evaluate these models when doing network automation. They are great for compilers, and not as much for us - automation engineers.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-cpp data-lang=cpp><span class=c1>// first lines of ietf-interfaces.yang module
</span><span class=c1></span><span class=n>module</span> <span class=n>ietf</span><span class=o>-</span><span class=n>interfaces</span> <span class=p>{</span>
  <span class=n>yang</span><span class=o>-</span><span class=n>version</span> <span class=mf>1.1</span><span class=p>;</span>
  <span class=k>namespace</span> <span class=s>&#34;urn:ietf:params:xml:ns:yang:ietf-interfaces&#34;</span><span class=p>;</span>
  <span class=n>import</span> <span class=n>ietf</span><span class=o>-</span><span class=n>yang</span><span class=o>-</span><span class=n>types</span> <span class=p>{</span>
    <span class=n>prefix</span> <span class=n>yang</span><span class=p>;</span>
  <span class=p>}</span>
  <span class=n>revision</span> <span class=mi>2018</span><span class=o>-</span><span class=mo>02</span><span class=o>-</span><span class=mi>20</span><span class=p>;</span>
  <span class=n>container</span> <span class=n>interfaces</span> <span class=p>{</span>
    <span class=n>description</span>
      <span class=s>&#34;Interface parameters.&#34;</span><span class=p>;</span>
    <span class=n>list</span> <span class=n>interface</span> <span class=p>{</span>
      <span class=n>key</span> <span class=s>&#34;name&#34;</span><span class=p>;</span>
      <span class=n>leaf</span> <span class=n>name</span> <span class=p>{</span>
        <span class=n>type</span> <span class=n>string</span><span class=p>;</span>
      <span class=p>}</span>
      <span class=n>leaf</span> <span class=n>description</span> <span class=p>{</span>
        <span class=n>type</span> <span class=n>string</span><span class=p>;</span>
      <span class=p>}</span>
      <span class=n>leaf</span> <span class=n>enabled</span> <span class=p>{</span>
        <span class=n>type</span> <span class=n>boolean</span><span class=p>;</span>
        <span class=k>default</span> <span class=s>&#34;true&#34;</span><span class=p>;</span>
      <span class=p>}</span>
</code></pre></td></tr></table></div></div><p>Likely, browsing the <a href=https://github.com/YangModels/yang/blob/master/standard/ietf/RFC/ietf-interfaces%402018-02-20.yang target=_blank rel="noopener noreffer"><code>ietf-interfaces.yang</code></a> file won&rsquo;t make you sweat, yet it shouldn&rsquo;t led you to a false conclusion that YANG code representation is easy. The reality hits hard when YANG exposes its features such as <code>groupings</code> and <code>uses</code>, custom <code>typedefs</code> and multiple <code>identityrefs</code>, solid layer of <code>XPATH</code> here and there, twisted <code>imports</code> and a composition with dozens of <code>submodules</code>.</p><p>For example, our combined model for the configuration-only data (<a href=https://raw.githubusercontent.com/nokia/7x50_YangModels/master/latest_sros_20.2/nokia-combined/nokia-conf-combined.yang target=_blank rel="noopener noreffer">nokia-conf-combined.yang</a>) is 15MB in size and has 331000 lines. That is like the opposite of <em>easy</em>. But why is it important to peer inside the models in the first place?</p><h3 id=11-why-browsing-models-is-important class=headerLink><a href=#11-why-browsing-models-is-important class=header-mark></a>1.1 Why browsing models is important?</h3><p>Truth is that every model driven (MD) interface you have in mind such as NETCONF, gNMI, RESTCONF operates on the data that is modelled in YANG. Thus every single operation you make with these interfaces eventually aligned with the underlying YANG model to access the data.</p><p>And unless your automation suite leverages some advanced orchestrator-provided abstractions or code generated classes, you literally <strong>need to look</strong> at the YANG modules when using those management interfaces.</p><ol><li>NETCONF operations must have the XML envelopes created in conformance with the YANG model (<a href=https://gitlab.com/rdodin/pics/-/wikis/uploads/45fd09db73543f94f6937655db3f70ff/image.png target=_blank rel="noopener noreffer">example</a>)</li><li>gNMI paths are XPATH-like paths modelled after the underlying YANG model (<a href=https://gitlab.com/rdodin/pics/-/wikis/uploads/789429d8fec1d721e04d6024df5f883b/image.png target=_blank rel="noopener noreffer">example</a>)</li><li>RESTCONF URL embeds a model path as dictated by the YANG model (<a href=https://gitlab.com/rdodin/pics/-/wikis/uploads/1b9d45fd859ee7a66f382bab0f02621c/image.png target=_blank rel="noopener noreffer">example</a>)</li></ol><h2 id=2-yang-representations class=headerLink><a href=#2-yang-representations class=header-mark></a>2 YANG representations</h2><p>Make no mistake: regardless of the interface you pick, you end browsing YANG models and as you can imagine, scrambling through the raw YANG model representation is not an easy task. Luckily, the better looking representations of the very same models exist.</p><h3 id=21-tree class=headerLink><a href=#21-tree class=header-mark></a>2.1 Tree</h3><p>The <a href=https://tools.ietf.org/html/rfc8340 target=_blank rel="noopener noreffer">RFC8340 YANG tree</a> representation is the one you see everywhere in the documentation and blogs. By passing the same <code>ietf-interfaces.yang</code> snippet through the <code>pyang</code> tool we transform the module to a better looking tree-like view:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-txt data-lang=txt>+--rw interfaces
 |  +--rw interface* [name]
 |     +--rw name                        string
 |     +--rw description?                string
 |     +--rw type                        identityref
 |     +--rw enabled?                    boolean
</code></pre></td></tr></table></div></div><p>Compared to the <code>.yang</code> raw view, the <em>tree</em> makes it way easier to glance over the model and understand the parent-child relationships of the data entry nodes and their types.</p><p>Still, it has some serious UX drawbacks an engineer will face:</p><ul><li><strong>the path information is missing.</strong> By looking at a certain leaf/container/list of a tree you can&rsquo;t easily say what is the path of that element starting from the root?<br>Yet it is very important to have this information, since it enables you to create XPATH filters for xCONF or paths to subscribe to with gNMI.</li><li><strong>it is hard to navigate the large models.</strong> Since its the text file you are looking at, you can&rsquo;t expand/collapse the data nodes on request. Its flushed to you in its entirety, and if the model is big enough you will easily loose the sense of where you are.<br>Consider the following <a href=https://gist.github.com/hellt/b0496895ae1d2a3323283d35904aa17a target=_blank rel="noopener noreffer">snippet</a> of a single screen of text I captured from a real YANG module; is it easy to understand where are you standing at?</li></ul><h3 id=22-html-tree class=headerLink><a href=#22-html-tree class=header-mark></a>2.2 HTML tree</h3><p>Fortunately for us, <code>pyang</code> supports many output formats and one of them - <code>jstree</code> - is a mix of the model&rsquo;s tree structure with HTML features. The outcome of this mixture is the self-contained, offline HTML page that crosses off the drawbacks outlined in the previous section.</p><div align=center><img style=width:65% src=https://gitlab.com/rdodin/pics/-/wikis/uploads/5f76c41d72bfd320851518848d1ce7c7/image.png></div><p>In this mode we are having the full control on which part of the model we want to explore and which branches we want to leave collapsed to not clutter the view. This might sound like a small thing, but actually it boosts the user experience quite substantially.</p><p>Another improvement over the textual tree view is the path information that is provided for each element of the model. As explained above, these paths are essential to have for the following reasons:</p><ul><li>understand the parental path of the element of interest to, say, create the NETCONF XML envelope.</li><li>use these paths in gNMI subscribe paths.</li><li>use these paths with the tools that can generate data based on it (like <a href=https://netdevops.me/2020/getting-xml-data-sample-for-a-given-leaf-in-a-yang-model/ target=_blank rel="noopener noreffer">XML skeleton</a>).</li></ul><p>And HTML tree delivers on that promise by providing the path information for every element:
<img loading=lazy decoding=async class=render-image src=https://gitlab.com/rdodin/pics/-/wikis/uploads/fefdc0a777450c42f2ed21fa3e1d568d/image.png alt=tree2 title=image.png></p><p>Its does not really strike like a needed feature when you have a compact module like ietf-interface, but consider a heavier model where a certain leaf is sometimes 10 levels deep from the root:</p><p><a href=https://gitlab.com/rdodin/pics/-/wikis/uploads/81312ae9d876853114df12f06276aeb4/image.png><img src=https://gitlab.com/rdodin/pics/-/wikis/uploads/81312ae9d876853114df12f06276aeb4/image.png></a></p><p>On a model like this its dead obvious that a textual tree won&rsquo;t be of help due to the progressively increased nesting of the elements, thus &ldquo;HTML tree&rdquo; seems like a reasonable <em>view</em> to use.</p><h2 id=3-nokia-yang-tree-repository class=headerLink><a href=#3-nokia-yang-tree-repository class=header-mark></a>3 Nokia YANG tree repository</h2><p>Nokia distributes the YANG models for 7x50 routers in two forms:</p><ul><li><strong>combined models:</strong> all the submodules are grouped under the respective top level roots and the following <a href=https://github.com/nokia/7x50_YangModels/tree/sros_20.2.r2/YANG/nokia-combined target=_blank rel="noopener noreffer">combined</a> YANG modules are produced: <code>nokia-conf-combined.yang</code> and <code>nokia-state-combined.yang</code></li><li><strong>individual models:</strong> the submodules are kept in their own YANG files.</li></ul><p>The combined modules provide a unique one-stop shop for the <code>configuration</code> and <code>state</code> YANG view, therefore I always use the combined models as they have all the elements nicely grouped under a single root.</p><p>Due to the substantial size of the combined models it takes quite some time for <code>pyang</code> to generate the tree views; I quickly got tired of generating the tree views for each new minor release of SR OS myself. So I decided to generate them automatically for each new set of YANG modules Nokia pushes to the <a href=https://github.com/nokia/7x50_YangModels target=_blank rel="noopener noreffer">nokia/7x50_YangModels</a> repo.</p><p>That is how <a href=https://github.com/hellt/nokia-yangtree target=_blank rel="noopener noreffer">hellt/nokia-yangtree</a> repo was born. The repository features:</p><ol><li>various <em>views</em> of the Nokia combined YANG models (text tree, xml, html tree) as well as stores the XPATH paths extracted from the models. A user can clone the repo and gain access to all of these formats</li><li><a href=#31-yang-browser rel><strong>YANG Browser</strong></a> that serves the &ldquo;HTML tree&rdquo; views of the combined models so that our users could consume these models online without a need to generate them</li><li><a href=#32-path-browser rel><strong>Path Browser</strong></a> that enables search functionality over the extracted model paths</li></ol><div align=center><img style=width:70% src=https://gitlab.com/rdodin/pics/-/wikis/uploads/b49f71395d2ed2e2f17d6a31d7ddd4a9/image.png>
<small><i>repository directory layout</i></small></div><p>The repo navigation is built on the basis of git tags, that means that a certain set of YANG views will be shown to a user when they select a certain tag that matches the SR OS release number:</p><div align=center><img style=width:90% src=https://gitlab.com/rdodin/pics/-/wikis/uploads/8e9e7582ff6b90fef02c9fd529d84303/CleanShot_2020-05-19_at_14.28.31.gif></div><h3 id=31-yang-browser class=headerLink><a href=#31-yang-browser class=header-mark></a>3.1 YANG Browser</h3><p>As briefly explained before, the YANG Browser is merely an HTTP server that serves the HTML tree views of the combined models generated with <code>pyang</code>. I foresee this to be the main interface for the SR OS automation engineers to consume the YANG models, it is always available, easy to navigate, free and requires just a browser.</p><p>How YANG Browser works:</p><ol><li>A user selects an SR OS release as shown in animation above</li><li>Once the release is selected the <code>HTML tree</code> links in the <a href=https://github.com/hellt/nokia-yangtree#2-yang-browser target=_blank rel="noopener noreffer">section 2</a> for the relevant datastores will point to the right URLs.</li><li>Clicking on a link will open a new tab with the HTML Tree view (note, it might take a few minutes to a browser to load and render this big HTML file).</li></ol><div align=center><img style=width:90% src=https://gitlab.com/rdodin/pics/-/wikis/uploads/ad013fddf9a02ee430c5b5d3a69670ff/image.png>
<small><i>HTML tree view for the <code>nokia-state-combined</code> module</i></small></div><p>Using this page a user can answer most of the questions related to the YANG modules used by the Nokia 7750 router.</p><p>The always on HTML tree view is amazing, but it still has some flaws. One particular case that can&rsquo;t be solved with YANG Browser is filtering the model&rsquo;s paths with a keyword. To answer that request we created the <strong>Path Browser</strong>.</p><h3 id=32-path-browser class=headerLink><a href=#32-path-browser class=header-mark></a>3.2 Path Browser</h3><p>Imagine a request comes in asking to identify all the leaves that relate to the alarm status of the port/chassis/fan/optics/etc. Quite a standard task for every monitoring activity, which is not easy to answer without the proper tooling.</p><p>How would you use a YANG Browser if you don&rsquo;t know which containers have or haven&rsquo;t the alarm related leaves inside? Opening all of them will become a nightmare, as well as expanding all the elements and perform a full-text search. What would be nice to have is a search actions on the paths that have some keywords inside them, like <em>alarm</em>.</p><p>For that particular set of the use cases we created the Path Browser.</p><blockquote><p>The Path Browser links are in the <a href=https://github.com/hellt/nokia-yangtree#2-yang-browser target=_blank rel="noopener noreffer">section 2</a> of the repo readme.</p></blockquote><p>First, my colleague wrote a tool that extracts a list of XPATH compatible paths for a given model. The text file with the list of paths is part of the <a href=https://github.com/hellt/nokia-yangtree target=_blank rel="noopener noreffer">hellt/nokia-yangtree</a> repo.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>$ head -10 sros_20.2.r2-nokia-state-combined-paths.txt
nokia-state | /state/aaa/radius/statistics/coa/dropped/bad-authentication | yang:counter32
nokia-state | /state/aaa/radius/statistics/coa/dropped/missing-auth-policy | yang:counter32
nokia-state | /state/aaa/radius/statistics/coa/dropped/invalid | yang:counter32
nokia-state | /state/aaa/radius/statistics/coa/dropped/missing-resource | yang:counter32
nokia-state | /state/aaa/radius/statistics/coa/received | yang:counter32
nokia-state | /state/aaa/radius/statistics/coa/accepted | yang:counter32
nokia-state | /state/aaa/radius/statistics/coa/rejected | yang:counter32
nokia-state | /state/aaa/radius/statistics/disconnect-messages/dropped/bad-authentication | yang:counter32
nokia-state | /state/aaa/radius/statistics/disconnect-messages/dropped/missing-auth-policy | yang:counter32
nokia-state | /state/aaa/radius/statistics/disconnect-messages/dropped/invalid | yang:counter32
</code></pre></td></tr></table></div></div><p>The format of the path entries follows the pattern of <code>module_name | path | type</code>. And having this file alone allows you to leverage CLI tools magic to filter on this massive data set:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>$ grep <span class=s2>&#34;/port.*alarm&#34;</span> sros_20.2.r2-nokia-state-combined-paths.txt <span class=p>|</span> head -5
nokia-state <span class=p>|</span> /state/port<span class=o>[</span>port-id<span class=o>=</span>*<span class=o>]</span>/transceiver/digital-diagnostic-monitoring/temperature/high-alarm <span class=p>|</span> decimal64
nokia-state <span class=p>|</span> /state/port<span class=o>[</span>port-id<span class=o>=</span>*<span class=o>]</span>/transceiver/digital-diagnostic-monitoring/temperature/low-alarm <span class=p>|</span> decimal64
nokia-state <span class=p>|</span> /state/port<span class=o>[</span>port-id<span class=o>=</span>*<span class=o>]</span>/transceiver/digital-diagnostic-monitoring/transmit-bias-current/high-alarm <span class=p>|</span> decimal64
nokia-state <span class=p>|</span> /state/port<span class=o>[</span>port-id<span class=o>=</span>*<span class=o>]</span>/transceiver/digital-diagnostic-monitoring/transmit-bias-current/low-alarm <span class=p>|</span> decimal64
nokia-state <span class=p>|</span> /state/port<span class=o>[</span>port-id<span class=o>=</span>*<span class=o>]</span>/transceiver/digital-diagnostic-monitoring/transmit-output-power/high-alarm <span class=p>|</span> decimal64
</code></pre></td></tr></table></div></div><blockquote><p>The paths are XPATH and gNMI compatible. You can paste it to the telemetry collector and they would work.</p></blockquote><p>The next step was to build a web service with the same functionality, so I added <a href=https://datatables.net/ target=_blank rel="noopener noreffer">datatables</a> to the mix and generated the HTML pages with the filtering capabilities built-in.</p><div align=center><img style=width:100% src=https://gitlab.com/rdodin/pics/-/wikis/uploads/14fcedd12a511674a1ff8829ab28390f/CleanShot_2020-05-19_at_17.37.55.gif></div><p>With a service like that you can efficiently and plain easy search through the Nokia modules for the leaves having certain keywords.</p><h2 id=4-summary class=headerLink><a href=#4-summary class=header-mark></a>4 Summary</h2><p>By leveraging the opensource tools and by writing our own paths extractor we have created a DIY YANG browsing set of instruments that greatly help network automation engineers working with Nokia gear. Understanding the utter importance of YANG, it was imperative for me to make these models more convenient to consume and, at the same time, keeping it open and free.</p><p>As a result of that effort, the community now can use <a href=#31-yang-browser rel>YANG Browser</a> to breeze through the Nokia YANG modules and <a href=#32-path-browser rel>Path Browser</a> comes to help when the users need to perform a search for the certain leaves.</p></div><footer><div class=post><div class=post-share><div class=share-link><a class="share-icon share-twitter" href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://netdevops.me/nokia-yang-tree/ data-title="Nokia YANG tree and Path Browser" data-via=ntdvps data-hashtags=nokia,sros,yang><span class="svg-social-icon icon-twitter"></span></a></div><div class=share-link><a class="share-icon share-facebook" href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://netdevops.me/nokia-yang-tree/ data-hashtag=nokia><span class="svg-social-icon icon-facebook"></span></a></div><div class=share-link><a class="share-icon share-linkedin" href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://netdevops.me/nokia-yang-tree/><span class="svg-social-icon icon-linkedin"></span></a></div></div><div class=post-tags><a href=/tags/nokia/ class=tag>Nokia</a><a href=/tags/sros/ class=tag>SROS</a><a href=/tags/yang/ class=tag>YANG</a></div></div></footer></div><div id=toc-final></div></div></article><aside class=article-post><div class="content-block content-block-position block-donate"><div class=post><div class=title><div style=text-align:center><svg width="90" height="90" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#fff" d="M376 30c-27.783.0-53.255 8.804-75.707 26.168-21.525 16.647-35.856 37.85-44.293 53.268-8.437-15.419-22.768-36.621-44.293-53.268C189.255 38.804 163.783 30 136 30 58.468 30 0 93.417.0 177.514c0 90.854 72.943 153.015 183.369 247.118l62.099 53.414C248.38 480.596 252.12 482 256 482s7.62-1.404 10.532-3.953l62.111-53.425C439.057 330.529 512 268.368 512 177.514 512 93.417 453.532 30 376 30z"/></svg></div><div style=text-align:center;margin-top:20px><span class=title>If any of my work was helpful, you can:</span></div></div><div class=donate-text><ul><li>‚úâÔ∏è Share this post with your colleagues</li><li>üí¨ Comment, ask questions and report any issues/typos found</li><li>üí∞ Make a one-time or recurring donation to support my work</li></ul></div><div class=donate-button><a href=https://github.com/sponsors/hellt class="button button-big button-white">Donate</a></div></div></div></aside><section class="page single comments content-block-position"><h1 class=display-hidden>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</h1><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></section></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.82.0">Hugo</a> | Theme - <a href="https://ublogger.netlify.app/?utm_source=https://netdevops.me/&utm_medium=footer&utm_campaign=config&utm_term=2.0.1" target=_blank title="uBlogger 2.0.1">uBlogger</a></div><div class=footer-line><i class="svg-icon icon-copyright"></i><span>2015 - 2021</span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><aside id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="svg-icon icon-arrow-up"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="svg-icon icon-comments-fixed"></i></a></aside><link rel=stylesheet href=/drawio.css><script src=/lib/smooth-scroll/smooth-scroll.min.js></script><script src=/lib/autocomplete/autocomplete.min.js></script><script src=/lib/algoliasearch/algoliasearch-lite.umd.min.js></script><script src=/lib/clipboard/clipboard.min.js></script><script src=/lib/sharer/sharer.min.js></script><script>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:20},comment:{utterances:{darkTheme:"github-dark",issueTerm:"pathname",label:"comment",lightTheme:"github-light",repo:"hellt/netdevops.me"}},search:{algoliaAppID:"H1AI8QKFEK",algoliaIndex:"blog",algoliaSearchKey:"0544bc3c928ba0e387c3b3353112e43d",highlightTag:"em",maxResultLength:10,noResultsFound:"No results found",snippetLength:60,type:"algolia"}}</script><script src=/js/theme.min.js></script><script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-101537614-1','auto'),ga('send','pageview')</script></body></html>