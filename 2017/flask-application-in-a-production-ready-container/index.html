<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Applying DevOps to networks."><meta name=author content="Roman Dodin"><link href=https://netdevops.me/2017/flask-application-in-a-production-ready-container/ rel=canonical><link rel=alternate type=application/rss+xml title="RSS feed" href=../../feed_rss_created.xml><link rel=alternate type=application/rss+xml title="RSS feed of updated content" href=../../feed_rss_updated.xml><link rel=icon href=../../assets/images/code.svg><meta name=generator content="mkdocs-1.4.2, mkdocs-material-8.5.8+insiders-4.26.2"><title>Flask application in a production-ready container - Applying DevOps to networks</title><link rel=stylesheet href=../../assets/stylesheets/main.fa1d38d9.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.815d1a91.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CFira+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Google Sans";--md-code-font:"Fira Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-Y7R34KCT4N"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-Y7R34KCT4N",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-Y7R34KCT4N",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#flask-application-in-a-production-ready-container class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <a href=https://twitter.com/ntdvps> For updates follow <strong>@ntdvps</strong> on <span class="twemoji twitter"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </span> <strong>Twitter</strong> </a> </div> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Applying DevOps to networks" class="md-header__button md-logo" aria-label="Applying DevOps to networks" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Applying DevOps to networks </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Flask application in a production-ready container </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=cyan aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hellt/netdevops.me title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hellt/netdevops.me </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class="md-tabs__link md-tabs__link--active"> Blog </a> </li> <li class=md-tabs__item> <a href=../../tags/ class=md-tabs__link> Tags </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Applying DevOps to networks" class="md-nav__button md-logo" aria-label="Applying DevOps to networks" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg> </a> Applying DevOps to networks </label> <div class=md-nav__source> <a href=https://github.com/hellt/netdevops.me title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hellt/netdevops.me </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=../.. class="md-nav__link "> <span class=md-ellipsis> Blog </span> </a> </div> <nav class=md-nav aria-label=Blog data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../../tags/ class=md-nav__link> <span class=md-ellipsis> Tags </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#why-do-we-even-need-nginx-and-uwsgi-in-front-of-flask class=md-nav__link> <span class=md-ellipsis> Why do we even need nginx and uWSGI in front of Flask? </span> </a> </li> <li class=md-nav__item> <a href=#do-i-need-a-production-grade-flask-app-for-a-pet-project class=md-nav__link> <span class=md-ellipsis> Do I need a production grade Flask app for a pet project? </span> </a> </li> <li class=md-nav__item> <a href=#configuring-nginx class=md-nav__link> <span class=md-ellipsis> Configuring nginx </span> </a> <nav class=md-nav aria-label="Configuring nginx"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#nginx-global-config class=md-nav__link> <span class=md-ellipsis> nginx global config </span> </a> </li> <li class=md-nav__item> <a href=#nginx-site-config class=md-nav__link> <span class=md-ellipsis> nginx site config </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#uwsgi-configuration class=md-nav__link> <span class=md-ellipsis> uWSGI configuration </span> </a> <nav class=md-nav aria-label="uWSGI configuration"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#module-and-callable class=md-nav__link> <span class=md-ellipsis> Module and Callable </span> </a> </li> <li class=md-nav__item> <a href=#plugins class=md-nav__link> <span class=md-ellipsis> Plugins </span> </a> </li> <li class=md-nav__item> <a href=#uid-gid class=md-nav__link> <span class=md-ellipsis> uid, gid </span> </a> </li> <li class=md-nav__item> <a href=#socket-configuration class=md-nav__link> <span class=md-ellipsis> Socket configuration </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#processes-configuration class=md-nav__link> <span class=md-ellipsis> Processes configuration </span> </a> </li> <li class=md-nav__item> <a href=#supervisord-to-rule-them-all class=md-nav__link> <span class=md-ellipsis> Supervisord to rule them all </span> </a> </li> <li class=md-nav__item> <a href=#lets-load-it-in-a-container class=md-nav__link> <span class=md-ellipsis> Lets load it in a container? </span> </a> </li> <li class=md-nav__item> <a href=#enjoying-the-result class=md-nav__link> <span class=md-ellipsis> Enjoying the result </span> </a> </li> <li class=md-nav__item> <a href=#how-do-i-use-this-one class=md-nav__link> <span class=md-ellipsis> How do I use this one? </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class=md-nav> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../.. class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <div class="md-post__authors md-typeset"> <div class="md-profile md-post__profile"> <span class="md-author md-author--long"> <img src=https://avatars.githubusercontent.com/u/5679861 alt="Roman Dodin"> </span> <span class=md-profile__description> <strong>Roman Dodin</strong><br> Network Automater </span> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__title"> <div class=md-nav__link> <span class=md-ellipsis> Metadata </span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg> <time datetime="2017-11-09 00:00:00" class=md-ellipsis>November 9, 2017</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7h1.5Z"/></svg> <span class=md-ellipsis> 8 min read </span> </div> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <nav class=md-tags> <a href=../../tags/#flask class=md-tag>flask</a> <a href=../../tags/#nginx class=md-tag>nginx</a> <a href=../../tags/#uwsgi class=md-tag>uwsgi</a> <a href=../../tags/#docker class=md-tag>docker</a> </nav> <a href=https://github.com/hellt/netdevops.me/edit/master/blog/posts/2017/nginx-uwsgi-flask-alpine.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <h1 id=flask-application-in-a-production-ready-container>Flask application in a production-ready container<a class=headerlink href=#flask-application-in-a-production-ready-container title="Permanent link">#</a></h1> <p>Flask documentation <a href=http://flask.pocoo.org/docs/0.12/deploying/#deployment-options>is very clear</a> on where is the place for its built-in WSGI application server:</p> <blockquote> <p>While lightweight and easy to use, <strong>Flask’s built-in server is not suitable for production</strong> as it doesn’t scale well and by default serves only one request at a time.</p> </blockquote> <p>So how about I share with you a <a href=https://github.com/hellt/nginx-uwsgi-flask-alpine-docker><em>Dockerfile</em></a> that will enable your Flask application to run <strong>properly</strong> and ready for production-like deployments? As a bonus, I will share my findings discovered along the way of building this container image.</p> <p><img alt=nginx-uwsgi-flaks-alpine-docker src=https://gitlab.com/rdodin/netdevops.me/uploads/e893ab9ea824ed501170908377d3fb52/image.png></p> <!-- more --> <p>But before we dive in and start throwing words like uwsgi, nginx and sockets lets set up our vocabulary. As DigitalOcean originally wrote:</p> <blockquote> <ul> <li><a href=https://www.python.org/dev/peps/pep-3333/ ><strong>WSGI</strong></a>: A Python spec that defines a standard interface for communication between an application or framework and an application/web server. This was created in order to simplify and standardize communication between these components for consistency and interchangeability. This basically defines an API interface that can be used over other protocols.</li> <li><a href=https://uwsgi-docs.readthedocs.io/en/latest/ ><strong>uWSGI</strong></a>: An application server container that aims to provide a full stack for developing and deploying web applications and services. The main component is an application server that can handle apps of different languages. It communicates with the application using the methods defined by the WSGI spec, and with other web servers over a variety of other protocols. This is the piece that translates requests from a conventional web server into a format that the application can process.</li> <li><a href=https://uwsgi-docs.readthedocs.io/en/latest/Protocol.html><strong>uwsgi</strong></a>: A fast, binary protocol implemented by the uWSGI server to communicate with a more full-featured web server. This is a wire protocol, not a transport protocol. It is the preferred way to speak to web servers that are proxying requests to uWSGI.</li> </ul> </blockquote> <h2 id=why-do-we-even-need-nginx-and-uwsgi-in-front-of-flask>Why do we even need nginx and uWSGI in front of Flask?<a class=headerlink href=#why-do-we-even-need-nginx-and-uwsgi-in-front-of-flask title="Permanent link">#</a></h2> <p>That is the question everyone should ask. Main reason is performance, of course. The Flasks built-in web server is a development server by <a href=https://werkzeug.palletsprojects.com/ >Werkzeug</a> which was not designed to be particularly efficient, stable, or secure.<br> And by all means Werkzeug was not optimized to serve static content, that is why production deployments of Flask apps rely on the following stack:</p> <ol> <li><strong>Front-end web-server</strong> (nginx or Apache): load balancing, SSL termination, rate limiting, HTTP parsing and serving static content.</li> <li><strong>WSGI application server</strong> (uWSGI, Gunicorn, CherryPy): runs WSGI compliant web applications and does it in a production-grade manner. Handling concurrent requests, process management, cluster membership, logging, configuration, shared memory, etc.</li> </ol> <p>Obviously, development server which comes with Flask simply does not bother about all these tasks that production deployments face. That is why it is so strongly advised against using Flask' server in any kind of production.</p> <blockquote> <p>Speaking about the performance I suggest to check out this presentation from Pycon IE '13 called <a href=http://brianmcdonnell.github.io/pycon_ie_2013/#/ ><em>Maximum Throughput (baseline costs of web frameworks)</em></a> that explains how number of queries per second depends on web stack you choose.</p> </blockquote> <p>While there are many alternatives to <a href=https://nginx.ru/en/ ><code>nginx</code></a>+<a href=https://uwsgi-docs.readthedocs.io/en/latest/ ><code>uWSGI</code></a> pair, I will focus on these two in this post.</p> <h2 id=do-i-need-a-production-grade-flask-app-for-a-pet-project>Do I need a <em>production grade</em> Flask app for a pet project?<a class=headerlink href=#do-i-need-a-production-grade-flask-app-for-a-pet-project title="Permanent link">#</a></h2> <p>While you may go with built-in Flask server for the little projects of your own, this container is so simple that you would not need to use the Built-in server anymore. Why opting out for testing server, if it is easy to launch it in a production-ready way?</p> <h2 id=configuring-nginx>Configuring nginx<a class=headerlink href=#configuring-nginx title="Permanent link">#</a></h2> <p>We start with configuration of <code>nginx</code> server that will face incoming traffic and handle it for us.</p> <blockquote> <p>We also keep in mind that our nginx server will run in an Alpine Linux docker container.</p> </blockquote> <p>nginx config consists of two parts:</p> <ul> <li>global nginx config file (<a href=https://github.com/hellt/nginx-uwsgi-flask-alpine-docker/blob/master/python2/nginx.conf><code>nginx.conf</code></a>)</li> <li>site-specific config file (<a href=https://github.com/hellt/nginx-uwsgi-flask-alpine-docker/blob/master/python2/flask-site-nginx.conf><code>flask-site-nginx.conf</code></a>)</li> </ul> <h3 id=nginx-global-config>nginx global config<a class=headerlink href=#nginx-global-config title="Permanent link">#</a></h3> <p>For the <strong>global nginx config file</strong> I combined the recommendations outlined in the post <a href=http://www.patricksoftwareblog.com/how-to-configure-nginx-for-a-flask-web-application/ ><em>How to Configure NGINX for a Flask Web Application</em></a> with <a href=https://uwsgi-docs.readthedocs.io/en/latest/Nginx.html>nginx configuration samples</a> from uWSGI docs.</p> <p>A little caveat that you might encounter when deploying nginx in Alpine Linux renders itself like that:</p> <div class=highlight><pre><span></span><code>Error: nginx: [emerg] open() &quot;/run/nginx/nginx.pid&quot; failed (2: No such file or directory)
</code></pre></div> <p>All you need to do is to to <a href=https://github.com/hellt/nginx-uwsgi-flask-alpine-docker/blob/master/python2/nginx.conf#L10>change pid file location</a> since <code>/run/</code> path is not available in Alpine Linux.</p> <h3 id=nginx-site-config>nginx site config<a class=headerlink href=#nginx-site-config title="Permanent link">#</a></h3> <p>Site config (<a href=https://github.com/hellt/nginx-uwsgi-flask-alpine-docker/blob/master/python2/flask-site-nginx.conf><code>flask-site-nginx.conf</code></a>) is short and simple:</p> <div class=highlight><pre><span></span><code>server {
    location / {
        try_files $uri @yourapplication;
    }
    location @yourapplication {
        include uwsgi_params;
        uwsgi_pass unix:///tmp/uwsgi.sock;
    }
    # Configure NGINX to deliver static content from the specified folder
    location /static {
        alias /app/static;
    }
}
</code></pre></div> <p>Basically, all you saying here is that your application will be served at <code>/</code> endpoint and use <code>uwsgi</code> wire protocol via unix socket at <code>unix:///tmp/uwsgi.sock</code>.</p> <p>Also we ask nginx to serve static content that is stored in <code>/app/static</code>.</p> <p>Communication path between nginx and WSGI app server can be configured with different sockets and protocols, but <code>unix_socket + uwsgi protocol</code> tends to be the most appropriate way.</p> <blockquote> <p><img alt=sockets_perf src=https://gitlab.com/rdodin/netdevops.me/uploads/a618d2c1e3d19c9a8dbf9d2d23f2cbd9/image.png> The uwsgi protocol is derived from SCGI but with binary string length representations and a 4-byte header that includes the size of the var block (16 bit length) and a couple of general-purpose bytes. Binary management is much easier and cheaper than string parsing.</p> </blockquote> <p>So far we dealt with the first bastion, which is nginx config. Our configuration path can be depicted as that:</p> <blockquote> <p><img alt=nginx_configured src=https://gitlab.com/rdodin/netdevops.me/uploads/b6102940c48b80bcb7578cf9c53daf0e/image.png></p> </blockquote> <h2 id=uwsgi-configuration>uWSGI configuration<a class=headerlink href=#uwsgi-configuration title="Permanent link">#</a></h2> <p>uWSGI <a href=https://uwsgi-docs.readthedocs.io/ >documentation</a> is extensive, you may find all the tweaks and recommendations for the wide range of deployment scenarios. Since this container we build is of general purpose, a sensible uWSGI configuration file (<a href=https://github.com/hellt/nginx-uwsgi-flask-alpine-docker/blob/master/python2/uwsgi.ini><code>uwsgi.ini</code></a>) could look as follows:</p> <div class=highlight><pre><span></span><code><span class=k>[uwsgi]</span><span class=w></span>
<span class=n>module</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>main</span><span class=w></span>
<span class=n>callable</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>app</span><span class=w></span>
<span class=n>plugins</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>/</span><span class=n>usr</span><span class=err>/</span><span class=n>lib</span><span class=err>/</span><span class=n>uwsgi</span><span class=err>/</span><span class=n>python</span><span class=w></span>

<span class=n>uid</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nginx</span><span class=w></span>
<span class=n>gid</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nginx</span><span class=w></span>

<span class=n>socket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>/</span><span class=n>tmp</span><span class=err>/</span><span class=n>uwsgi</span><span class=p>.</span><span class=n>sock</span><span class=w></span>
<span class=n>chown-socket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>nginx</span><span class=p>:</span><span class=n>nginx</span><span class=w></span>
<span class=n>chmod-socket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>664</span><span class=w></span>

<span class=n>cheaper</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=w></span>
<span class=n>processes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=err>%</span><span class=p>(</span><span class=err>%</span><span class=n>k</span><span class=w> </span><span class=err>+</span><span class=w> </span><span class=mi>1</span><span class=p>)</span><span class=w></span>
</code></pre></div> <p>This configuration file consists of uWSGI options each of which is <a href=https://uwsgi-docs.readthedocs.io/en/latest/Options.html>documented</a> quite extensively.</p> <h3 id=module-and-callable>Module and Callable<a class=headerlink href=#module-and-callable title="Permanent link">#</a></h3> <p>We start with defining where is an entry point for uWSGI server to call our app.<br> The <a href=https://uwsgi-docs.readthedocs.io/en/latest/Options.html#module><code>module</code></a> directive corresponds to the name of the python module holding your app. In my case the demo Flask app I built is contained in the <a href=https://github.com/hellt/nginx-uwsgi-flask-alpine-docker/blob/master/python2/app/main.py><code>main.py</code></a> file, hence the <code>main</code> module name.<br> On the other hand, <a href=https://uwsgi-docs.readthedocs.io/en/latest/Options.html#callable><code>callable</code></a> is the name of an object inside your module, which is a Flask application entry point.</p> <div class=highlight><pre><span></span><code><span class=c1># coding: utf-8</span>
<span class=kn>from</span> <span class=nn>flask</span> <span class=kn>import</span> <span class=n>Flask</span>

<span class=n>app</span> <span class=o>=</span> <span class=n>Flask</span><span class=p>(</span><span class=vm>__name__</span><span class=p>)</span>
<span class=c1># rest output is omitted</span>
</code></pre></div> <p>For me, its the <code>app</code> variable that should be populated to the <code>callable</code> parameter.</p> <h3 id=plugins>Plugins<a class=headerlink href=#plugins title="Permanent link">#</a></h3> <p>uWSGI is modular and language-agnostic. In Apline Linux deployments it comes with core features built in, but python support is not one of them.</p> <blockquote> <p>uWSGI can include features in the core or as loadable plugins. uWSGI packages supplied with OS distributions tend to be modular. In such setups, be sure to load the plugins you require with the plugins option.</p> </blockquote> <p>That is why <a href=https://uwsgi-docs.readthedocs.io/en/latest/Options.html#plugins><code>plugins</code></a> parameter is needed where we specify where to find the python plugin. I installed <code>uwsgi-python</code> via apt package manager, this step will be covered as we move to Dockerfile explanation section.</p> <h3 id=uid-gid>uid, gid<a class=headerlink href=#uid-gid title="Permanent link">#</a></h3> <p>Common sense: do not run uWSGI instances as root. You can start your uWSGIs as root, but be sure to drop privileges with the uid and gid options.</p> <p>I dropped privileges to <code>nginx</code> user level.</p> <h3 id=socket-configuration>Socket configuration<a class=headerlink href=#socket-configuration title="Permanent link">#</a></h3> <p>As you remember, we agreed that uwsgi protocol over unix socket will be used as a communication suite between nginx and uWSGI. We already told so to nginx, now its time for uWSGI.</p> <p>Same <code>/tmp/uwsgi.sock</code> is referenced in this <code>uwsgi.ini</code> file. Moreover, we change permissions to that socket file to be readable for <code>nginx</code> user.</p> <h2 id=processes-configuration>Processes configuration<a class=headerlink href=#processes-configuration title="Permanent link">#</a></h2> <p>uWSGI can spawn multiple processes to run your Flask app, being very productive. But, you need to thoroughly calculate how many processes and threads works for your particular situation.</p> <blockquote> <p>There is no magic rule for setting the number of processes or threads to use. It is very much application and system dependent. Simple math like <code>processes = 2 * cpucores</code> will not be enough. You need to experiment with various setups and be prepared to constantly monitor your apps. <code>uwsgitop</code> could be a great tool to find the best values.</p> </blockquote> <p>In our config file these two lines will do the trick:</p> <div class=highlight><pre><span></span><code>cheaper = 1
processes = %(%k + 1)
</code></pre></div> <p>With <code>cheaper = 1</code> we activate the <a href=http://uwsgi-docs.readthedocs.io/en/latest/Cheaper.html>The uWSGI cheaper subsystem</a> which allows to dynamically scale the number of running workers (processes). So under the minimum load uWSGI will spawn just one workers.</p> <p>The upper limit is dictated by <code>processes = %(%k + 1)</code> statement. The <code>%k</code> is a <a href=https://uwsgi-docs.readthedocs.io/en/latest/Configuration.html#magic-variables>magic variable</a>, which will be resolved by uWSGI to the number of available cores. So for a single core system, number of max workers will be <code>1 + 1 = 2</code>.</p> <p>We finished another configuration block:</p> <blockquote> <p><img alt=nginx_uwsgi_configured src=https://gitlab.com/rdodin/netdevops.me/uploads/3a0a46936db55c52f4f5750cf4e9ab36/image.png></p> </blockquote> <h2 id=supervisord-to-rule-them-all>Supervisord to rule them all<a class=headerlink href=#supervisord-to-rule-them-all title="Permanent link">#</a></h2> <p>A cherry on a pie is to use the <code>supervisord</code> service to manage nginx and uWSGI. For that we create <a href=https://github.com/hellt/nginx-uwsgi-flask-alpine-docker/blob/master/python2/supervisord.conf><code>supervisord.conf</code></a> with a plain and simple config.</p> <p>Supervisord will watch for these process and restart/start them automatically if things go south for one of them.</p> <h2 id=lets-load-it-in-a-container>Lets load it in a container?<a class=headerlink href=#lets-load-it-in-a-container title="Permanent link">#</a></h2> <p>Our final part will be creating a lightweight Alpine Linux Docker container image that will have all these parts inside ready to consume.</p> <p>Refer to this comments-rich <a href=https://github.com/hellt/nginx-uwsgi-flask-alpine-docker/blob/master/python2/Dockerfile>Dockerfile</a> where we glue together all the things we discussed above in a docker image.</p> <p>One thing to mention here is that python2 and python3 uWSGI plugins are separate packages in Alpine packages system.</p> <h2 id=enjoying-the-result>Enjoying the result<a class=headerlink href=#enjoying-the-result title="Permanent link">#</a></h2> <p>I built <a href=https://hub.docker.com/r/hellt/nginx-uwsgi-flask-alpine-docker/ >two container images</a> for python2 and python3 respectively along with a sample python application. Lets taste them out:</p> <div class=highlight><pre><span></span><code><span class=c1># pull the image (tagged py2 or py3 respectively)</span>
<span class=o>[</span>ec2~<span class=o>]</span>$ sudo docker pull hellt/nginx-uwsgi-flask-alpine-docker:py3
py3: Pulling from hellt/nginx-uwsgi-flask-alpine-docker
b56ae66c2937: Already exists
<span class=c1># omitted</span>
Status: Downloaded newer image <span class=k>for</span> hellt/nginx-uwsgi-flask-alpine-docker:py3
</code></pre></div> <p>The image is very lightweight (62 MB):</p> <div class=highlight><pre><span></span><code>REPOSITORY                              TAG                 IMAGE ID            CREATED             SIZE
hellt/nginx-uwsgi-flask-alpine-docker   py3                 7fb6af3baf0e        6 minutes ago       62.5 MB
</code></pre></div> <p>Since docker image contains a sample application we can run it to test that everything works as expected:</p> <div class=highlight><pre><span></span><code>sudo docker run -p <span class=m>38080</span>:80 hellt/nginx-uwsgi-flask-alpine-docker:py3
</code></pre></div> <blockquote> <p><img alt=final_result src=https://gitlab.com/rdodin/netdevops.me/uploads/36bf92416a511abfd642d15de44e9387/image.png> Voila</p> </blockquote> <h2 id=how-do-i-use-this-one>How do I use this one?<a class=headerlink href=#how-do-i-use-this-one title="Permanent link">#</a></h2> <p>First of all, there is no need to use the image from the docker hub, it was created for demonstration purposes. To create the same container but for your application, consider the following steps:</p> <ol> <li>Clone the <a href=https://github.com/hellt/nginx-uwsgi-flask-alpine-docker>repo</a> with the Dockerfile and configuration files</li> <li>Tune the config files if necessary:<ol> <li>Tune <code>uwsgi.ini</code> config: i.e. <code>cheaper</code> number and <code>processes</code> to match your hardware</li> <li>Enhance nginx config</li> </ol> </li> <li>Copy your app to the <code>/app</code> subdirectory and you are good to build your image</li> </ol> <h2 id=__comments>Comments</h2> <script src=https://giscus.app/client.js data-repo=hellt/netdevops.me data-repo-id="MDEwOlJlcG9zaXRvcnkzNTkzNTc5ODc=" data-category="Show and tell" data-category-id=DIC_kwDOFWteI84CRmVn data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=en data-loading=lazy crossorigin=anonymous async>
    </script> <!-- Synchronize Giscus theme with palette --> <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light"
        giscus.setAttribute("data-theme", theme)
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate" ? "dark" : "light"

                /* Instruct Giscus to change theme */
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    { giscus: { setConfig: { theme } } },
                    "https://giscus.app"
                )
            }
        })
    })
</script> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../waiting-for-ssh-service-to-be-ready-with-paramiko/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Waiting for SSH service to be ready with Paramiko" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Waiting for SSH service to be ready with Paramiko </div> </div> </a> <a href=../sr-os-rootifier-or-how-to-flatten-7750-sr-config/ class="md-footer__link md-footer__link--next" aria-label="Next: SR OS Rootifier or how to flatten 7750 SR config" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> SR OS Rootifier or how to flatten 7750 SR config </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs Insiders </a> </div> <div class=md-social> <a href=https://github.com/hellt target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/ntdvps target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.top", "navigation.instant", "navigation.tabs", "search.suggest", "content.code.annotate", "toc.follow", "content.tooltips", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.939a4419.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.b9c29124.min.js></script> </body> </html>