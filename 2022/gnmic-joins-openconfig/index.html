<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Applying DevOps to networks."><meta name=author content="Roman Dodin"><link href=https://netdevops.me/2022/gnmic-joins-openconfig/ rel=canonical><link rel=icon href=../../assets/images/code.svg><meta name=generator content="mkdocs-1.4.0, mkdocs-material-8.5.6+insiders-4.25.4"><title>gNMIc joins Openconfig ðŸš€ - Applying DevOps to networks</title><link rel=stylesheet href=../../assets/stylesheets/main.fa1d38d9.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.cbb835fc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CFira+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Google Sans";--md-code-font:"Fira Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-Y7R34KCT4N"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-Y7R34KCT4N",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-Y7R34KCT4N",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#gnmic-joins-openconfig class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <a href=https://twitter.com/ntdvps> For updates follow <strong>@ntdvps</strong> on <span class="twemoji twitter"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </span> <strong>Twitter</strong> </a> </div> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Applying DevOps to networks" class="md-header__button md-logo" aria-label="Applying DevOps to networks" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Applying DevOps to networks </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> gNMIc joins Openconfig ðŸš€ </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=white data-md-color-accent=cyan aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=cyan aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/hellt/netdevops.me title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hellt/netdevops.me </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class="md-tabs__link md-tabs__link--active"> Blog </a> </li> <li class=md-tabs__item> <a href=../../tags/ class=md-tabs__link> Tags </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Applying DevOps to networks" class="md-nav__button md-logo" aria-label="Applying DevOps to networks" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3l89.3 89.4-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg> </a> Applying DevOps to networks </label> <div class=md-nav__source> <a href=https://github.com/hellt/netdevops.me title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> hellt/netdevops.me </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=../.. class="md-nav__link "> <span class=md-ellipsis> Blog </span> </a> </div> <nav class=md-nav aria-label=Blog data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class=md-nav__item> <a href=../../tags/ class=md-nav__link> <span class=md-ellipsis> Tags </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#cli class=md-nav__link> <span class=md-ellipsis> CLI </span> </a> </li> <li class=md-nav__item> <a href=#collector class=md-nav__link> <span class=md-ellipsis> Collector </span> </a> <nav class=md-nav aria-label=Collector> <ul class=md-nav__list> <li class=md-nav__item> <a href=#clustering class=md-nav__link> <span class=md-ellipsis> Clustering </span> </a> </li> <li class=md-nav__item> <a href=#target-loaders class=md-nav__link> <span class=md-ellipsis> Target loaders </span> </a> </li> <li class=md-nav__item> <a href=#processors class=md-nav__link> <span class=md-ellipsis> Processors </span> </a> </li> <li class=md-nav__item> <a href=#outputs class=md-nav__link> <span class=md-ellipsis> Outputs </span> </a> </li> <li class=md-nav__item> <a href=#inputs class=md-nav__link> <span class=md-ellipsis> Inputs </span> </a> </li> <li class=md-nav__item> <a href=#tunnel-server-gnmi-dial-out class=md-nav__link> <span class=md-ellipsis> Tunnel server (gNMI dial-out) </span> </a> </li> <li class=md-nav__item> <a href=#deployment-examples class=md-nav__link> <span class=md-ellipsis> Deployment examples </span> </a> </li> <li class=md-nav__item> <a href=#what-else class=md-nav__link> <span class=md-ellipsis> What else? </span> </a> </li> <li class=md-nav__item> <a href=#why-not-telegraf class=md-nav__link> <span class=md-ellipsis> Why Not Telegraf? </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#go-api class=md-nav__link> <span class=md-ellipsis> Go API </span> </a> </li> <li class=md-nav__item> <a href=#move-to-openconfig class=md-nav__link> <span class=md-ellipsis> Move to Openconfig </span> </a> </li> <li class=md-nav__item> <a href=#disclaimer class=md-nav__link> <span class=md-ellipsis> Disclaimer </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class=md-nav> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../.. class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <div class="md-post__authors md-typeset"> <div class="md-profile md-post__profile"> <span class="md-author md-author--long"> <img src=https://avatars.githubusercontent.com/u/5679861 alt="Roman Dodin"> </span> <span class=md-profile__description> <strong>Roman Dodin</strong><br> Network Automater </span> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__title"> <div class=md-nav__link> <span class=md-ellipsis> Metadata </span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg> <time datetime=2022-10-04 class=md-ellipsis>October 4, 2022</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7h1.5Z"/></svg> <span class=md-ellipsis> 10 min read </span> </div> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <nav class=md-tags> <a href=../../tags/#gnmic class=md-tag>gnmic</a> <a href=../../tags/#gnmi class=md-tag>gnmi</a> <a href=../../tags/#openconfig class=md-tag>openconfig</a> </nav> <a href=https://github.com/hellt/netdevops.me/edit/master/blog/posts/2022/gnmic-openconfig.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <h1 id=gnmic-joins-openconfig>gNMIc joins Openconfig ðŸš€<a class=headerlink href=#gnmic-joins-openconfig title="Permanent link">#</a></h1> <p>Two years ago, a dozen contributors less, 400 Pull Requests, and 2000 commits behind, another pet project appeared on a vast GitHub landscape. It was a learning exercise by <a href=https://github.com/karimra>Karim Radhouani</a> to sharpen his skills in <a href=https://github.com/openconfig/reference/blob/master/rpc/gnmi/gnmi-specification.md>gNMI</a> - a niche network management protocol promoted by the <a href=https://openconfig.net/ >Openconfig</a> group.</p> <p>Initially named <code>gnmi_client</code>, it had a noble but narrow scope of providing a feature-rich, complete, yet intuitive CLI for gNMI-enabled routers. Fast forward two years, and we have the <a href=https://gnmic.openconfig.net/ ><strong>gNMIc</strong></a> software suite that <strong>is much more than just a CLI</strong> for gNMI.</p> <p>Today, Nokia donates the gNMIc project to Openconfig, and with that move, we expect to see gNMIc adopted by even more companies and organizations <img alt=ðŸ¥³ class=twemoji src=https://twemoji.maxcdn.com/v/latest/svg/1f973.svg title=:partying_face:></p> <div class="grid cards"> <ul> <li> <p><span class="twemoji lg middle"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8h5Z"/></svg></span> <strong>gNMIc new address</strong></p> <hr> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg></span> <a href=https://github.com/openconfig/gnmic>openconfig/gnmic</a></p> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12Z"/></svg></span> <a href=https://gnmic.openconfig.net/ >https://gnmic.openconfig.net</a></p> </li> </ul> </div> <p>In this post I'd like to give you a brief overview of gNMIc's core features and share my thoughts on what we expect to happen with gNMIc moving under the Openconfig's wing.</p> <!-- more --> <p>Over the past two years, gNMIc became a feature-rich gNMI-focused software suite. Both its CLI and collection capabilities matured with lots of new integrations added. Moreover, gNMIc had quite some air time in production networks, not to mention lab deployments and dev testbeds.</p> <p>I would like to briefly highlight gNMIc's current feature set for those who aren't familiar with it yet. Broadly, we split gNMIc capabilities into the following three domains:</p> <ul> <li>CLI</li> <li>Collector</li> <li>API</li> </ul> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Each of those domain areas packs a hefty number of neat features, and I will only highlight some of them to keep the introduction short and sweet.</p> <p>gNMIc cherishes documentation; readers are encouraged to follow the links provided in this post to get more information on particular topics.</p> </div> <p align=center><img alt=logo src="https://gitlab.com/rdodin/pics/-/wikis/uploads/46e7d1631bd5569e9bf289be9dfa3812/gnmic-headline.svg?sanitize=true#only-light"> <img alt=logo src="https://gitlab.com/rdodin/pics/-/wikis/uploads/f54d2cfdde13193cedab7b60203a2a9a/gnmic-headline-for-dark-bg.svg?sanitize=true#only-dark"> </p> <h2 id=cli>CLI<a class=headerlink href=#cli title="Permanent link">#</a></h2> <p>gNMIc provides an intuitive yet full-featured CLI for interacting with gNMI-capable targets. It fully implements <a href=https://github.com/openconfig/reference/blob/master/rpc/gnmi/gnmi-specification.md>gNMI v0.7+ specification</a> with extensions<sup id=fnref:1><a class=footnote-ref href=#fn:1>1</a></sup>, and with the move under Openconfig, it becomes a standard gNMI CLI tool.</p> <p>In 2020 I <a href=../../2020/gnmic-gnmi-cli-client-and-collector/ >wrote about gNMIc</a> highlighting its CLI capabilities. Since then CLI side of gNMIc has only become better with the following changes:</p> <ul> <li>Added <a href=https://gnmic.openconfig.net/cmd/set/#templated-set-request-file>template-based payloads</a> to simplify complex and data-driven configuration use cases.</li> <li><a href=https://gnmic.openconfig.net/cmd/getset/ >GetSet command</a> introduced to allow conditional execution of a Set RPC based on a received Get response.</li> <li>Implemented <a href=https://gnmic.openconfig.net/cmd/diff/ ><code>diff</code> command</a> to compare configurations between two different targets and identify configuration drift.</li> <li>Added <a href=https://gnmic.openconfig.net/user_guide/prompt_suggestions/ ><code>prompt</code> mode</a> for a guided CLI experience.</li> <li>Added <a href=https://gnmic.openconfig.net/cmd/path/ >generation of paths</a> out of the YANG modules.</li> <li>Support configuration via any of the following methods: CLI flags, environment variables, or file.</li> <li>Integrated prototext and protojson output options to display raw requests and responses.</li> </ul> <div class="admonition tip"> <p class=admonition-title>gNMIc CLI</p> <p>Easy one-click installation, multi-arch/multi-OS hermetic binary, full feature parity with gNMI spec and intuitive commands layout make <code>gnmic</code> tool a perfect choice for the task.</p> </div> <div class=ext-code-divider> <hr><span class="twemoji vertical-middle"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg></span><hr> </div> <h2 id=collector>Collector<a class=headerlink href=#collector title="Permanent link">#</a></h2> <p>Having a great CLI was just the beginning; the lion's share of changes happened in the collector area of gNMIc.</p> <p><img alt=collector class=img-shadow src=https://gitlab.com/rdodin/pics/-/wikis/uploads/9f535d6b64cc5794d995104e37a8c04a/image.png><br> <center><small>gNMIc as a collector in a typical open-source streaming telemetry deployment</small></center></p> <p>With the growing interest in Streaming Telemetry, we saw an opportunity to create an open-source telemetry collector to meet the demand. Not just <em>a collector</em>, but the open-source collector that can survive a production deployment with all its requirements. I'd like to believe that gNMIc succeeded in delivering on that promise.</p> <p>Given the central piece that collection capabilities take in gNMIc, it makes sense to spend some additional time on collector's core components.</p> <h3 id=clustering>Clustering<a class=headerlink href=#clustering title="Permanent link">#</a></h3> <p>Streaming Telemetry is often perceived as glorified monitoring that can tolerate outages. Not really, no.</p> <p>Modern telemetry systems are essential for observability, diagnostics and starting to play a vital role in network automation; Because of that importance, an outage is undesired and should be avoided. For that reason, a Streaming Telemetry collector needs to support High Availability and resiliency.</p> <p><img alt=clustering src=https://gitlab.com/rdodin/pics/-/wikis/uploads/35bb5adedc647ef532aaa09584008af1/image.png></p> <p>gNMIc comes with automatic <a href=https://gnmic.openconfig.net/user_guide/HA/ >cluster formation</a> routines that enable <a href=https://gnmic.openconfig.net/user_guide/HA/#instance-failure><strong>high availability</strong></a>, <a href=https://gnmic.openconfig.net/user_guide/HA/#scalability><strong>scaling</strong></a>, and <a href=https://gnmic.openconfig.net/user_guide/HA/#target-distribution-process><strong>target redistribution</strong></a>.</p> <p>A cluster of gNMIc instances distributes the load by locking the targets to certain instances of the cluster. When the cluster is healthy and operational, targets are assigned to specific gNMIc nodes; in the case of a gNMIc node failure, its targets are going to be moved to a healthy gNMIc node.</p> <p><img alt=load-balancing class=img-shadow src=https://gitlab.com/rdodin/pics/-/wikis/uploads/13a2add813af9896deeba7e01b99bfe5/image.png> <center><small>A view on Consul service key/value store with targets distributed across gNMIc instances</small></center></p> <h3 id=target-loaders>Target loaders<a class=headerlink href=#target-loaders title="Permanent link">#</a></h3> <p>Adding gNMI targets to the config file works as long as the number of targets stays reasonable and constant. More often than not, in production deployments, the number of targets is quite large. And what is even more critical, targets are being added/removed over time.<br> Consequently, it is desirable for a controller to be able to discover and load targets automatically.</p> <p>gNMIc supports the <a href=https://gnmic.openconfig.net/user_guide/target_discovery/discovery_intro/ >dynamic loading of gNMI targets</a> from external systems and services. This feature allows adding and deleting gNMI targets without the need to restart gnmic.</p> <p><center><img alt=fileloader src=https://gitlab.com/rdodin/pics/-/wikis/uploads/9aa7cfdeb42ec808dd88960d39af5664/image.png style=width:500px></center></p> <p>Targets can be loaded from the following sources:</p> <ul> <li><a href=https://gnmic.openconfig.net/user_guide/target_discovery/discovery_intro/#file-loader>file:</a> watch for the changes done to a local file containing gNMI targets definitions.</li> <li><a href=https://gnmic.openconfig.net/user_guide/target_discovery/discovery_intro/#consul-server-loader>consul:</a> read targets registered in the Consul service registry.</li> <li><a href=https://gnmic.openconfig.net/user_guide/target_discovery/discovery_intro/#docker-engine-loader>docker:</a> retrieve available targets using Docker API.</li> <li><a href=https://gnmic.openconfig.net/user_guide/target_discovery/discovery_intro/#http-loader>http:</a> read target definition from an HTTP server.</li> </ul> <h3 id=processors>Processors<a class=headerlink href=#processors title="Permanent link">#</a></h3> <p>No collection service can live without a data processing pipeline. Data that the users typically collect from the network elements often requires some processing before it can be stored in a database.</p> <div class=img-shadow> <video width=100% autoplay muted loop><source src=https://gitlab.com/rdodin/pics/-/wikis/uploads/ed1b92e82c436a7d942da9f90825a7f4/2022-10-06_12-09-43.mp4 type=video/mp4></video> </div> <p>Let's have a look at a few examples where processing is mandatory:</p> <ul> <li><strong>Units normalization/conversion</strong>: in a multivendor network it may be needed to normalize units for, say, utilization rate, from various vendors to a common unit. MB, KB to Bytes, or various time formats to a common epoch time or datetime format.</li> <li><strong>Filtering metrics</strong>: when dealing with a wildcard-based subscription, a collector may receive more data than needed. To optimize for space in the database, processors can be used to allow/drop the needed metrics and give you control over what is going to be written to it.</li> <li><strong>Data conversion</strong>: depending on the telemetry encoding or vendor's implementation, a collector might receive data in a string format, while it needs to be an integer. A conversion processor can automatically convert such metrics so that users can run operations on them in the database.</li> <li><strong>Tag extraction</strong>: For certain metrics collected via gNMI, users may need to extract specific values and promote them to metric's tags to enable a nice layout in the database.</li> </ul> <p>gNMIc employs a large <a href=https://gnmic.openconfig.net/user_guide/event_processors/intro/ >set of processors</a> that can help you transform and shape your data the way you need it. Processors can form processing pipelines and be associated with any configured output to enable flexible data pipelines.</p> <table> <thead> <tr> <th><a href=https://gnmic.openconfig.net/user_guide/event_processors/intro/ >Processors</a></th> <th></th> <th></th> <th></th> <th></th> </tr> </thead> <tbody> <tr> <td>Add Tag</td> <td>Allow</td> <td>Convert</td> <td>Data Convert</td> <td>Date String</td> </tr> <tr> <td>Delete</td> <td>Drop</td> <td>Duration Convert</td> <td>Extract Tags</td> <td>Group By</td> </tr> <tr> <td>Jq</td> <td>Merge</td> <td>Override TS</td> <td>Strings</td> <td>To Tag</td> </tr> <tr> <td>Trigger</td> <td>Value Tag</td> <td>Write</td> <td></td> <td></td> </tr> </tbody> </table> <p>Processors become invaluable when Streaming Telemetry leaves the lab's sandbox and gets applied in production where dragons lie.</p> <h3 id=outputs>Outputs<a class=headerlink href=#outputs title="Permanent link">#</a></h3> <p>A Streaming Telemetry typically doesn't store collected data; instead, it pushes the collected and processed data to an output, such as a Time Series Database (TSDB), a message bus, or a file.</p> <p>Various supported outputs make a streaming telemetry collector versatile because it can be deployed in different data pipelines. gNMIc supports a solid <a href=https://gnmic.openconfig.net/user_guide/outputs/output_intro/ >number of outputs</a> categorized as databases, message queues, and files.</p> <p><img alt=outputs src=https://gitlab.com/rdodin/pics/-/wikis/uploads/544494827edd88215fef9c0831afd4e9/image.png></p> <p>Most popular and used <a href=https://gnmic.openconfig.net/user_guide/outputs/output_intro/ >outputs</a> are already supported by gNMIc:</p> <ul> <li><strong>Time Series Databases</strong><ul> <li>InfluxDB</li> <li>Prometheus (pull and remote write models)</li> <li>and others working with Prometheus or Influx wire protocols.</li> </ul> </li> <li><strong>Message queues</strong><ul> <li>NATS</li> <li>STAN</li> <li>Kafka</li> </ul> </li> <li><strong>Raw outputs</strong><ul> <li>TCP, UDP (for example in conjunction with ElasticSearch database)</li> </ul> </li> </ul> <p>With a powerful concept of multiple outputs, users can write their metrics to different data stores and create advanced data pipelines.</p> <h3 id=inputs>Inputs<a class=headerlink href=#inputs title="Permanent link">#</a></h3> <p>Complex telemetry pipelines might be built using gNMIc's concept of <a href=https://gnmic.openconfig.net/user_guide/inputs/input_intro/ >inputs</a>. With inputs, gNMIc is able to receive gNMI data not from an end-device such as a router but from another gNMIc instance.</p> <p>This powerful technique enables users to build <a href=https://gnmic.openconfig.net/user_guide/inputs/input_intro/#clustering>a distributed cluster of gNMIc</a> collectors that export the data to a single collector upstream.</p> <p><img alt=input-clustering src=https://gitlab.com/rdodin/pics/-/wikis/uploads/c823664e68265c3f466a521a621f6988/image.png></p> <p>Or create a so-called <a href=https://gnmic.openconfig.net/user_guide/inputs/input_intro/#data-reuse>data-reuse pipeline</a> where multiple outputs receive the same telemetry data.</p> <p><img alt=data-reuse src=https://gitlab.com/rdodin/pics/-/wikis/uploads/3bae7c583db932a6c972a2828348296c/image.png></p> <h3 id=tunnel-server-gnmi-dial-out>Tunnel server (gNMI dial-out)<a class=headerlink href=#tunnel-server-gnmi-dial-out title="Permanent link">#</a></h3> <p>Dial-out Streaming Telemetry has been a custom thing for quite some time. gNMI specification only specifies the dial-in model where a collector initiates the session towards the gNMI-enabled targets, and not the other way around. But being able to initiate a connection from the router towards a collector is sometimes desirable or even mandatory.</p> <p>To accommodate for that deployment scenario, vendors implemented custom gRPC services that catered to this use case. And recently, the Openconfig group proposed a standard approach to enable dial-out gNMI telemetry using <a href=https://github.com/openconfig/grpctunnel><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg></span> openconfig/grpc-tunnel project</a>.</p> <p><img alt=dialout src=https://gitlab.com/rdodin/pics/-/wikis/uploads/114526863c6ce60b23f232bf88310363/image.png></p> <p>gNMIc is the first open-source collector that <a href=https://gnmic.openconfig.net/user_guide/tunnel_server/ >implements grpc-tunnel specification</a> and thus can support deployment scenarios where dial-out is needed using a proposed standard approach.</p> <h3 id=deployment-examples>Deployment examples<a class=headerlink href=#deployment-examples title="Permanent link">#</a></h3> <p>All those features make gNMIc quite versatile and powerful, but at the same time, it might be <em>overwhelming</em> for newcomers. With that thought in mind, gNMIc packs many <a href=https://gnmic.openconfig.net/deployments/deployments_intro/ >deployment examples</a> that should help users get going quickly and smooth.</p> <p><center><img alt=example src=https://gitlab.com/rdodin/pics/-/wikis/uploads/7facfa7b11895c5432f9adf03a7e5d15/image.png style=width:600px></center> <center><small>A deployment topology from one of the examples</small></center></p> <p>gNMIc deployment examples provide users with a complete use case explanation. Moreover, every example comes with a ready-made virtual testbed<sup id=fnref:2><a class=footnote-ref href=#fn:2>2</a></sup> so that you can try the scenario for yourself.<br> The examples typically include a gNMIc instance with its configuration, the rest of the Telemetry stack (TSDB of choice plus Grafana), and a virtual network to extract the data.</p> <h3 id=what-else>What else?<a class=headerlink href=#what-else title="Permanent link">#</a></h3> <p>Many other things and improvements were made to gNMIc, making it even more powerful.</p> <ul> <li><strong><a href=https://gnmic.openconfig.net/user_guide/gnmi_server/ >gNMI Server</a></strong> that makes gNMIc act as a gNMI target itself to build hierarchical collector deployments.</li> <li><strong><a href=https://gnmic.openconfig.net/user_guide/actions/actions/ >Actions</a></strong> allow gNMIc to invoke reactions based on the received telemetry data and, to some extent, help users build reactive systems.</li> <li><strong><a href=https://gnmic.openconfig.net/user_guide/api/api_intro/ >REST API</a></strong> to automate target provisioning and lifecycle.</li> </ul> <h3 id=why-not-telegraf>Why Not Telegraf?<a class=headerlink href=#why-not-telegraf title="Permanent link">#</a></h3> <p>This question may very well still be on your mind when you reach this chapter. And now, when we walked over the collector's features, it is evident that most of those features are simply not available in Telegraf. Clustering, high availability, target discovery, hierarchical deployments are all unique to gNMIc.</p> <p><center><img alt=scalpel class=img-shadow src=https://gitlab.com/rdodin/pics/-/wikis/uploads/8108e0661fed0b930ba87745ec5812d7/image.png style="width: 600px"></center></p> <p>Telegraf is an excellent product, don't get me wrong, but when it comes to gNMI it is a swiss knife vs. a surgical scalpel.</p> <div class=ext-code-divider> <hr><span class="twemoji vertical-middle"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg></span><hr> </div> <h2 id=go-api>Go API<a class=headerlink href=#go-api title="Permanent link">#</a></h2> <p>And finally, gNMIc provides a human-friendly <a href=https://gnmic.openconfig.net/user_guide/golang_package/intro/ >Go API for gNMI</a>. In contrast with the auto-generated gNMI API supplied by the <code>github.com/openconfig/gnmi</code> package, the API exposed by the gNMIc in the <code>github.com/openconfig/gnmic/api</code> package has abstractions in place that make interactions with gNMI targets less cumbersome and more intuitive.</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:3><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Create gNMI target</label><label for=__tabbed_1_2>Create Get Request</label><label for=__tabbed_1_3>Running request</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>router</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>api</span><span class=p>.</span><span class=nx>NewTarget</span><span class=p>(</span><span class=w></span>
<span class=w>    </span><span class=nx>api</span><span class=p>.</span><span class=nx>Name</span><span class=p>(</span><span class=s>&quot;router1&quot;</span><span class=p>),</span><span class=w></span>
<span class=w>    </span><span class=nx>api</span><span class=p>.</span><span class=nx>Address</span><span class=p>(</span><span class=s>&quot;10.0.0.1:57400&quot;</span><span class=p>),</span><span class=w></span>
<span class=w>    </span><span class=nx>api</span><span class=p>.</span><span class=nx>Username</span><span class=p>(</span><span class=s>&quot;admin&quot;</span><span class=p>),</span><span class=w></span>
<span class=w>    </span><span class=nx>api</span><span class=p>.</span><span class=nx>Password</span><span class=p>(</span><span class=s>&quot;S3cret!&quot;</span><span class=p>),</span><span class=w></span>
<span class=w>    </span><span class=nx>api</span><span class=p>.</span><span class=nx>SkipVerify</span><span class=p>(</span><span class=kc>true</span><span class=p>),</span><span class=w></span>
<span class=p>)</span><span class=w></span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>getRequest</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>api</span><span class=p>.</span><span class=nx>NewGetRequest</span><span class=p>(</span><span class=w></span>
<span class=w>    </span><span class=nx>api</span><span class=p>.</span><span class=nx>Encoding</span><span class=p>(</span><span class=s>&quot;json_ietf&quot;</span><span class=p>),</span><span class=w></span>
<span class=w>    </span><span class=nx>api</span><span class=p>.</span><span class=nx>DataType</span><span class=p>(</span><span class=s>&quot;config&quot;</span><span class=p>),</span><span class=w></span>
<span class=w>    </span><span class=nx>api</span><span class=p>.</span><span class=nx>Path</span><span class=p>(</span><span class=s>&quot;interfaces/interface&quot;</span><span class=p>),</span><span class=w></span>
<span class=w>    </span><span class=nx>api</span><span class=p>.</span><span class=nx>Path</span><span class=p>(</span><span class=s>&quot;network-instances/network-instance&quot;</span><span class=p>),</span><span class=w></span>
<span class=p>)</span><span class=w></span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=nx>getResponse</span><span class=p>,</span><span class=w> </span><span class=nx>err</span><span class=w> </span><span class=o>:=</span><span class=w> </span><span class=nx>router</span><span class=p>.</span><span class=nx>Get</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span><span class=w> </span><span class=nx>getRequest</span><span class=p>)</span><span class=w></span>
</code></pre></div> </div> </div> </div> <p>With a friendly API, we expect to see an uptake in gNMI as a network management protocol being used programmatically. Go get it!</p> <div class=ext-code-divider> <hr><span class="twemoji vertical-middle"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg></span><hr> </div> <h2 id=move-to-openconfig>Move to Openconfig<a class=headerlink href=#move-to-openconfig title="Permanent link">#</a></h2> <p>Now to the meat of it. Nokia donates gNMIc to the Openconfig group. But why moving?</p> <p><a href=#disclaimer>I believe</a> there are several interdependent areas of improvement worth indicating.</p> <ol> <li>The move will help gNMIc to gain more visibility across the expanding field of Streaming Telemetry users.</li> <li>With the popularity gain, we might discover new use cases, new integration opportunities and get more feedback.</li> <li>Close collaboration with Openconfig/Google might bring new contributors to the project and help with sustainability. It is an open-source project, and it will stay open.</li> <li>Being under the wing of Openconfig should help users be less concerned about the project's health should they consider using it in production.</li> </ol> <p>There is a lot of wishful thinking, and we don't know if everything we wish to accomplish will materialize, but we would like to give it a go.</p> <p>Karim, as the sole developer, will still be at the helm of gNMIc development, but we expect more contributors appear in the future.</p> <h2 id=disclaimer>Disclaimer<a class=headerlink href=#disclaimer title="Permanent link">#</a></h2> <ol> <li> <p>I contributed to gNMIc during the project's early days, but 99% of the effort came from Karim Radhouani<sup id=fnref:3><a class=footnote-ref href=#fn:3>3</a></sup>. The credit goes to him for making gNMIc as we know it today. I would also like to thank our contributors who helped shape and form gNMIc with their valuable comments, feedback, and contributions.</p> </li> <li> <p>The thoughts and statements I made in this post belong to me and do not necessarily match Nokia's.</p> </li> </ol> <div class=footnote> <hr> <ol> <li id=fn:1> <p>such as <a href=https://github.com/openconfig/gnmi/blob/480bf53a74d21bb0a82d5d716264874de1070120/proto/gnmi_ext/gnmi_ext.proto#L32>History</a>&#160;<a class=footnote-backref href=#fnref:1 title="Jump back to footnote 1 in the text">&#8617;</a></p> </li> <li id=fn:2> <p>powered by <a href=https://containerlab.dev>containerlab</a> or docker-compose.&#160;<a class=footnote-backref href=#fnref:2 title="Jump back to footnote 2 in the text">&#8617;</a></p> </li> <li id=fn:3> <p>you can find him at <a href=https://www.linkedin.com/in/karim-radhouani/ >linkedin</a> and <a href=https://github.com/karimra>github</a>.&#160;<a class=footnote-backref href=#fnref:3 title="Jump back to footnote 3 in the text">&#8617;</a></p> </li> </ol> </div> <h2 id=__comments>Comments</h2> <script src=https://giscus.app/client.js data-repo=hellt/netdevops.me data-repo-id="MDEwOlJlcG9zaXRvcnkzNTkzNTc5ODc=" data-category="Show and tell" data-category-id=DIC_kwDOFWteI84CRmVn data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=en data-loading=lazy crossorigin=anonymous async>
    </script> <!-- Synchronize Giscus theme with palette --> <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light"
        giscus.setAttribute("data-theme", theme)
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate" ? "dark" : "light"

                /* Instruct Giscus to change theme */
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    { giscus: { setConfig: { theme } } },
                    "https://giscus.app"
                )
            }
        })
    })
</script> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../using-guestfish-container-image/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Using guestfish container image" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Using guestfish container image </div> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs Insiders </a> </div> <div class=md-social> <a href=https://github.com/hellt target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://twitter.com/ntdvps target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.top", "navigation.instant", "navigation.tabs", "search.suggest", "content.code.annotate", "toc.follow", "content.tooltips", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.720157f5.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script> <script src=../../assets/javascripts/bundle.abceede4.min.js></script> </body> </html>